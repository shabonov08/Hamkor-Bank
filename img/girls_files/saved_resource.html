
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">window.onerror = function g(e,t,n,o,r){r&&r.error&&(r=r.error),r&&r instanceof Error||(r={}),r.stack=r.stack||"empty",r.message="Bundle init error: "+e+" error.message: "+r.message,r.columnNumber=o,r.lineNumber=n,r.url=t,window.parent.__jivoOnError(r)};window.base_langpack = {"botListPickerBlock":"–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞ –∏–∑ –∫–Ω–æ–ø–æ–∫ –≤ —á–∞—Ç–µ","botTransferChat":"–î–∏–∞–ª–æ–≥ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞","businessCopyright":"–ë–∏–∑–Ω–µ—Å-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä {0}","byYandex":"—á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å","callback_delayed_button_submit":"–ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫","callback_delayed_period_as_possible":"–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è","callback_delayed_period_delimiter":"–≤","callback_delayed_period_today":"–°–µ–≥–æ–¥–Ω—è","callback_delayed_period_tomorrow":"–ó–∞–≤—Ç—Ä–∞","callback_delayed_submit_fail":"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑","callback_delayed_submit_success":"–°–ø–∞—Å–∏–±–æ!\n–ú—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è","callback_delayed_title":"–ö–æ–≥–¥–∞ –≤–∞–º –ø–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å?","campaign_popup_timer_days":"–¥–Ω–µ–π","campaign_popup_timer_hours":"—á–∞—Å–æ–≤","campaign_popup_timer_minutes":"–º–∏–Ω—É—Ç","campaign_popup_timer_seconds":"—Å–µ–∫—É–Ω–¥","cancel":"–û—Ç–º–µ–Ω–∞","captchaPlaceholder":"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏","captchaPlaceholderAgain":"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –µ—â–µ —Ä–∞–∑","cb_loading":"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...","chat_agent_join":"–û–ø–µ—Ä–∞—Ç–æ—Ä _AGENT_ –ø—Ä–∏–≥–ª–∞—à–µ–Ω –≤ –¥–∏–∞–ª–æ–≥","chat_agent_left":"–û–ø–µ—Ä–∞—Ç–æ—Ä _AGENT_  –≤—ã—à–µ–ª –∏–∑ –¥–∏–∞–ª–æ–≥–∞","chat_on_site":"–ß–∞—Ç c","cobrowseError":"–û—à–∏–±–∫–∞ - —Å—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω","continue":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å","conversation_with":"–ò–¥–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä","cwPopupPutPhone":"–û—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞","cwPopupTime":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è","cw_callAfter":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º —á–µ—Ä–µ–∑","cw_callButtonText":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ","cw_callHeader":"–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫","cw_call_forward":"–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞! –ù–∞—à–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–µ—Ä–µ–∑–≤–æ–Ω—è—Ç –≤–∞–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è","cw_call_to":"–ó–≤–æ–Ω–æ–∫ –Ω–∞","cw_code_restrict":"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä","cw_connecting":"–°–æ–µ–¥–∏–Ω—è–µ–º...","cw_enterPhonePlaceholder":"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω","cw_errInfoText":"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –µ—â–µ —Ä–∞–∑, –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ —á–∞—Ç.","cw_form_second":"—Å–µ–∫—É–Ω–¥—É","cw_form_secondd":"—Å–µ–∫—É–Ω–¥","cw_form_seconds":"—Å–µ–∫—É–Ω–¥—ã","cw_pickUpPhone":"–í–æ–∑—å–º–∏—Ç–µ —Ç—Ä—É–±–∫—É","cw_rate_limit":"–í—ã–∑–æ–≤ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω","cw_reason_all_busy":"–í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–Ω—è—Ç—ã","cw_reason_is_busy":"–í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–Ω—è—Ç—ã","cw_reason_not_picked_up":"–ê–±–æ–Ω–µ–Ω—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç","cw_reason_unavailable":"–°–µ—Ä–≤–∏—Å –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω","cw_repeatCall":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ","cw_repeatCallAgain":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å –µ—â–µ —Ä–∞–∑","cw_thxForCall":"–°–ø–∞—Å–∏–±–æ –≤–∞–º –∑–∞ –∑–≤–æ–Ω–æ–∫!","cw_typeInChat":"–ù–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç","cw_unableToConnect":"–ù–µ —Å–º–æ–≥–ª–∏ —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è?","cw_weCalling":"–ú—ã –≤–∞–º –∑–≤–æ–Ω–∏–º","cw_weRecallAfter":"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∏ –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –∑–∞","c_callDisconnected":"–í—ã–∑–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω","defCallformTitle":"–ù—É–∂–Ω–∞¬†–ø–æ–º–æ—â—å? –ú—ã¬†–ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º —á–µ—Ä–µ–∑ _SEC_¬†—Å–µ–∫—É–Ω–¥!","defOfflineFormText":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ. \n–£ –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã? –ú—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –æ—Ç–≤–µ—Ç–∏–º!","defOfflineFormText2":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ. \n–£ –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã? –ú—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –æ—Ç–≤–µ—Ç–∏–º!","defOfflineFormText_old":"–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —ç—Ç–æ–π —Ñ–æ—Ä–º–µ, –º—ã –ø–æ–ª—É—á–∏–º –µ–≥–æ –Ω–∞ e-mail –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏–º!","defOfflineWidgetLabel":"–û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ","defOfflineWidgetLabelMobile":"–°–æ–æ–±—â–µ–Ω–∏–µ","defOnlineWidgetLabel":"–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º, –º—ã –æ–Ω–ª–∞–π–Ω!","defOnlineWidgetLabelMobile":"–ß–∞—Ç","defRuleInvitationText":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –º–æ–≥—É –≤–∞–º —á–µ–º-—Ç–æ –ø–æ–º–æ—á—å?","defRuleRetaining":"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ. –°–µ–π—á–∞—Å –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–Ω—è—Ç—ã, –Ω–æ —Å–∫–æ—Ä–æ –∫—Ç–æ-–Ω–∏–±—É–¥—å –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è –∏ –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º!","defRuleRetainingEmail":"–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç? –ü–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—á—Ç—É!","disconnect_msg":"–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏...","downloadChatText":"–°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞","enterEmailPlaceholder":"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email","error_message_sending":"–û—Ç–ø—Ä–∞–≤–ª—è–µ–º","error_resend":"–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â–µ —Ä–∞–∑?","error_send":"–ù–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ","eulaPopupCheckText":"–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å","eulaPopupLinkText":"—É—Å–ª–æ–≤–∏—è–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö","eula_custom_agreement":"–°—Ç–∞–≤—è –æ—Ç–º–µ—Ç–∫—É, —è –¥–∞—é —Å–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–º –∏ –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è","eula_custom_title":"–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö","eula_link":"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ","eula_phone":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞ –Ω–æ–º–µ—Ä","file_upl_cancel":"–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞","file_upl_download":"–°–∫–∞—á–∞—Ç—å","file_upl_error":"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏","file_upl_error_max_size":"–û—à–∏–±–∫–∞ ‚Äì —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –±–æ–ª—å—à–µ _FILESIZE_","file_upl_error_no_ext":"–û—à–∏–±–∫–∞ ‚Äì –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º","file_upl_expired":"–°—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞","introduce_in_chat":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å –≤ —á–∞—Ç–µ","introduce_or":"–∏–ª–∏","introduce_social":"–õ–∏–±–æ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑","introduce_text":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–∏—à—É—Ç –≤–∞–º –æ—Ç–≤–µ—Ç","invalid_email":"–ù–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.","invoiceEmail":"Email –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ–∫–∞","label_fb_text":"–°–æ–æ–±—â–µ–Ω–∏–µ –≤ Facebook","label_vk_text":"–°–æ–æ–±—â–µ–Ω–∏–µ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ","lbAbcText":"Apple –°–æ–æ–±—â–µ–Ω–∏—è","lblCallMe":"–ü–æ–∑–≤–æ–Ω–∏—Ç—å","lblCaptcha":"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏","lblCaptchaError":"–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥, –≤–≤–µ–¥–∏—Ç–µ –µ—â–µ —Ä–∞–∑","lblConnectedToAgent":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblDeclineFile":"–û—Ç–∫–ª–æ–Ω–∏—Ç—å","lblDefaultCobrowseComment":"–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ","lblEnterMessageHere":"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblEnterMessageOrPhoneHere":"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)","lblEvaluateCancel":"–û—Ç–º–µ–Ω–∏—Ç—å","lblEvaluatePlease":"–û—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è","lblEvaluateThanks":"–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ü–µ–Ω–∫—É!","lblHangUp":"–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ","lblIntroduceName":"–í–∞—à–µ –∏–º—è","lblIntroduceRequest":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å –≤ —á–∞—Ç–µ","lblIntroduceRequestBefore":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å –∏ –Ω–∞—á–Ω–∏—Ç–µ —á–∞—Ç!","lblLeaveMessage":"–û—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ","lblMessageHere":"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblMessagesApp":"–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ Messages App","lblNewMessage":"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!","lblOfflineMessageSend":"–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ","lblOperatorsOnline":"–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–Ω–ª–∞–π–Ω!","lblPencilHint":"–û–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ","lblPhoto":"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è","lblPwrBy":"–ß–∞—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω <a href=\"http://www.jivosite.ru/_URL_\" target=\"_blank\"><span class=\"j1\">Jivo</span><span class=\"j2\">Site</span></a>","lblReceiveFile":"–ü—Ä–∏–Ω—è—Ç—å","lblReply":"–û—Ç–≤–µ—Ç–∏—Ç—å","lblSelectDep":"–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–¥–µ–ª","lblSend":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å","lblSendBefore":"–ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥","lblSendingFile":"_AGENT_ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤–∞–º —Ñ–∞–π–ª: _FILE_","lblThanks":"–°–ø–∞—Å–∏–±–æ! üéâ","lblThankYouMessage":"–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ! –ú—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è","lblTransferred":"–î–∏–∞–ª–æ–≥ –ø–µ—Ä–µ–¥–∞–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä—É _AGENT_","lblView":"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å","lblYou":"–í—ã","lblYourEmail":"–í–∞—à e-mail","lblYourMessage":"–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblYourPhone":"–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω","lnkCloseThisWindow":"–ó–∞–∫—Ä—ã—Ç—å","maintenanceBlockedPlaceholder":"–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞","maintenanceSystemText":"–í–Ω–∏–º–∞–Ω–∏–µ! –ú—ã –ø—Ä–æ–≤–æ–¥–∏–º –ø–ª–∞–Ω–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —á–∞—Ç –ª—É—á—à–µ. –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –æ–Ω –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç—É —Å–Ω–æ–≤–∞. –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –æ–∂–∏–¥–∞–Ω–∏–µ.","messageDeleted":"–°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ","messageEdit":"–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ","offlineAgentConnected":"–û–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ –¥–∏–∞–ª–æ–≥—É","offlineBlockedInputPlaceholder":"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã","offlineForceOfflineMessage":"–ü–æ—Ö–æ–∂–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–µ–π—á–∞—Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏","offlineIntroductionText":"–£–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã, —á—Ç–æ–±—ã –º—ã —Å–º–æ–≥–ª–∏ –æ—Ç–≤–µ—Ç–∏—Ç—å –≤–∞–º","offlineSuccessContactsSubmit":"–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è. –û—Ç–≤–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø—Ä–∏–¥–µ—Ç –≤ —á–∞—Ç –∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–∞–∫—Ç–∞–º.","omni_sb_link":"–°–∞–ª—é—Ç","onlineChat":"–û–Ω–ª–∞–π–Ω —á–∞—Ç","paymentsInvoice":"–°—á–µ—Ç ‚Ññ","paymentsPay":"–ó–∞–ø–ª–∞—Ç–∏—Ç—å","paymentsSuccess":"—É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω","phone_mask_search_placeholder":"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –∏–ª–∏ –∫–æ–¥ –Ω–æ–º–µ—Ä–∞","popupLogoText":"–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑","powerBtnMenuTitle":"–ö–∞–∫ –≤–∞–º —É–¥–æ–±–Ω–µ–µ —Å –Ω–∞–º–∏ —Å–≤—è–∑–∞—Ç—å—Å—è?","prechatText":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!","prechatText2":"–ú–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å","prechatText3":"–í—ã –º–æ–∂–µ—Ç–µ –º–Ω–µ –ø–æ–º–æ—á—å?","proactiveReplyTitle":"–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ —á–∞—Ç–µ","rateFormCommentTitle":"–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π","rateFormFinishText":"–†–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å","rateFormFinishTextNegative":"–ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –¥–µ–ª–∞—Ç—å –ª—É—á—à–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–∞—Å. –ù–∞–º –µ—Å—Ç—å –Ω–∞–¥ —á–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å.","rateFormFinishTitle":"–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–∑—ã–≤","rateFormText":"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –æ—Ç–≤–µ—Ç–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞?","rateFormTitle":"–û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤","rate_default_condition_name":"chat_finished","rate_default_condition_value":null,"rate_default_rate_type":"two","reconnect_msg":"–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ","searchNotFound":"–ù–µ –Ω–∞–π–¥–µ–Ω–æ","seo_copyrightTextNew":"–ß–∞—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω {0}","service_from":"–°–µ—Ä–≤–∏—Å –æ—Ç","social_fb":"–≤ Facebook","social_get_access":"–ù–µ —Ö–æ—Ç–∏—Ç–µ –∂–¥–∞—Ç—å? \n–ü–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ!","social_get_access_fb":"–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∂–¥–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ! –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–º –æ—Ç–≤–µ—Ç –≤ Messenger","social_get_access_sb":"–ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –°–∞–ª—é—Ç, –Ω–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞ –Ω–∞ QR-–∫–æ–¥","social_im":"–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º","social_online_text":"–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤ —Å–µ—Ç–∏ –∏ —Å–∫–æ—Ä–æ –æ—Ç–≤–µ—Ç—è—Ç","social_process_in":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥","social_process_in_fb":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤","social_process_in_sb":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É –≤","social_process_vk":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥ _ICON_–í–ö–æ–Ω—Ç–∞–∫—Ç–µ","social_success_email":"–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –æ—Å—Ç–∞–≤–∏–ª–∏ –≤–∞—à –∞–¥—Ä–µ—Å! –ö–æ–≥–¥–∞ –ø—Ä–∏–¥–µ—Ç –æ—Ç–≤–µ—Ç, –æ—Ç–ø—Ä–∞–≤–∏–º –µ–≥–æ –Ω–∞ _EMAIL_ –∏ –≤ —ç—Ç–æ—Ç —á–∞—Ç.","social_success_fb":"Messenger –ø–æ–¥–∫–ª—é—á–µ–Ω! üëç \n–ï—Å–ª–∏ –≤—ã —É–π–¥–µ—Ç–µ —Å —Å–∞–π—Ç–∞, —Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏–¥—É—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç –∏ –≤ Messenger","social_success_sb":"–°–∞–ª—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω! üëç\n–ú–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –°–∞–ª—é—Ç. –ü–µ—Ä–µ–ø–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±–æ–∏—Ö —á–∞—Ç–∞—Ö","social_success_vk":"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –≤–∫–ª—é—á–µ–Ω—ã! üëç  –ï—Å–ª–∏ –≤—ã —É–π–¥–µ—Ç–µ —Å —Å–∞–π—Ç–∞, —Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏–¥—É—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç –∏ –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ","social_text_1":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ","social_text_2":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–Ω—É—Ç","social_text_3":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞","social_text_4":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤","social_text_5":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –¥–Ω—è","social_vk":"–í–ö–æ–Ω—Ç–∞–∫—Ç–µ","today":"–°–µ–≥–æ–¥–Ω—è","tryAgain":"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å","webrtc_accept_text":"–ü—Ä–∏–º–∏—Ç–µ –∑–≤–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ —Å–∞–π—Ç –∏ –∑–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏–ª–∏ –≥–∞—Ä–Ω–∏—Ç—É—Ä—É. –í–∞—à–∞ –∫–∞–º–µ—Ä–∞ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è.","webrtc_call":"–ó–≤–æ–Ω–æ–∫","webrtc_callfinished":"–ó–∞–≤–µ—Ä—à—ë–Ω","webrtc_call_end":"–ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω","webrtc_call_inprogress":"–ò–¥–µ—Ç –∑–≤–æ–Ω–æ–∫","webrtc_choose_mic":"–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω","webrtc_error":"–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è","webrtc_from_site":"–ó–≤–æ–Ω–æ–∫ —Å —Å–∞–π—Ç–∞","webrtc_mic":"–ú–∏–∫—Ä–æ—Ñ–æ–Ω","webrtc_mic_blocked":"–£–≤—ã, –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫–ª—é—á–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É","webrtc_need_mic_access":"–î–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É","webrtc_not_now":"–°–µ–π—á–∞—Å –Ω–µ –º–æ–≥—É","webrtc_rejected":"–û—Ç–∫–ª–æ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º","webrtc_start_call":"–ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫","webrtc_try_again":"–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ —Ä–∞–∑","webrtc_video_text_message":"–Ø —Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –≤–∏–¥–µ–æ–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é","webrtc_video_text_popup":"–ó–∞–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é","webrtc_wrong":"–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫","yesterday":"–í—á–µ—Ä–∞"};!function(){var e,t,n,i,r={13862:function(e,t,n){"use strict";n.r(t),n.d(t,{EnhancerArray:function(){return k},MiddlewareArray:function(){return I},SHOULD_AUTOBATCH:function(){return He},TaskAbortError:function(){return Te},__DO_NOT_USE__ActionTypes:function(){return r.Kf},addListener:function(){return Le},applyMiddleware:function(){return r.md},autoBatchEnhancer:function(){return qe},bindActionCreators:function(){return r.DE},clearAllListeners:function(){return Fe},combineReducers:function(){return r.UY},compose:function(){return r.qC},configureStore:function(){return B},createAction:function(){return W},createAsyncThunk:function(){return oe},createDraftSafeSelector:function(){return O},createEntityAdapter:function(){return Q},createImmutableStateInvariantMiddleware:function(){return R},createListenerMiddleware:function(){return We},createNextState:function(){return i.ZP},createReducer:function(){return $},createSelector:function(){return d},createSerializableStateInvariantMiddleware:function(){return F},createSlice:function(){return q},createStore:function(){return r.MT},current:function(){return i.Vk},findNonSerializableValue:function(){return N},freeze:function(){return i.vV},getDefaultMiddleware:function(){return j},getType:function(){return G},isAction:function(){return U},isAllOf:function(){return ue},isAnyOf:function(){return le},isAsyncThunkAction:function(){return _e},isDraft:function(){return i.mv},isFluxStandardAction:function(){return H},isFulfilled:function(){return he},isImmutableDefault:function(){return P},isPending:function(){return fe},isPlain:function(){return x},isPlainObject:function(){return A},isRejected:function(){return pe},isRejectedWithValue:function(){return ge},legacy_createStore:function(){return r.jB},miniSerializeError:function(){return re},nanoid:function(){return ee},original:function(){return i.Js},prepareAutoBatched:function(){return ze},removeListener:function(){return je},unwrapResult:function(){return ae}});var i=n(12902),r=n(83105),o="NOT_FOUND";var a=function(e,t){return e===t};function s(e,t){var n,i,r="object"==typeof t?t:{equalityCheck:t},s=r.equalityCheck,l=void 0===s?a:s,u=r.maxSize,c=void 0===u?1:u,d=r.resultEqualityCheck,f=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var i=t.length,r=0;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}}(l),p=1===c?(n=f,{get:function(e){return i&&n(i.key,e)?i.value:o},put:function(e,t){i={key:e,value:t}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var r=n[i];return i>0&&(n.splice(i,1),n.unshift(r)),r.value}return o}return{get:i,put:function(t,r){i(t)===o&&(n.unshift({key:t,value:r}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,f);function g(){var t=p.get(arguments);if(t===o){if(t=e.apply(null,arguments),d){var n=p.getEntries(),i=n.find((function(e){return d(e.value,t)}));i&&(t=i.value)}p.put(arguments,t)}return t}return g.clearCache=function(){return p.clear()},g}function l(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=0,s={memoizeOptions:void 0},u=i.pop();if("object"==typeof u&&(s=u,u=i.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s,d=c.memoizeOptions,f=void 0===d?n:d,p=Array.isArray(f)?f:[f],g=l(i),h=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(p)),_=e((function(){for(var e=[],t=g.length,n=0;n<t;n++)e.push(g[n].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(_,{resultFunc:u,memoizedResultFunc:h,dependencies:g,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),_};return r}var c,d=u(s),f=n(53894),p=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},_=Object.defineProperty,m=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,C=function(e,t,n){return t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},T=function(e,t){for(var n in t||(t={}))b.call(t,n)&&C(e,n,t[n]);if(y)for(var i=0,r=y(t);i<r.length;i++){n=r[i];E.call(t,n)&&C(e,n,t[n])}return e},D=function(e,t){return m(e,v(t))},w=function(e,t,n){return new Promise((function(i,r){var o=function(e){try{s(n.next(e))}catch(e){r(e)}},a=function(e){try{s(n.throw(e))}catch(e){r(e)}},s=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d.apply(void 0,e),r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,h([(0,i.mv)(e)?(0,i.Vk)(e):e],t))};return r},S="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r.qC:r.qC.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function A(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var I=function(e){function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return p(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,h([void 0],e[0].concat(this)))):new(t.bind.apply(t,h([void 0],e.concat(this))))},t}(Array),k=function(e){function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return p(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,h([void 0],e[0].concat(this)))):new(t.bind.apply(t,h([void 0],e.concat(this))))},t}(Array);function M(e){return(0,i.o$)(e)?(0,i.ZP)(e,(function(){})):e}function P(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function R(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function x(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||A(e)}function N(e,t,n,i,r,o){var a;if(void 0===t&&(t=""),void 0===n&&(n=x),void 0===r&&(r=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(null==o?void 0:o.has(e))return!1;for(var s=null!=i?i(e):Object.entries(e),l=r.length>0,u=function(e,s){var u=t?t+"."+e:e;if(l&&r.some((function(e){return e instanceof RegExp?e.test(u):u===e})))return"continue";return n(s)?"object"==typeof s&&(a=N(s,u,n,i,r,o))?{value:a}:void 0:{value:{keyPath:u,value:s}}},c=0,d=s;c<d.length;c++){var f=d[c],p=u(f[0],f[1]);if("object"==typeof p)return p.value}return o&&L(e)&&o.add(e),!1}function L(e){if(!Object.isFrozen(e))return!1;for(var t=0,n=Object.values(e);t<n.length;t++){var i=n[t];if("object"==typeof i&&null!==i&&!L(i))return!1}return!0}function F(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function j(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,i=(e.immutableCheck,e.serializableCheck,new I);return n&&("boolean"==typeof n?i.push(f.default):i.push(f.default.withExtraArgument(n.extraArgument))),i}function B(e){var t,n=function(e){return j(e)},i=e||{},o=i.reducer,a=void 0===o?void 0:o,s=i.middleware,l=void 0===s?n():s,u=i.devTools,c=void 0===u||u,d=i.preloadedState,f=void 0===d?void 0:d,p=i.enhancers,g=void 0===p?void 0:p;if("function"==typeof a)t=a;else{if(!A(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,r.UY)(a)}var _=l;"function"==typeof _&&(_=_(n));var m=r.md.apply(void 0,_),v=r.qC;c&&(v=S(T({trace:!1},"object"==typeof c&&c)));var y=new k(m),b=y;Array.isArray(g)?b=h([m],g):"function"==typeof g&&(b=g(y));var E=v.apply(void 0,b);return(0,r.MT)(t,f,E)}function W(e,t){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return T(T({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function U(e){return A(e)&&"type"in e}function H(e){return U(e)&&"string"==typeof e.type&&Object.keys(e).every(z)}function z(e){return["type","payload","error","meta"].indexOf(e)>-1}function G(e){return""+e}function V(e){var t,n={},i=[],r={addCase:function(e,t){var i="string"==typeof e?e:e.type;if(i in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[i]=t,r},addMatcher:function(e,t){return i.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,i,t]}function $(e,t,n,r){void 0===n&&(n=[]);var o,a="function"==typeof t?V(t):[t,n,r],s=a[0],l=a[1],u=a[2];if("function"==typeof e)o=function(){return M(e())};else{var c=M(e);o=function(){return c}}function d(e,t){void 0===e&&(e=o());var n=h([s[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if((0,i.mv)(e))return void 0===(r=n(e,t))?e:r;if((0,i.o$)(e))return(0,i.ZP)(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return d.getInitialState=o,d}function q(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof e.initialState?e.initialState:M(e.initialState),r=e.reducers||{},o=Object.keys(r),a={},s={},l={};function u(){var t="function"==typeof e.extraReducers?V(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,l=t[2],u=void 0===l?void 0:l,c=T(T({},r),s);return $(i,(function(e){for(var t in c)e.addCase(t,c[t]);for(var n=0,i=a;n<i.length;n++){var r=i[n];e.addMatcher(r.matcher,r.reducer)}u&&e.addDefaultCase(u)}))}return o.forEach((function(e){var n,i,o=r[e],u=t+"/"+e;"reducer"in o?(n=o.reducer,i=o.prepare):n=o,a[e]=n,s[u]=n,l[e]=i?W(u,i):W(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}function Z(e){return function(t,n){var r=function(t){H(n)?e(n.payload,t):e(n,t)};return(0,i.mv)(t)?(r(t),t):(0,i.ZP)(t,r)}}function K(e,t){return t(e)}function Y(e){return Array.isArray(e)||(e=Object.values(e)),e}function J(e,t,n){for(var i=[],r=[],o=0,a=e=Y(e);o<a.length;o++){var s=a[o],l=K(s,t);l in n.entities?r.push({id:l,changes:s}):i.push(s)}return[i,r]}function X(e){function t(t,n){var i=K(t,e);i in n.entities||(n.ids.push(i),n.entities[i]=t)}function n(e,n){for(var i=0,r=e=Y(e);i<r.length;i++){t(r[i],n)}}function i(t,n){var i=K(t,e);i in n.entities||n.ids.push(i),n.entities[i]=t}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var i={},r={};if(t.forEach((function(e){e.id in n.entities&&(r[e.id]={id:e.id,changes:T(T({},r[e.id]?r[e.id].changes:null),e.changes)})})),(t=Object.values(r)).length>0){var o=t.filter((function(t){return function(t,n,i){var r=i.entities[n.id],o=Object.assign({},r,n.changes),a=K(o,e),s=a!==n.id;return s&&(t[n.id]=a,delete i.entities[n.id]),i.entities[a]=o,s}(i,t,n)})).length>0;o&&(n.ids=Object.keys(n.entities))}}function a(t,i){var r=J(t,e,i),a=r[0];o(r[1],i),n(a,i)}return{removeAll:(s=function(e){Object.assign(e,{ids:[],entities:{}})},l=Z((function(e,t){return s(t)})),function(e){return l(e,void 0)}),addOne:Z(t),addMany:Z(n),setOne:Z(i),setMany:Z((function(e,t){for(var n=0,r=e=Y(e);n<r.length;n++){i(r[n],t)}})),setAll:Z((function(e,t){e=Y(e),t.ids=[],t.entities={},n(e,t)})),updateOne:Z((function(e,t){return o([e],t)})),updateMany:Z(o),upsertOne:Z((function(e,t){return a([e],t)})),upsertMany:Z(a),removeOne:Z((function(e,t){return r([e],t)})),removeMany:Z(r)};var s,l}function Q(e){void 0===e&&(e={});var t=T({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,i=t.sortComparer,r={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},i=O(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),r=function(e,t){return t},o=function(e,t){return e[t]},a=O(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:i,selectTotal:a,selectById:O(n,r,o)};var s=O(e,n);return{selectIds:O(e,t),selectEntities:s,selectAll:O(e,i),selectTotal:O(e,a),selectById:O(s,r,o)}}},a=i?function(e,t){var n=X(e);function i(t,n){var i=(t=Y(t)).filter((function(t){return!(K(t,e)in n.entities)}));0!==i.length&&s(i,n)}function r(e,t){0!==(e=Y(e)).length&&s(e,t)}function o(t,n){for(var i=!1,r=0,o=t;r<o.length;r++){var a=o[r],s=n.entities[a.id];if(s){i=!0,Object.assign(s,a.changes);var u=e(s);a.id!==u&&(delete n.entities[a.id],n.entities[u]=s)}}i&&l(n)}function a(t,n){var r=J(t,e,n),a=r[0];o(r[1],n),i(a,n)}function s(t,n){t.forEach((function(t){n.entities[e(t)]=t})),l(n)}function l(n){var i=Object.values(n.entities);i.sort(t);var r=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,r)||(n.ids=r)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Z((function(e,t){return i([e],t)})),updateOne:Z((function(e,t){return o([e],t)})),upsertOne:Z((function(e,t){return a([e],t)})),setOne:Z((function(e,t){return r([e],t)})),setMany:Z(r),setAll:Z((function(e,t){e=Y(e),t.entities={},t.ids=[],i(e,t)})),addMany:Z(i),updateMany:Z(o),upsertMany:Z(a)}}(n,i):X(n);return T(T(T({selectId:n,sortComparer:i},r),o),a)}var ee=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},te=["name","message","stack","code"],ne=function(e,t){this.payload=e,this.meta=t},ie=function(e,t){this.payload=e,this.meta=t},re=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,i=te;n<i.length;n++){var r=i[n];"string"==typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}},oe=function(){function e(e,t,n){var i=W(e+"/fulfilled",(function(e,t,n,i){return{payload:e,meta:D(T({},i||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),r=W(e+"/pending",(function(e,t,n){return{payload:void 0,meta:D(T({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=W(e+"/rejected",(function(e,t,i,r,o){return{payload:r,error:(n&&n.serializeError||re)(e||"Rejected"),meta:D(T({},o||{}),{arg:i,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,u){var c,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):ee(),f=new a;function p(e){c=e,f.abort()}var h=function(){return w(this,null,(function(){var a,h,_,m,v,y;return g(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:l,extra:u}),null===(b=m)||"object"!=typeof b||"function"!=typeof b.then?[3,2]:[4,m];case 1:m=g.sent(),g.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(r(d,e,null==(h=null==n?void 0:n.getPendingMeta)?void 0:h.call(n,{requestId:d,arg:e},{getState:l,extra:u}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new ne(e,t)},fulfillWithValue:function(e,t){return new ie(e,t)}})).then((function(t){if(t instanceof ne)throw t;return t instanceof ie?i(t.payload,d,e,t.meta):i(t,d,e)}))])];case 3:return _=g.sent(),[3,5];case 4:return y=g.sent(),_=y instanceof ne?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(_)&&_.meta.condition||s(_),[2,_]}var b}))}))}();return Object.assign(h,{abort:p,requestId:d,arg:e,unwrap:function(){return h.then(ae)}})}}),{pending:r,rejected:o,fulfilled:i,typePrefix:e})}return e.withTypes=function(){return e},e}();function ae(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var se=function(e,t){return(n=e)&&"function"==typeof n.match?e.match(t):e(t);var n};function le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return se(e,t)}))}}function ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return se(e,t)}))}}function ce(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,i=t.indexOf(e.meta.requestStatus)>-1;return n&&i}function de(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ce(e,["pending"])}:de(e)?function(t){var n=e.map((function(e){return e.pending}));return le.apply(void 0,n)(t)}:fe()(e[0])}function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ce(e,["rejected"])}:de(e)?function(t){var n=e.map((function(e){return e.rejected}));return le.apply(void 0,n)(t)}:pe()(e[0])}function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||de(e)?function(t){return ue(pe.apply(void 0,e),n)(t)}:ge()(e[0])}function he(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ce(e,["fulfilled"])}:de(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return le.apply(void 0,n)(t)}:he()(e[0])}function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ce(e,["pending","fulfilled","rejected"])}:de(e)?function(t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];n.push(o.pending,o.rejected,o.fulfilled)}return le.apply(void 0,n)(t)}:_e()(e[0])}var me=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},ve=function(){},ye=function(e,t){return void 0===t&&(t=ve),e.catch(t),e},be=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Ee=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ce="listener-cancelled",Te=function(e){this.code=e,this.name="TaskAbortError",this.message="task cancelled (reason: "+e+")"},De=function(e){if(e.aborted)throw new Te(e.reason)};function we(e,t){var n=ve;return new Promise((function(i,r){var o=function(){return r(new Te(e.reason))};e.aborted?o():(n=be(e,o),t.finally((function(){return n()})).then(i,r))})).finally((function(){n=ve}))}var Oe=function(e){return function(t){return ye(we(e,t).then((function(t){return De(e),t})))}},Se=function(e){var t=Oe(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},Ae=Object.assign,Ie={},ke="listenerMiddleware",Me=function(e){return function(t){me(t,"taskExecutor");var n,i=new AbortController;n=i,be(e,(function(){return Ee(n,e.reason)}));var r,o,a=(r=function(){return w(void 0,null,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return De(e),De(i.signal),[4,t({pause:Oe(i.signal),delay:Se(i.signal),signal:i.signal})];case 1:return n=r.sent(),De(i.signal),[2,n]}}))}))},o=function(){return Ee(i,"task-completed")},w(void 0,null,(function(){var e;return g(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,r()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof Te?"cancelled":"rejected",error:e}];case 4:return null==o||o(),[7];case 5:return[2]}}))})));return{result:Oe(e)(a),cancel:function(){Ee(i,"task-cancelled")}}}},Pe=function(e,t){return function(n,i){return ye(function(n,i){return w(void 0,null,(function(){var r,o,a,s;return g(this,(function(l){switch(l.label){case 0:De(t),r=function(){},o=new Promise((function(t,i){var o=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});r=function(){o(),i()}})),a=[o],null!=i&&a.push(new Promise((function(e){return setTimeout(e,i,null)}))),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,we(t,Promise.race(a))];case 2:return s=l.sent(),De(t),[2,s];case 3:return r(),[7];case 4:return[2]}}))}))}(n,i))}},Re=function(e){var t=e.type,n=e.actionCreator,i=e.matcher,r=e.predicate,o=e.effect;if(t)r=W(t).match;else if(n)t=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return me(o,"options.listener"),{predicate:r,type:t,effect:o}},xe=function(e){e.pending.forEach((function(e){Ee(e,Ce)}))},Ne=function(e,t,n){try{e(t,n)}catch(e){setTimeout((function(){throw e}),0)}},Le=W(ke+"/add"),Fe=W(ke+"/removeAll"),je=W(ke+"/remove"),Be=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,h([ke+"/error"],e))};function We(e){var t=this;void 0===e&&(e={});var n=new Map,i=e.extra,r=e.onError,o=void 0===r?Be:r;me(o,"onError");var a=function(e){for(var t=0,i=Array.from(n.values());t<i.length;t++){var r=i[t];if(e(r))return r}},s=function(e){var t=a((function(t){return t.effect===e.effect}));return t||(t=function(e){var t=Re(e),n=t.type,i=t.predicate,r=t.effect;return{id:ee(),effect:r,type:n,predicate:i,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}}(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&xe(e)}}(t)},l=function(e){var t=Re(e),n=t.type,i=t.effect,r=t.predicate,o=a((function(e){return("string"==typeof n?e.type===n:e.predicate===r)&&e.effect===i}));return o&&(o.unsubscribe(),e.cancelActive&&xe(o)),!!o},u=function(e,r,a,l){return w(t,null,(function(){var t,u,c;return g(this,(function(d){switch(d.label){case 0:t=new AbortController,u=Pe(s,t.signal),d.label=1;case 1:return d.trys.push([1,3,4,5]),e.pending.add(t),[4,Promise.resolve(e.effect(r,Ae({},a,{getOriginalState:l,condition:function(e,t){return u(e,t).then(Boolean)},take:u,delay:Se(t.signal),pause:Oe(t.signal),extra:i,signal:t.signal,fork:Me(t.signal),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,n,i){e!==t&&(Ee(e,Ce),i.delete(e))}))}})))];case 2:return d.sent(),[3,5];case 3:return(c=d.sent())instanceof Te||Ne(o,c,{raisedBy:"effect"}),[3,5];case 4:return Ee(t,"listener-completed"),e.pending.delete(t),[7];case 5:return[2]}}))}))},c=function(e){return function(){e.forEach(xe),e.clear()}}(n);return{middleware:function(e){return function(t){return function(i){if(!U(i))return t(i);if(Le.match(i))return s(i.payload);if(!Fe.match(i)){if(je.match(i))return l(i.payload);var r,a=e.getState(),d=function(){if(a===Ie)throw new Error(ke+": getOriginalState can only be called synchronously");return a};try{if(r=t(i),n.size>0)for(var f=e.getState(),p=Array.from(n.values()),g=0,h=p;g<h.length;g++){var _=h[g],m=!1;try{m=_.predicate(i,f,a)}catch(e){m=!1,Ne(o,e,{raisedBy:"predicate"})}m&&u(_,i,e,d)}}finally{a=Ie}return r}c()}}},startListening:s,stopListening:l,clearListeners:c}}var Ue,He="RTK_autoBatch",ze=function(){return function(e){var t;return{payload:e,meta:(t={},t[He]=!0,t)}}},Ge="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis):function(e){return(Ue||(Ue=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},Ve=function(e){return function(t){setTimeout(t,e)}},$e="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ve(10),qe=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(void 0,n),o=!0,a=!1,s=!1,l=new Set,u="tick"===e.type?Ge:"raf"===e.type?$e:"callback"===e.type?e.queueNotification:Ve(e.timeout),c=function(){s=!1,a&&(a=!1,l.forEach((function(e){return e()})))};return Object.assign({},r,{subscribe:function(e){var t=r.subscribe((function(){return o&&e()}));return l.add(e),function(){t(),l.delete(e)}},dispatch:function(e){var t;try{return o=!(null==(t=null==e?void 0:e.meta)?void 0:t[He]),(a=!o)&&(s||(s=!0,u(c))),r.dispatch(e)}finally{o=!0}}})}}};(0,i.pV)()},83105:function(e,t,n){"use strict";n.d(t,{DE:function(){return p},Kf:function(){return s},MT:function(){return u},UY:function(){return d},jB:function(){return c},md:function(){return h},qC:function(){return g}});var i=n(28683);function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(u)(e,t)}if("function"!=typeof e)throw new Error(r(2));var a=e,c=t,d=[],f=d,p=!1;function g(){f===d&&(f=d.slice())}function h(){if(p)throw new Error(r(3));return c}function _(e){if("function"!=typeof e)throw new Error(r(4));if(p)throw new Error(r(5));var t=!0;return g(),f.push(e),function(){if(t){if(p)throw new Error(r(6));t=!1,g();var n=f.indexOf(e);f.splice(n,1),d=null}}}function m(e){if(!l(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if(p)throw new Error(r(9));try{p=!0,c=a(c,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(r(10));a=e,m({type:s.REPLACE})}function y(){var e,t=_;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(r(11));function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o]=function(){return this},e}return m({type:s.INIT}),(i={dispatch:m,subscribe:_,getState:h,replaceReducer:v})[o]=y,i}var c=u;function d(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:s.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,o={},s=0;s<l.length;s++){var u=l[s],c=n[u],d=e[u],f=c(d,t);if(void 0===f){t&&t.type;throw new Error(r(14))}o[u]=f,i=i||f!==d}return(i=i||l.length!==Object.keys(e).length)?o:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error(r(16));var n={};for(var i in e){var o=e[i];"function"==typeof o&&(n[i]=f(o,t))}return n}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(r(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));return o=g.apply(void 0,s)(n.dispatch),(0,i.Z)((0,i.Z)({},n),{},{dispatch:o})}}}},93379:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},54720:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=i(n(98661)),c=n(9393),d=i(n(4855)),f=n(89766);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}const g=d.default.name("BaseComponent");let h=function(e){(0,a.default)(n,e);var t=p(n);function n(e){var i;return(0,r.default)(this,n),(i=t.call(this,e)).listeners=[],i.emitter=new f.EventEmitter,i}return(0,o.default)(n,[{key:"subscribe",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"trigger",value:function(e,t){this.emitter.emit(e,t)}},{key:"delegate",value:function(e,t){return function(n){for(var i=n.target;i!==n.currentTarget;){var r=i.getAttribute("dgName");if(r&&r===e)return n.delegateTarget=i,t(n);i=i.parentNode}}}},{key:"on",value:function(){var e,t=Array.prototype.slice.call(arguments),n=t[0],i="JivoStore"==n.__type?t[1]:t[2],r="JivoStore"==n.__type?"update":t[1];if("object"!=typeof r)if("function"==typeof n.on?e="on":"function"==typeof n.addListener&&(e="addListener"),e){var o=n[e](r,i);this.listeners.push({type:e,target:n,event:r,callback:i,subscription:o})}else g.error("error cant find type");else for(var a in r)"string"==typeof a&&this.on(n,a,r[a])}},{key:"off",value:function(){for(var e;e=this.listeners.shift();){var t;t="on"==e.type?"off":"removeListener",e.target[t]?e.target[t](e.event,e.callback):e.subscription&&"function"==typeof e.subscription.remove?e.subscription.remove():g.error("error cant find type")}}},{key:"getClasses",value:function(e){var t={},n=e.styles||{};return(0,c.each)(n,((n,i)=>{t[i]={};var r="";n[1]&&(t[i].style=n[1]),(0,c.each)(n[0],((t,n)=>{r+=t?(e.style?e.style[n]:n)+" ":""}))," "===r.charAt(r.length-1)&&(r=r.substr(0,r.length-1)),t[i].className=r})),t}},{key:"getRenderData",value:function(){}},{key:"renderData",value:function(){}},{key:"render",value:function(){var e=this.getRenderData(),t=this.getClasses(e);return this.renderData(e.data||{},t)}},{key:"componentWillUnmount",value:function(){this.off(),this.emitter.removeAllListeners()}}]),n}(u.default.Component);t.default=h},50789:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiProvider=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(73727)),s=n(97615),l=n(44145),u=n(95911),c=n(31343),d=n(22932);const f=new(function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"getCustomerIoInvites",value:function(e,t){let n=s.EnvironmentManager.isDevelopment()&&a.default.mockRequests&&a.default.mockRequests.customerIO?"/app/configs/development/customerIO.json":this.getApiHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/invitation/`;a.default.customerIOurl&&s.EnvironmentManager.isTesting()&&(n=a.default.customerIOurl),this.sendApiRequest(n,{user_token:e},t)}},{key:"acceptWebRTCCall",value:function(e,t){const n=(0,l.getClient)(),i=this.getTelephonyHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/clients/${n.clientId.split(".")[0]}/telephony/widget-call/accept`;this.sendPostApiRequest(i,{call_id:e},t)}},{key:"declineWebRTCCall",value:function(e,t){const n=(0,l.getClient)(),i=this.getTelephonyHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/clients/${n.clientId.split(".")[0]}/telephony/widget-call/decline`;this.sendPostApiRequest(i,{call_id:e},t)}},{key:"sendClientAttributes",value:function(e,t,n){const i=this.getApiHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/clients/${t.split(".")[0]}/attributes`;u.xhrRequest.post(i,n,{headers:{"Content-Type":c.CONTENT_TYPE.X_WWW_FORM,authorization:t.split(".")[1]},body:e})}},{key:"sendApiRequest",value:function(e,t,n){u.xhrRequest.get(e,n,{params:t})}},{key:"sendPostApiRequest",value:function(e,t,n){u.xhrRequest.post(e,n,{headers:{"Content-Type":c.CONTENT_TYPE.X_WWW_FORM},body:t})}},{key:"getApiHost",value:function(){return(0,d.getProtocol)()+"//"+a.default.api_host}},{key:"getTelephonyHost",value:function(){return(0,d.getProtocol)()+"//"+a.default.tel_host}}]),e}());t.ApiProvider=f},86961:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(83778),s=n(97615),l=n(44145),u=n(95911),c=i(n(73727)),d=n(31343);let f=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"getHeaders",value:function(){const e=(0,l.getClient)();return{"x-jv-client-id":e.clientId,"x-visitor-id":e.visitorId}}},{key:"getStatus",value:function(e){this.getChatServerData("status",{},e)}},{key:"getVisitorNumber",value:function(e){this.getChatServerData("visitor_number",{},e)}},{key:"getMessages",value:function(e,t){this.getChatServerData("messages",e,t)}},{key:"getChatServerData",value:function(e,t,n){const i=(0,l.getClient)(),r=i.visitorId?`/${i.visitorId}`:"",o=this.shouldMockRequest(e)?`/app/configs/development/${e}.json`:(0,a.chatServerHost)()+`/widget/${e}/${c.default.site_id}/${c.default.widget_id}${r}`;this.sendChatServerRequest(o,t,n)}},{key:"getHistoryMessages",value:function(e,t,n){const i=this.shouldMockRequest("new_messages")?"/app/configs/development/new_messages.json":(0,a.chatServerHost)()+`/client/${c.default.site_id}/${c.default.widget_id}/${e}`;this.sendChatServerRequest(i,t,n,this.getHeaders())}},{key:"sendChatServerRequest",value:function(e,t,n,i){u.xhrRequest.get(e,n,{headers:i,params:t})}},{key:"postClientTags",value:function(e,t){const n=(0,a.chatServerHost)()+`/client/${c.default.site_id}/${c.default.widget_id}/attach_tags`,i=this.getHeaders(),r={tag_id:e};i["Content-Type"]=d.CONTENT_TYPE.APP_JSON,u.xhrRequest.post(n,t,{headers:i,body:r})}},{key:"postCampaignData",value:function(e,t){var n,i,r,o;const s=(0,a.chatServerHost)()+`/client/${c.default.site_id}/${c.default.widget_id}/campaign`,l=this.getHeaders(),f={campaign_id:e.campaignId,type:e.type,answer_data:JSON.stringify(null!==(n=e.answerData)&&void 0!==n?n:{}),rate:null!==(i=e.rate)&&void 0!==i?i:0,comment:null!==(r=e.comment)&&void 0!==r?r:"",client_answer_id:null!==(o=e.clientAnswerId)&&void 0!==o?o:null};l["Content-Type"]=d.CONTENT_TYPE.APP_JSON,u.xhrRequest.post(s,t,{headers:l,body:f})}},{key:"shouldMockRequest",value:function(e){return s.EnvironmentManager.isDevelopment()&&c.default.mockRequests&&c.default.mockRequests[e]}}]),e}();t.default=f},44733:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isJvKeyForStoreToGet=t.StorageProvider=void 0;var r=i(n(67375)),o=i(n(73727)),a=n(38632),s=n(10895),l=n(39731),u=n(38392),c=n(53401);const d=o.default.widget_id,f=e=>(e=>/^jv_/.test(e))((0,r.default)(e,1)[0]),p=e=>/^jv_store/.test(e);t.isJvKeyForStoreToGet=p;const g=(e,t)=>{const n=`jv_${e}_${d}`;return t?`${n}_${t}`:n},h=e=>{if((e=>/^store_[a-z]*$/.test(e))(e)){const t=(0,l.splitString)(e,"_"),n=(0,r.default)(t,2),i=n[0],o=n[1];return g(i,o)}return g(e)},_={get:e=>a.parentLS.get(h(e)),set:(e,t)=>a.parentLS.set(h(e),t),remove:e=>a.parentLS.remove(h(e)),migrate:(0,s.compose)((e=>e.forEach((e=>{let t=(0,r.default)(e,2),n=t[0],i=t[1];const o=p(n)?(0,l.splitString)(n,"_")[0]:n;a.parentLS.set(o,i),(0,c.deleteCookie)(n)}))),(e=>e.filter(f)),c.splitCookieOnEntries),createKeyForStore:e=>`store_${e}`,duplicateClientStateInCookie:e=>{const t=g("store",`client_${d}`),n=(0,u.pick)(e,"client_id","jv_sess_id","user_token","visitorId");return(0,c.setCookie)(t,n)}};t.StorageProvider=_},20758:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(73727)),s=n(16016),l=n(21951),u=n(44733),c=n(69882),d=n(9393),f=n(90991),p=n(52028),g=n(22932);const h=n(89766).EventEmitter,_=1500;var m=new(function(){function e(){if((0,r.default)(this,e),this.readMessages={},this.lastBufferUpdatedTime=(new Date).getTime(),this.initBufferFn=(0,f.debounce)(this.initBuffer.bind(this),500),this.initBuffer(),this.emitter=new h,(0,c.isWixEditor)()||p.isDesignerEditor)return;const t=(0,g.getPageWindow)();(0,l.addListener)(t,"storage",(e=>{(e||t.event).key==="jv_eBuffer_"+a.default.widget_id&&this.parseNewEvents()}))}return(0,o.default)(e,[{key:"initBuffer",value:function(){const e=u.StorageProvider.get("eBuffer")||[],t=this.filterOldEvents(e);(0,d.each)(t,(e=>{this.readMessages[e.id]})),e.length!==t.length&&u.StorageProvider.set("eBuffer",t)}},{key:"sendEvent",value:function(e,t){const n={time:(new Date).getTime(),id:(0,s.generateGUIDCount)(2),name:e,data:t||{}},i=this.filterOldEvents(u.StorageProvider.get("eBuffer")||[]);i.push(n),this.readMessages[n.id]=!0,u.StorageProvider.set("eBuffer",i),setTimeout((()=>{this.initBufferFn()}),1505)}},{key:"filterOldEvents",value:function(e){var t=[];return(0,d.each)(e,(e=>{(new Date).getTime()-e.time>_?delete this.readMessages[e.id]:t.push(e)})),t}},{key:"parseNewEvents",value:function(){const e=u.StorageProvider.get("eBuffer");e&&(0,d.each)(e,(e=>{!this.readMessages[e.id]&&(new Date).getTime()-e.time<_&&this.triggerEvent(e)}))}},{key:"triggerEvent",value:function(e){this.readMessages[e.id]=!0,this.emitter.emit("tabsEvent_"+e.name,e.data)}},{key:"on",value:function(e,t){return this.emitter.addListener("tabsEvent_"+e,t)}}]),e}());t.default=m},34973:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(6131)),s=n(16016),l=n(44733),u=n(92560),c=n(90991),d=n(9393),f=i(n(20758)),p=n(52028),g=n(97615);const h=i(n(4855)).default.name("ArrayStore"),_=n(89766).EventEmitter;let m=function(){function e(t){(0,r.default)(this,e),this.settings=t,this.emitter=new _,this.store=[],this.initArrayStore(),this.protectOthersTabs(),this.triggerFn=(0,c.debounce)(this.trigger,100)}return(0,o.default)(e,[{key:"initArrayStore",value:function(){const e=l.StorageProvider.get(this.settings.name+"_items")||[];(0,d.each)(e,(e=>{if(!l.StorageProvider.get(e))return;const t=new(this.settings.itemClass||a.default)({type:this.settings.type,name:e,keys:this.settings.keys});this.addTriggers(t),this.store.push(t),this.sort()}))}},{key:"addTriggers",value:function(e){e.on("all",(()=>{this.trigger("update",e)})),e.on("destroy",this.onRemoveItem.bind(this,e))}},{key:"push",value:function(e){const t=this.createInst(e);return this.addTriggers(t),t.set(e),this.store.push(t),this.sort(),this.backup(t),this.triggerFn("create",t),t.unStorage&&t.unStorage()||f.default.sendEvent(`${this.settings.name}_addArrayItem`,{name:t.getName()}),t}},{key:"createInst",value:function(e){let t=this.settings.type;(e.body&&e.body.unsave||p.isDesignerEditor)&&(t="memory");let n={};const i=this.settings.itemClass||a.default;for(let e=0;e<3&&(n=new i({type:t,name:(0,s.generateGUIDCount)(2),keys:this.settings.keys}),!(n instanceof i));e++);return n}},{key:"sort",value:function(){}},{key:"pushAll",value:function(e){var t=[];return(0,d.each)(e,(e=>{t.push(this.push(e))})),t}},{key:"getAll",value:function(){return this.store}},{key:"toJSON",value:function(){var e=[];return(0,d.each)(this.store,(t=>{e.push(t.toJSON())})),e}},{key:"each",value:function(e){(0,d.each)(this.store,(t=>{e(t.toJSON(),t)}))}},{key:"onRemoveItem",value:function(e){const t=this.store.findIndex((t=>t===e));this.store.splice(t,1),this.trigger("remove"),this.backup(),f.default.sendEvent(`${this.settings.name}_removeArrayItem`,{name:e.getName()})}},{key:"backup",value:function(){const e=[];(0,d.each)(this.store,(t=>{t.unStorage&&t.unStorage()||e.push(t.getName())})),l.StorageProvider.set(this.settings.name+"_items",e.length?e:[])}},{key:"protectOthersTabs",value:function(){f.default.on(`${this.settings.name}_addArrayItem`,(e=>{const t=new(this.settings.itemClass||a.default)({type:this.settings.type,name:e.name,keys:this.settings.keys});(0,u.isEmpty)(t)?h.warn(`${this.settings.name}_addArrayItem inst is empty!`,e,t):(this.addTriggers(t),this.store.push(t),this.sort(),this.trigger("create",t,!0))})),f.default.on(`${this.settings.name}_removeArrayItem`,(e=>{const t=this.store.findIndex((t=>t.getName()===e.name));t>=0&&(this.store.splice(t,1),this.sort(),this.trigger("remove"))}))}},{key:"trigger",value:function(e,t,n){setTimeout((()=>{this.emitter.emit(e,t,n)}),0)}},{key:"itemTrigger",value:function(){}},{key:"on",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"onItem",value:function(e){return this.emitter.addListener(`${this.settings.name}_update`,cb)}},{key:"destroy",value:function(){const e=this.store;this.store=[],e.forEach((e=>{e.destroy()})),this.backup(),this.trigger("remove")}}]),e}();t.default=m,g.EnvironmentManager.isDevelopment()&&(window.parent.ArrayStore=m)},66547:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(9393),s=i(n(73687));const l=i(n(4855)).default.name("SessionStore","color: grey"),u="sess_";var c=new(function(){function e(){(0,r.default)(this,e),l.log("init session store"),this.sessionKeysList=this.initSessionKeysList(),this.startTimer()}return(0,o.default)(e,[{key:"initSessionKeysList",value:function(){return s.default.getKeysByPrefix(s.default.getPrefix()+u)}},{key:"set",value:function(e,t){-1===this.sessionKeysList.indexOf(e)&&this.sessionKeysList.push(e),s.default.set(u+e,t,43200)}},{key:"get",value:function(e){return s.default.get(u+e)}},{key:"startTimer",value:function(){setInterval((()=>{l.log("startTimer",this.sessionKeysList),(0,a.each)(this.sessionKeysList,(e=>{const t=this.get(e);t&&(l.log("update session",e,t),this.set(e,t))}))}),6e4)}}]),e}());t.default=c},6131:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(4855)),s=n(16016),l=i(n(20758)),u=n(44733),c=n(97615),d=n(60277),f=n(9393),p=n(73422),g=n(47361);const h=a.default.name("Store"),_=n(89766).EventEmitter,m=[];let v=function(){function e(t){(0,r.default)(this,e);if(this.registrName(t.name))return h.warn("Dublicate name for Store keyName"),{};this.settings=t,this.store=this.getDefaultKeys(),this.emitter=new _,"session"===t.type?this.initSessionStore():"default"===t.type?this.initDefaultStore():"memory"===t.type&&this.initMemoryStore(),this.protectOthersTabs(),this.allKeysUpdateDebounce=(0,g.debounce)(this.allKeysUpdate,150)}return(0,o.default)(e,[{key:"registrName",value:function(e){return m.indexOf(e)>-1||(m.push(e),!1)}},{key:"initDefaultStore",value:function(){var e=u.StorageProvider.get(this.settings.name)||{};this.store=(0,d.extend)(this.store,e)}},{key:"initMemoryStore",value:function(){}},{key:"initSessionStore",value:function(){let e=u.StorageProvider.get(this.settings.name)||{};if(e){h.log("resetSession store");var t=(0,s.generateGUIDCount)(2);e=this.store,e._id=t,e._clearTime=(new Date).getTime()+5e3,u.StorageProvider.set(this.settings.name,e),l.default.sendEvent(`${this.settings.name}_resetSessionStore`)}this.store=e}},{key:"getDefaultKeys",value:function(){var e={};return(0,f.each)(this.settings.keys,((t,n)=>{"function"==typeof t?e[n]=t():null!==t&&"{}"!==JSON.stringify(t)&&(e[n]=t)})),e}},{key:"isDeepName",value:function(e){return"string"==typeof e&&e.split(".").length>1}},{key:"getDeepName",value:function(e){const t=e.split(".");return this.isDeepName(e)?t:[e]}},{key:"set",value:function(e,t){if(!(0,p.isObject)(e))return this.setKey(e,t);(0,f.each)(e,((e,t)=>{this.set(t,e)}))}},{key:"setDeepKey",value:function(e,t,n){if("string"==typeof n&&(n=n.split(".")),!(n.length>1))return null===t?delete e[n[0]]:e[n[0]]=t,t;{const i=n.shift();(0,p.isObject)(e[i])||(e[i]={}),this.setDeepKey(e[i],t,n)}}},{key:"setKey",value:function(e,t,n){return void 0===this.settings.keys[this.getDeepName(e)[0]]?(h.error("Error: set not initialized key "+e),null):(this.get(e)===t||(this.isDeepName(e)?this.setDeepKey(this.store,t,e):null===t?delete this.store[e]:this.store[e]=t,this.trigger(e,t),n||this.triggerAndBackup(e)),t)}},{key:"get",value:function(e){return this.isDeepName(e)?void 0===this.settings.keys[this.getDeepName(e)[0]]?(h.error("Error: get not initialized key "+e),null):this.findObj(this.store,e):void 0===this.settings.keys[e]?(h.error("Error: get not initialized key "+e),null):this.store[e]||null}},{key:"findObj",value:function(e,t){const n=t.split(".");let i,r=e;for(i=0;i<n.length;++i){if(null==r[n[i]])return null;r=r[n[i]]}return r}},{key:"destroy",value:function(){this.trigger("destroy"),u.StorageProvider.remove(this.settings.name),this.store={},this.emitter.removeAllListeners()}},{key:"toJSON",value:function(){return this.store}},{key:"triggerAndBackup",value:function(e){"memory"!==this.settings.type&&(this.unStorage&&this.unStorage()||u.StorageProvider.set(this.settings.name,this.store),l.default.sendEvent(`${this.settings.name}_updateStore`,{name:this.settings.name,keyName:e,val:this.get(e)||null}))}},{key:"allKeysUpdate",value:function(){this.emitter.emit(`${this.settings.name}_change_all`,this.store)}},{key:"trigger",value:function(e,t){this.emitter.emit(`${this.settings.name}_change_${e}`,t),this.allKeysUpdateDebounce()}},{key:"on",value:function(e,t){return this.emitter.addListener(`${this.settings.name}_change_${e}`,t)}},{key:"protectOthersTabs",value:function(){l.default.on(`${this.settings.name}_updateStore`,(e=>{e.name===this.settings.name&&this.setKey(e.keyName,e.val,!0)})),l.default.on(`${this.settings.name}_resetSessionStore`,(()=>{this.store={}}))}},{key:"getName",value:function(){return this.settings.name}}]),e}();var y=v;t.default=y,c.EnvironmentManager.isDevelopment()&&(window.parent.Store=v)},73687:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(9393),s=i(n(73727)),l=n(44733),u=n(38632);const c=i(n(4855)).default.name("TempStore","color: grey"),d="temp_";var f=new(function(){function e(){(0,r.default)(this,e),this.cleanExpiredKeys()}return(0,o.default)(e,[{key:"set",value:function(e,t,n){if(c.log("set",e,t,n),!n)throw new Error("cant set in TempStore without seconds");if(null===t)return c.log("remove key on data",e),void l.StorageProvider.remove(d+e);t={val:t,expire:(new Date).setTime((new Date).getTime()+1e3*n)},l.StorageProvider.set(d+e,t)}},{key:"get",value:function(e){const t=l.StorageProvider.get(d+e);return t&&t.expire?t.expire<(new Date).getTime()?null:t.val:t}},{key:"cleanExpiredKeys",value:function(){const e=this.getKeysByPrefix(d);(0,a.each)(e,(e=>{const t=d+e,n=l.StorageProvider.get(t);n&&n.expire&&n.expire<(new Date).getTime()&&(c.log("delete key on init expire:",t),l.StorageProvider.remove(t))}))}},{key:"getKeysByPrefix",value:function(e){const t=[],n=u.parentLS;if(n)for(const i in n)if(i&&0==i.search(new RegExp("^jv_"+e))){const n=i.replace(`jv_${e}`,"").replace(`_${s.default.widget_id}`,"");t.push(n)}return t}},{key:"getPrefix",value:function(){return d}}]),e}());t.default=f},53049:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestName=void 0;t.TestName={}},97939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotType=void 0;t.BotType={DEFAULT:"default",ASSISTANT:"assistant"}},34445:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatStatus=void 0;t.ChatStatus={STARTUP:"startup",STARTUP_OK:"startup_ok",STARTUP_ERROR:"startup_error",RESUME_OK:"resume_ok"}},47245:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;t.Component={ROOT_COMPONENT:"RootComponent",CALL_CONTAINER:"CallContainer",CHAT_CONTAINER:"ChatContainer",DRAG:"Drag",INTRODUCE:"Introduce",WIDGET_CONTAINER:"WidgetContainer",WIDGET_CONTAINER_COMPONENT:"WidgetContainerComponent",INPUT:"Input",AUTORESIZER:"autoResizer",CHAT_INPUT:"ChatInput",CHAT_INTRODUCE:"ChatIntroduce",SCROLL_CONTAINER:"ScrollContainer",PRECHAT:"PrechatMessage",LABEL:"Label",HEADER:"Header",MORE_BUTTON:"MoreButton",MOUSE_TRACK:"MouseTrack",CHAT_BODY:"ChatBody",SOUND_AGENT_MESSAGE:"SOUND_AGENT_MESSAGE",SOUND_NOTIFICATION:"SOUND_NOTIFICATION",SOUND_OUTGOING_MESSAGE:"SOUND_OUTGOING_MESSAGE",MESSAGES_CONTAINER:"MESSAGES_CONTAINER",MOBILE_CONTAINER:"MOBILE_CONTAINER",RATE_FORM:"RateForm"}},4425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMode=void 0;t.ChatMode={OFFLINE:"offline",ONLINE:"online"}},94537:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsType=void 0;t.ContactsType={DURING_CHAT_NO_CLOSE:-1,DURING_CHAT:0,BEFORE_CHAT:1,DISABLED:2,SOCIAL:3}},18073:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiList=void 0;t.emojiList={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"}},87884:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;t.Environment={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"}},12494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploadError=void 0;t.FileUploadError={FILE_SIZE_EXCEEDED:"FILE_SIZE_EXCEEDED",RESTRICTED_FILE_TYPE:"RESTRICTED_FILE_TYPE",NO_EXTENSION:"NO_EXTENSION",REQUEST_FAILED:"REQUEST_FAILED",UPLOAD_CANCELED:"UPLOAD_CANCELED"}},6211:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Limits=void 0;t.Limits={STATS_CHUNK_LIMIT:40}},57930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locator=void 0;t.Locator={LABEL_COPYRIGHT_POPUP:"LABEL_COPYRIGHT_POPUP",HEADER:"HEADER",HEADER_TEXT:"HEADER_TEXT",HEADER_LEAF:"HEADER_LEAF",HEADER_AGENT_NAME:"HEADER_AGENT_NAME",HEADER_AGENT_POSITION:"HEADER_AGENT_POSITION",HEADER_AVATAR:"HEADER_AVATAR",HEADER_AVATAR_ANON:"HEADER_AVATAR_ANON",CHAT_AVATAR:"CHAT_AVATAR",CHAT_AVATAR_ANON:"CHAT_AVATAR_ANON",HEADER_CALLBACK_BUTTON:"HEADER_CALLBACK_BUTTON",CHAT_COPYRIGHT:"CHAT_COPYRIGHT",INPUT:"INPUT",INPUT_SUBMIT:"INPUT_SUBMIT",FILE_UPLOAD:"FILE_UPLOAD",CONTACTS_FORM:"CONTACTS_FORM",CONTACTS_FORM_NAME:"CONTACTS_FORM_NAME",CONTACTS_FORM_PHONE:"CONTACTS_FORM_PHONE",CONTACTS_FORM_EMAIL:"CONTACTS_FORM_EMAIL",CONTACTS_FORM_SUBMIT:"CONTACTS_FORM_SUBMIT",CONTACTS_FORM_INPUT:"CONTACTS_FORM_INPUT",CALLBACK_BUTTON:"CALLBACK_BUTTON",CALLBACK_VIDEO_BUTTON:"CALLBACK_VIDEO_BUTTON",WA_BUTTON:"WA_BUTTON",CLOSE_BUTTON:"CLOSE_BUTTON",POWER_BUTTON:"POWER_BUTTON",MOBILE_POPUP_CLOSE_BUTTON:"MOBILE_POPUP_CLOSE_BUTTON",INPUT_MORE_BTN:"INPUT_MORE_BTN",INPUT_EMOJI_PANEL:"INPUT_EMOJI_PANEL",INPUT_UPLOAD_ICON:"INPUT_UPLOAD_ICON",RATE_TITLE:"RATE_TITLE",RATE_FORM_TEXT:"RATE_FORM_TEXT",RATE_COMMENT_TITLE:"RATE_COMMENT_TITLE",RATE_FORM_INPUT:"RATE_FORM_INPUT",RATE_SUBMIT_BUTTON:"RATE_SUBMIT_BUTTON",RATE_POSITIVE_SUBMIT_TEXT:"RATE_POSITIVE_SUBMIT_TEXT",RATE_NEGATIVE_SUBMIT_TEXT:"RATE_NEGATIVE_SUBMIT_TEXT",RATE_FORM_CLOSE_ICON:"RATE_FORM_CLOSE_ICON",RATE_GOOD:"RATE_GOOD",RATE_GOODNORMAL:"RATE_GOODNORMAL",RATE_NORMAL:"RATE_NORMAL",RATE_BADNORMAL:"RATE_BADNORMAL",RATE_BAD:"RATE_BAD",PRECHAT_BUTTON:"PRECHAT_BUTTON_",LABEL_TEXT:"LABEL_TEXT_"}},81152:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.MessageStatus=t.MessageName=t.MessageInitiator=t.MediaType=t.MediaStatus=void 0;t.MessageType={MESSAGE:"message",PROACTIVE:"proactive",MEDIA:"media",COBROWSE:"cobrowse",INVOICE:"invoice",SYSTEM:"system",PREFORM:"botsystem",FORM:"form",TEMPORARY:"temporary",SOCIAL:"social",EMAIL:"email",SEPARATOR:"separator",FOR_TEST:"fortest",PRECHAT:"prechat",BOT:"bot",INVITE:"invite",EMPTY:null,LISTPICKER:"keyboard",WEB_RTC_CALL:"webrtccall",RATE_FORM:"rateform",CALL:"call"};t.MessageStatus={SENT:"sended",DELIVERED:"delivered",READ:"read",SEEN:"seen",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null};t.MessageInitiator={AGENT:"agent",AGENT_BOT:"bot",CLIENT:"client",SYSTEM:"system",FORM:"bot",BOT:"bot_agent",EMPTY:null};t.MediaStatus={UPLOADING:"uploading",COMPLETE:"complete",ERROR:"error",EXPIRED:"expired"};t.MediaType={VIDEO:"video",PHOTO:"photo",LOCATION:"location",VOICE:"voice",STICKER:"sticker",RICH_LINK:"rich_link"};t.MessageName={DELAYED_CALL_SUCCESS:"delayedCallSuccess",CALL_END:"callEnd",CALL_MESSAGE_START:"callMessageStart"}},31343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timeouts=t.REQUEST_OPTIONS=t.METHODS=t.CONTENT_TYPE=t.ACCEPT=void 0;t.METHODS={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",HEAD:"HEAD"};t.ACCEPT="application/json, text/plain, */*";t.CONTENT_TYPE={X_WWW_FORM:"application/x-www-form-urlencoded",APP_JSON:"application/json"};t.REQUEST_OPTIONS={body:null,headers:{},responseType:"json",timeout:1e4,withCredentials:!1,validateStatus:e=>e>=200&&e<300,onTimeout:null,onUpload:null,onDownload:null};t.Timeouts={MESSAGE_SEND_ERROR_TIMEOUT:6e3}},62168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionStatus=t.Permission=void 0;t.PermissionStatus={UNKNOWN:0,ALLOWED:1,BLOCKED:2};t.Permission={AUDIO:"audio",VIDEO:"video"}},22271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Regexp=void 0;t.Regexp={SERVICEZONE_DOMAIN:/^https:\/\/servicezone+\S+jivosite.com/}},47060:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterEvent=t.RouteList=t.Route=void 0;const n={HIDDEN:"hidden",LABEL:"label",LABEL_INVITATION:"label/invitation",DEPARTMENTS:"departments",INTRODUCE:"introduce",MOBILE_MENU:"mobilemenu",CHAT:"chat",CHAT_MIN:"chat/min",CHAT_EULA:"chat/eula",CHAT_SOCIAL:"chat/social",CHAT_INTRODUCE:"chat/introduce",CHAT_EVAL:"chat/eval",CHAT_CALL:"chat/call",CHAT_SETUP_CALL:"chat/setupcall",CALL:"call",CALL_EULA:"call/eula",CALL_POPUP:"call/popup",DEBUG:"debug"};t.Route=n;t.RouterEvent={Submit:"submit",Cancel:"cancel",CloseWindow:"closeWindow",Hide:"hide",Navigate:"navigate",Error:"error",ToChat:"toChat",ToCall:"toCall",ToSocial:"toSocial",ToIntroduce:"toIntroduce",ToEula:"toEula",ApiOpen:"apiOpen",ToDebug:"toDebug",ToLabelInvitation:"toLabelInvitation",ToMobileMenu:"toMobileMenu",ToCallPopup:"toCallPopup",ToCallSetup:"ToCallSetup"};let i=[];for(const e in n)n.hasOwnProperty(e)&&i.push(n[e]);const r=i;t.RouteList=r},83907:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtmSource=t.RuleTypes=t.RuleType=t.RuleConditions=t.DeviceType=void 0;t.RuleTypes={PROACTIVE:"proactive",OPEN_OFFLINE:"open_offline",HIDE:"hide",SYSTEM_MESSAGE:"system_message",SYSTEM_EMAIL:"system_message_email",SHOW_CALLFORM:"show_callform",SHOW_POPUP:"show_popup"};t.RuleConditions={ONLINE:"online",PAGE_URL:"page_url",PAGE_TITLE:"page_title",HOUR:"hour",WEEK_DAY:"week_day",TIME_AFTER_CLOSE:"time_after_close",TIME_AFTER_FIRST_MSG:"time_after_first_message",TIME_AFTER_INVITAION:"time_after_invitation",TIME_ON_PAGE:"time_on_page",TIME_ON_SITE:"time_on_site",NUMBER_OF_VISITS:"number_of_visits",GOAL_CLOSE:"goal_close",GOAL_SCROLL:"goal_scroll",GOAL_CLICK:"goal_click",GOAL_CUSTOM_ATTR:"goal_custom_attr",PAGES_COUNT:"pages_count",COUNTRY:"country",CITY:"city",ONCE_A_DAY:"once_a_day",UTM_SOURCE:"utm_source",DEVICE:"device"};t.DeviceType={MOBILE:"mobile",DESKTOP:"desktop"};t.UtmSource={BING:"bing",YANDEX:"yandex",GOOGLE:"google",YAHOO:"yahoo",DIRECT:"direct"};t.RuleType={ALL:"all",ANY:"any"}},51542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shards=void 0;t.Shards={SBER:"sber1"}},47138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCCallStatus=t.DelayedCallStatus=t.ChatState=t.CallStatus=t.CallPopupStatus=void 0;t.ChatState={NOT_STARTED_OR_CLOSED:"NOT_STARTED_OR_CLOSED",STARTED:"STARTED",ACCEPTED:"ACCEPTED"};t.CallStatus={WAIT:"cw_wait",CONNECTING:"cw_connecting",CONNECTED:"cw_connected",ENDED:"cw_call_end",ERROR:"cw_error"};t.DelayedCallStatus={WAIT:0,SUCCESS:1,MAX_REQUESTS_LIMIT:2,NOT_WORK_TIME:3,BAD_CALLBACK_TIME:4,BLOCKED:5,BAD_DIRECTION:6};t.WebRTCCallStatus={INITIAL:0,ACCEPTED:1,DECLINED:2,ERROR:3,ENDED:4};t.CallPopupStatus={ENABLED:"enabled",DISABLED:"disabled",ONLY_TRIGGERS:"only_triggers",ONLY_BUTTON_CLICK:"only_button_click"}},71047:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TempKey=t.STORAGE_TYPE=t.STORAGE_STATUS=t.STORAGED_ID=t.CampaignsKeys=void 0;t.STORAGED_ID={APP:"app",CALLBACK:"callback",CLIENT:"client",POSITION:"position"};t.STORAGE_STATUS={AVAILABLE:"available",UNAVAILABLE:"unavailable",EXCEED:"exceed"};t.STORAGE_TYPE={LOCAL:"localStorage",SESSION:"sessionStorage"};t.CampaignsKeys={POPUP_DELAY:"popup_delay"};t.TempKey={SENDED_TAGS:"sended_tags"}},83170:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryName=t.RateLimit=void 0;t.TelemetryName={STARTUP_OK:"startup_ok",RESUME_OK:"resume_ok",OFFLINE_FIRST_MESSAGE:"offline_first_message",OFFLINE_FORM_SUBMIT:"offline_form_submit",OFFLINE_AGENT_ACCEPT:"offline_agent_accept",FORCE_OFFLINE:"force_offline",CHAT_ACCEPTED:"chat_accepted",CHAT_ACCEPTED_CONTACTS:"chat_accepted_contacts",CHAT_BOT_ACCEPTED:"chat_bot_accepted",STARTUP_ERROR:"startup_error",CALL_END:"cw_call_end",CALL_ERROR:"cw_call_error",SOCIAL_HAS_INTEGRATION:"social_receive_has_integration_",CHAT_INTRODUCE_SOCIAL:"chat_introduce_social",CALL_START:"cw_start_call",API_CALL_OPEN:"cw_api_call_open",INTRODUCE:"introduce",EULA_SHOWN:"eula_shown",EULA_ACCEPTED:"eula_accepted",OFFLINE_SENT:"offline_sent",CLIENT_MESSAGE_SEND_ERROR:"client_message_send_error",CHAT_INTRODUCE:"chat_introduce",CHAT_INVITE:"chat_invite",INVITE_ACCEPTED:"invite_accepted",COBROWSE_SUCCESS:"cobrowse_success",COBROWSE_FAILED:"cobrowse_failed",CLIENT_MESSAGE_FLUSH_BUFFER:"client_message_flush_buffer",CLIENT_MESSAGE_SPAM:"client_message_spam",CDN_LOAD_TIME:"cdn_load_time",IN_IFRAME_STARTED:"in_iframe_started",API_GET_MESSAGES_ERROR:"api_get_messages_error",API_GET_MESSAGES_ERROR_TIMEOUT:"api_get_messages_error_timeout",API_GET_MESSAGES_RECEIVED:"api_get_messages_received",FILE_UPLOAD_ERROR:"file_upload_error",CW_BUTTON_CLICK:"cw_button_click",WA_BUTTON_CLICK:"wa_button_click",WIDGET_CLOSE_CLICK:"widget_close_click",SITE_CUSTOM_COPYRIGHT:"site_custom_copyright",EULA_CANCEL_BTN:"eula_cancel_btn",EULA_LINK_CLICKED:"eula_link_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELED:"file_upload_canceled",FILE_UPLOAD_NO_LOCATION:"file_upload_no_location",MOBILE_CHAT_CLOSE:"mobile_chat_close",MOBILE_CLOSE_CALLBACK:"mobile_close_callback",EMOJI_OPEN_SMILE_LIST:"emoji_open_smile_list",EMOJI_INSERT_SMILE:"emoji_insert_smile",WIDGET_CLICK:"widget_click",LABEL_BUTTONS_SHOW:"label_buttons_show",LABEL_BUTTONS_CHAT:"label_buttons_chat",LABEL_BUTTONS_CALL:"label_buttons_call",LABEL_BUTTONS:"label_buttons_",LABEL_BUTTONS_WA:"label_buttons_wa",LABEL_BUTTONS_SB:"label_buttons_sb",LABEL_BUTTONS_TG:"label_buttons_tg",COBROWSE_CLICK_BUTTON:"cobrowse_click_button",EMAIL_MESSAGE_SUBMITTED:"Introduce_message_email_submitted",POWERBUTTON_OPEN:"powerbtn_open_",POWERBUTTON_OPEN_CHAT:"powerbtn_open_chat",POWERBUTTON_OPEN_CALLBACK:"powerbtn_open_callback",POWERBUTTON_CLOSE_MENU:"powerbtn_close_menu",POWERBUTTON_OPEN_MENU:"powerbtn_open_menu",CONTINUE_IN_VK:"Continue_in_VK",CONTINUE_IN_FB:"Continue_in_FB",ZOOM_OVERLAY_SHOW:"zoom_overlay_show",ZOOM_OVERLAY_HIDE:"zoom_overlay_hide",WIDGET_STATUS:"widget_status",CW_ONLINE_HEADER_BUTTON:"cw_online_header_button",CW_OFFLINE_HEADER_BUTTON:"cw_offline_header_button",SOCIAL_SHOW_FACEBOOK:"social_show_facebook",SOCIAL_SHOW_VK:"social_show_vk",SOCIAL_CONFIGURED_NOT_LOGGED:"social_configured_not_logged",VISITORS_FAIL:"visitors_fail",VISITORS_INVITE:"visitors_invite",OFFLINE_INVITE:"offline_invite",VISITOR_MSG_SENT:"visitor_msg_sent",AGENT_MESSAGE:"agent_message",API_OPEN:"api_open",API_CLOSE:"api_close",API_GET_CONTACT_INFO:"api_getcontactinfo",API_GET_VISITOR_NUMBER:"api_getvisitornumber_async",API_SET_USER_TOKEN:"api_setusertoken",API_SET_CUSTOM_DATA:"api_setcustomdata",API_SEND_MESSAGE:"api_sendmessage",API_SET_CONTACT_INFO:"api_setcontactinfo",API_SET_CONTACT_INFO_BAD_DATA:"api_setcontantactinfo_bad_data",API_SHOW_PROACTIVE:"api_showproactiveinvitation",API_SEND_OFFLINE_MESSAGE:"api_sendofflinemessage",API_SEND_OFFLINE_MESSAGE_BAD_DATA:"api_sendofflinemessage_bad_data",API_SET_RULES:"api_setrules",API_CHAT_MODE:"api_chatmode",API_SET_WIDGET_COLOR:"api_setwidgetcolor",API_SEND_PAGE_TITLE:"api_sendpagetitle",API_IS_CALLBACK_ENABLED:"api_iscallbackenabled",SEND_ATTRIBUTES_FAILED:"send_attributes_failed",SEND_ATTRIBUTES_SUCCESS:"send_attributes_success",API_GET_UTM:"api_getutm",OFFLINE_SENT_FAIL:"offline_sent_fail",DEBUG_PANEL_OPENED:"debug_panel_opened",MORE_CLICK:"more_click",DOWNLOAD_CHAT_LOG_CLICK:"download_chat_log_click",ERROR_DOWNLOADING_CHAT_LOG:"error_downloading_chat_log",WIDGET_DELETED:"widget_deleted",INVITE_CLOSE:"invite_close",PRECHAT:"prechat",RECEIVE_API_INVITATION:"receive_api_invitation",READ_API_INVITATION:"read_api_invitation",ANSWER_API_INVITATION:"answer_api_invitation",API_INVITATION_OPEN_CHAT:"api_invitation_open_chat",CLICK_LINK_API_INVITAION:"click_link_api_invitation",BOT_BUTTON_CLICK:"bot_button_click",CLIENT_MESSAGE_BOT:"client_message_bot",CLIENT_MESSAGE_ASSISTANT:"client_message_assistant",CONFIG_LIMIT:"config_limit",VI_STATUS_FAIL:"vi_status_fail",MARKDOWN_LINK_CLICK:"markdown_link_click",MORE_BTN_CLICK:"more_btn_click",BOT_TRANSFER_CHAT:"bot_transfer_chat",DELAYED_ERR:"delayed_query_error",RECAPTCHA_SUCCESS:"recaptcha_success",RECAPTCHA_FAILURE:"recaptcha_failure",RECAPTCHA_ERROR:"recaptcha_error",BUNDLE_LOADED:"bundle_loaded",CWP_SHOW_ON_PROACTIVE:"cwp_show_on_proactive",CWP_SUBMIT:"cwp_submit",CWP_DISABLED_SUBMIT_CLICK:"cwp_disabled_submit_click",CWP_CLOSE_CLICK:"cwp_close_click",CW_TO_CHAT_CLICK:"cw_to_chat_click",CW_ERROR_SUBMIT_PHONE:"cw_error_submit_phone",CW_SELECT_COUNTRY_CLICK:"cw_select_country_click",RESEND_CLICK:"resend_click",CHAT_VIEW:"chat_view",MEDIA_SIGN:"media_get_sign_success",MEDIA_SIGN_ERROR:"media_get_sign_error",WEBRTC_ACCEPT_CALL:"webrtc_accept_call",WEBRTC_DENY_CALL:"webrtc_deny_all",QR_ERROR:"qr_error",PAGE_HIDE:"page_hide",RATE_FORM_ADD:"rate_form_add",RATE_FORM_CLOSE:"rate_form_close",RATE_FORM_SUBMIT:"rate_form_submit",RATE_FORM_SELECT:"rate_form_select",RECONNECTION:"reconnection",STORAGE_ERROR:"storage_error",LOGO_CLICK:"logo_click",ASSET_ERROR:"asset_error",SET_UTM_ERROR:"set_utm_error",CLIENT_MESSAGE_ERROR:"client_message_error",SET_TAGS_SUCCESS:"set_tags_success",SET_TAGS_ERROR:"set_tags_error",CAMPAIGN_POPUP_SHOW:"campaign_popup_show",CAMPAIGN_POPUP_CLOSE:"campaign_popup_close",CAMPAIGN_POPUP_CTA_LINK:"campaign_popup_cta_link",CAMPAIGN_POPUP_POLL_RATE_CLICK:"campaign_popup_poll_rate_click",CAMPAIGN_POPUP_SUBMIT:"campaign_popup_submit",SEND_CAMPAIGN_DATA:"send_campaign_data",SEND_CAMPAIGN_DATA_SUCCESS:"send_campaign_data_success",SEND_CAMPAIGN_DATA_ERROR:"send_campaign_data_error",RETRY_CLICK:"retry_button_click",REPLY_MESSAGE_CLICK_SCROLL:"visitor_reply_message_click_scroll",REPLY_BUTTON_DELETED:"visitor_reply_button_deleted",REPLY_BUTTON_SEND:"visitor_reply_button_send",REPLY_BUTTON_CLICK:"visitor_reply_button_click",DOWNLOAD_MEDIA_CLICK:"donwload_media_click",AGENT_CHAT_CLOSE:"agent_chat_close",UPDATE_CLIENT_ID:"update_client_id",API_SET_TELEGRAM_LINK:"api_set_telegram_link",API_SET_WA_LINK:"api_set_wa_link",API_SET_VK_LINK:"api_set_vk_link"};t.RateLimit={Low:1,High:10}},20361:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptName=void 0;t.ScriptName={OPEN_WIDGET:"OPEN_WIDGET",CLOSE_WIDGET:"CLOSE_WIDGET",MINIMIZE_WIDGET:"MINIMIZE_WIDGET",MAXIMIZE_WIDGET:"MAXIMIZE_WIDGET",MIN_WIDGET:"MIN_WIDGET"}},26022:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientStatus=void 0;t.ClientStatus={ON_CHAT:"on_chat",INVITE_SENT:"invite_sent",ON_SITE:"on_site",PROACTIVE_SHOW:"proactive_show",ON_CALL:"on_call"}},40228:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(98661)),o=n(36113),a=i(n(45697)),s=i(n(21135)),l=i(n(14945)),u=i(n(21651)),c=n(58663),d=n(47138),f=i(n(19955)),p=n(83549),g=n(69726);const h=e=>{let t=e.route,n=e.isOnline,i=e.color,a=e.bubbleColor,h=e.button,_=e.baseUrl,m=e.widgetId,v=e.eula,y=e.callTime,b=e.isDelayedCallback,E=e.callbackAvailable,C=e.delayedCallStatus,T=e.separateForm,D=e.enableRequestVideocall,w=e.videoCall,O=e.callbackStatus,S=e.callbackError,A=e.clientPhone,I=e.isMobileDesigner;(0,p.useErrorCatcher)("CallWidgetContainer");const k=(0,g.useEnhanced)({button:h,callbackAvailable:E}),M=k.hiddenByRules,P=k.isCallButtonEnabled,R=(0,o.useSelector)((e=>e.callback.delayedPeriods),o.shallowEqual);return r.default.createElement(r.default.Fragment,null,!P||I||M?null:r.default.createElement(s.default,{allowedRoutes:(0,c.getCallbackButtonAllowedRoutes)(),currentRoute:t},r.default.createElement(l.default,{isCallButtonEnabled:!0,videoButton:!1,color:(0,c.getCallbackButtonColor)(i),onClick:()=>{(0,c.onButtonClick)(!1)}})),(0,c.isVideoButton)(D,w,n)?r.default.createElement(s.default,{allowedRoutes:(0,c.getCallbackButtonAllowedRoutes)(),currentRoute:t},r.default.createElement(l.default,{videoButton:!0,color:(0,c.getCallbackButtonColor)(i),onClick:()=>{(0,c.onButtonClick)(!0)},isCallButtonEnabled:P})):null,!E&&T==d.CallPopupStatus.DISABLED||!T||f.default.mobileOrTablet()?null:r.default.createElement(s.default,{allowedRoutes:(0,c.getCallbackPopupAllowedRoutes)(),currentRoute:t},r.default.createElement(u.default,{callTime:y,checkEula:!!v,eulaLink:(0,c.getEulaLink)(_,m),onSubmit:c.onPopupSubmitClick,onClose:c.onPopupCloseClick,isDelayed:!(!b||!R),delayedCallPeriods:(0,c.getDelayedCallPeriods)(R,{month:"long",day:"numeric"}),delayedCallError:(0,c.getDelayedCallError)(C),onDisabledSubmitClick:c.onDisabledSubmitClick,color:a,status:O,error:S,phone:A})))};h.propTypes={route:a.default.string,isOnline:a.default.bool,callbackAvailable:a.default.bool,isDelayedCallback:a.default.bool,callTime:a.default.number,color:a.default.string,bubbleColor:a.default.string,button:a.default.bool,baseUrl:a.default.string,widgetId:a.default.string,eula:a.default.any,delayedCallStatus:a.default.any,separateForm:a.default.string,enableRequestVideocall:a.default.bool,videoCall:a.default.number,callbackStatus:a.default.oneOfType([a.default.string,()=>null]),callbackError:a.default.oneOfType([a.default.string,()=>null]),clientPhone:a.default.string,isMobileDesigner:a.default.bool};var _=(0,o.connect)(((e,t)=>({route:e.app.route,isOnline:e.app.isOnline,callbackAvailable:e.callback.available,isDelayedCallback:e.callback.isDelayed,callbackStatus:e.callback.status,callbackError:e.callback.error,clientPhone:e.client.phone,callTime:e.settings.user.callback.time,color:e.settings.user.callbackButtonColor,bubbleColor:e.settings.user.bubbleColor,button:e.settings.user.callback.button,baseUrl:e.settings.system.baseUrl,widgetId:e.settings.system.widgetId,eula:e.settings.features.eula&&!e.client.eulaAccepted,delayedCallStatus:e.callback.delayedStatus,separateForm:e.callback.separateForm,enableRequestVideocall:e.settings.features.enableRequestVideocall,videoCall:e.settings.features.modules?e.settings.features.modules.videoCall:null,isMobileDesigner:e.settings.designer.isMobileView})),{})(h);t.default=_},58663:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onPopupSubmitClick=t.onPopupCloseClick=t.onDisabledSubmitClick=t.onButtonClick=t.isVideoButton=t.getShowButton=t.getEulaLink=t.getDelayedCallPeriods=t.getDelayedCallError=t.getCallbackPopupAllowedRoutes=t.getCallbackButtonColor=t.getCallbackButtonAllowedRoutes=void 0;var r=n(52028),o=n(26932),a=n(21476),s=n(47060),l=n(54415),u=n(83170),c=n(20361),d=i(n(19955)),f=n(69882),p=i(n(91275)),g=n(33069),h=i(n(71323)),_=i(n(138)),m=n(44145),v=n(47138),y=n(20344),b=n(65465),E=n(36874);t.getCallbackButtonAllowedRoutes=()=>[s.Route.LABEL];t.onButtonClick=e=>{r.isDesignerEditor||(o.userDispatchers.setCallHeaderText(null),o.appDispatchers.setChatOpenByClient(!0),e?(b.messageActions.sendClientMessage({text:(0,y.l10n)("webrtc_video_text_message")}),o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),a.Router.next(s.RouterEvent.ToChat)):[v.CallPopupStatus.ENABLED,v.CallPopupStatus.ONLY_BUTTON_CLICK].includes((0,m.getCallback)().separateForm)?a.Router.next(s.RouterEvent.ToCallPopup):(o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),a.Router.next(s.RouterEvent.ToCall),_.default.trackCallClick()),l.Monitoring.telemetry(u.TelemetryName.CW_BUTTON_CLICK,{param1:e?"isVideo":null}))};t.getShowButton=(e,t)=>e&&t&&!d.default.mobileOrTablet()&&!(0,f.isChatPage)()&&!(0,f.isAppCobrowse)()||r.isDesignerEditor;t.isVideoButton=(e,t,n)=>e&&t&&n&&!r.isDesignerEditor&&!d.default.mobileOrTablet()&&!(0,f.isChatPage)()&&!(0,f.isAppCobrowse)();t.getCallbackButtonColor=e=>e||E.colorsFromFigma.GREEN_80;t.getCallbackPopupAllowedRoutes=()=>[s.Route.CALL_POPUP];t.getEulaLink=(e,t)=>window.parent.location.protocol+e+"/script/eula/"+t;t.onPopupCloseClick=()=>{l.Monitoring.telemetry(u.TelemetryName.CWP_CLOSE_CLICK),a.Router.next(s.RouterEvent.CloseWindow)};t.onPopupSubmitClick=(e,t)=>{h.default.acceptEula(),t?((0,g.requestDelayedCall)({phone:e,dateTime:t}),o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),a.Router.next(s.RouterEvent.Submit),l.Monitoring.telemetry(u.TelemetryName.CWP_SUBMIT,{param1:"delayed"})):(p.default.startCall(e),setTimeout((()=>{o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),a.Router.next(s.RouterEvent.Submit)}),1e3),l.Monitoring.telemetry(u.TelemetryName.CWP_SUBMIT,{param1:"direct"}))};t.getDelayedCallPeriods=(e,t)=>(0,g.formatPeriodsToSelectModel)(e,t);t.getDelayedCallError=e=>(0,g.isErrorStatusCode)(e);t.onDisabledSubmitClick=()=>{l.Monitoring.telemetry(u.TelemetryName.CWP_DISABLED_SUBMIT_CLICK)}},69726:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){let t=e.button,n=e.callbackAvailable;const i=(0,o.useSelector)(s.selectHiddenByRules),u=(0,a.useState)(!1),c=(0,r.default)(u,2),d=c[0],f=c[1];return(0,a.useEffect)((()=>{f((0,l.getShowButton)(t,n))}),[t,n]),{hiddenByRules:i,isCallButtonEnabled:d}};var r=i(n(67375)),o=n(36113),a=n(30396),s=n(65138),l=n(58663)},48639:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(7819)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=n(36113),d=i(n(54720)),f=n(21951),p=n(92560),g=n(45950),h=i(n(73727)),_=i(n(19955)),m=n(20344),v=n(31984),y=n(21476);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}let E=function(e){(0,s.default)(n,e);var t=b(n);function n(e){var i;return(0,r.default)(this,n),i=t.call(this,e),(0,p.isEmpty)(h.default.callback_settings)?(console.log("Callwidget not configured yet."),(0,l.default)(i)):(i.parseCurrentPhone(),i.initState(),i.documentOnClicked=i.documentOnClicked.bind((0,a.default)(i)),i.documentOnKeyPress=i.documentOnKeyPress.bind((0,a.default)(i)),i._input=null,i.linkRefs={},i)}return(0,o.default)(n,[{key:"componentDidUpdate",value:function(e){(0,c.shallowEqual)(this.props,e)||("cw_error"!==this.props.status||this.props.error!==(0,m.l10n)("cw_call_forward")?this.props.phone!==e.phone&&(this.parseCurrentPhone(),this.initState()):this.setState({number:""}))}},{key:"componentDidMount",value:function(){this.state.currentCountry.phone_format&&this.setNumber(),y.Router.on("route_change",(()=>{this.props.clientPhone&&!this.state.number&&this.initState()})),this.triggerOnChangeProp()}},{key:"initState",value:function(){this.state={number:this.getCurrentNumber(),showList:!1,errorPhone:!1,countries:this.getAllowCountries(),currentCountry:this.getCurrentCountry(),placeholder:this.getCurrentCountry().phone_format,color:h.default.bubble_color||"green"}}},{key:"parseCurrentPhone",value:function(){this.props.clientPhone&&(this.clientPhoneInfo=(0,v.getPhoneNumberInfo)(this.props.clientPhone))}},{key:"getCurrentNumber",value:function(){return this.clientPhoneInfo?this.clientPhoneInfo.innerNumber:""}},{key:"getAllowCountries",value:function(){return this.countries=this.countries||(0,g.sortBy)(h.default.callback_settings.countries,"name")}},{key:"getCurrentCountry",value:function(){let e;this.clientPhoneInfo?e=this.clientPhoneInfo.countryCode:h.default.geoip&&(e=h.default.geoip.split(";")[0]);return this.getAllowCountries().find((t=>t.code===e))||this.getAllowCountries()[0]}},{key:"toggleCountriesList",value:function(e){this.state.countries.length<2||(this.state.showList?this.hideCountriesList():this.showCountriesList(),e.stopPropagation())}},{key:"showCountriesList",value:function(){this.setState({showList:!0,isFocusedInput:!0}),(0,f.addListener)(window.parent.document,"keypress",this.documentOnKeyPress),(0,f.addListener)(window.parent.document,"click",this.documentOnClicked)}},{key:"hideCountriesList",value:function(){this.setState({showList:!1,isFocusedInput:!1}),(0,f.removeEvent)(window.parent.document,"click",this.documentOnClicked),(0,f.removeEvent)(window.parent.document,"keypress",this.documentOnKeyPress)}},{key:"validPhoneNumber",value:function(){if(this._input&&this.state.currentCountry.phone_format){const e=this.state.currentCountry.phone_format,t=this._input&&this._input.value.toString();return(0,v.checkPhoneLength)(t,e,this.state.currentCountry.code)}return this.getFullPhoneNumber().length>9&&this.getFullPhoneNumber().length<16}},{key:"getFullPhoneNumber",value:function(){return this.state.currentCountry.phone_code+this.state.number.replace(/\D+/g,"")}},{key:"getCurrentCode",value:function(){return this.state.currentCountry.phone_code}},{key:"isShowErrorState",value:function(){let e;return e=!this.state.number||0===this.state.number.length||!this.validPhoneNumber(),e}},{key:"inputOnBlur",value:function(){this.setState({isFocusedInput:!1,invalidPhone:this.isShowErrorState()})}},{key:"inputOnFocus",value:function(){this.setState({isFocusedInput:!0,showList:!1})}},{key:"triggerOnChangeProp",value:function(){const e=this.props.onChange;if(void 0!==e){e({value:this.getFullPhoneNumber(),invalidPhone:this.isShowErrorState(),code:this.getCurrentCode()})}}},{key:"triggerOnEnterProp",value:function(){const e=this.props.onEnter;void 0!==e&&e()}},{key:"inputOnInput",value:function(){this.setNumber((()=>{this.setState({invalidPhone:this.isShowErrorState()}),this.trigger("onChange",this._input&&this._input.value.toString().replace(/\D+/g,"")),this.triggerOnChangeProp()}))}},{key:"inputPhoneKeyUp",value:function(e){this.setNumber((()=>{if("keyup"===e.type&&(13===e.keyCode||13===e.which)){this.validPhoneNumber()?(this.trigger("onEnter",this.getFullPhoneNumber(),this.state.currentCountry),this.triggerOnEnterProp()):this.setState({invalidPhone:!0})}}))}},{key:"codeOnClick",value:function(){_.default.desktop()&&this._input&&this._input.focus()}},{key:"documentOnKeyPress",value:function(e){const t=this.getChar(e),n=Object.keys(this.linkRefs).filter((e=>"link_"===e.substr(0,5))).find((e=>e.substr(5,1).toUpperCase()===t.toUpperCase()));n&&this.linkRefs[n].scrollIntoView(!0)}},{key:"documentOnClicked",value:function(e){e.target.closest("#countryList")||this.hideCountriesList()}},{key:"getChar",value:function(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode?e.which<32?null:String.fromCharCode(e.which):null}},{key:"countrySelect",value:function(e){const t=e.delegateTarget&&e.delegateTarget.getAttribute("data-code")||e.target.value;this.setNumber((()=>{const e=this.state.countries.find((e=>e.code===t));this.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:this.isShowErrorState()}),_.default.desktop()&&this._input&&this._input.focus(),this.triggerOnChangeProp()}))}},{key:"setNumber",value:function(e){const t=this._input&&this._input.value.toString();this.setState({number:this.getMaskedNumber(t)},(()=>{e&&e()}))}},{key:"getMaskedNumber",value:function(e){return(0,v.getMaskedValue)(e,this.state.currentCountry.phone_format)}},{key:"focus",value:function(){_.default.desktop()&&this._input&&this._input.focus()}},{key:"isValid",value:function(){const e=this.validPhoneNumber();return this.setState({invalidPhone:!e}),e}},{key:"numberMaxLength",value:function(){return this.state.currentCountry.phone_format?this.state.currentCountry.phone_format.length:15-this.state.currentCountry.phone_code.length}}]),n}(d.default);t.default=E},51313:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(33119)),a=i(n(92664)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=i(n(61125)),d=i(n(98661)),f=i(n(88155)),p=i(n(94184)),g=i(n(40704)),h=n(85347),_=i(n(72953));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}let v=function(e){(0,s.default)(n,e);var t=m(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"getRenderData",value:function(){return{styles:{container:[{container:!0,__singleMod:"single"===this.props.type,__inFormMod:"inForm"===this.props.type}],inputWrap:[{inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone,__alone:1===this.state.countries.length,["_"+this.state.color]:!(!this.state.color||"green"===this.state.color)}],input:[{phoneInput:!0}],countryWrap:[{countryWrap:!0,_isScroll:this.state.countries.length>4},{display:this.state.showList?"block":"none"}]},style:_.default}}},{key:"renderCountryList",value:function(e,t){return d.default.createElement("jdiv",{className:_.default.countryList,onPointerDown:this.delegate("listItem",this.countrySelect.bind(this))},this.state.countries.map(((e,t)=>d.default.createElement("jdiv",{className:_.default.listItem,key:t,dgName:"listItem","data-code":e.code,ref:t=>{this.linkRefs["link_"+e.name]=t}},d.default.createElement("jdiv",{className:_.default.flagIcon+" "+_.default.list,style:{backgroundImage:`url(${(0,h.getFlagIconURL)(e.code)})`}}),d.default.createElement("jdiv",{className:_.default.countryName},e.name),d.default.createElement("jdiv",{className:_.default.countryCode},"+"+e.phone_code)))))}},{key:"renderData",value:function(e,t){const n=(0,p.default)(_.default.flagIcon,this.props.classNameIcon),i=(0,p.default)(t.container.className,this.props.classNameContainer,{});return d.default.createElement("jdiv",(0,r.default)({},t.container,{className:i}),d.default.createElement("jdiv",t.inputWrap,d.default.createElement("jdiv",{className:_.default.flagWrap,onClick:this.toggleCountriesList.bind(this)},d.default.createElement("jdiv",{className:n,style:{backgroundImage:`url(${(0,h.getFlagIconURL)(this.state.currentCountry.code)})`}}),d.default.createElement("jdiv",{className:_.default.flagArrow,style:{display:this.state.countries.length<2?"none":null}},d.default.createElement(g.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:_.default.iconSelect}))),d.default.createElement("jdiv",{className:_.default.phoneCodeWrap,onClick:this.codeOnClick.bind(this)},"+"+this.state.currentCountry.phone_code),d.default.createElement("input",(0,r.default)({},t.input,{onBlur:this.inputOnBlur.bind(this),placeholder:this.state.placeholder,onFocus:this.inputOnFocus.bind(this),type:"text",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:this.inputOnInput.bind(this),onKeyUp:this.inputPhoneKeyUp.bind(this),"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:e=>{this._input=e}})),d.default.createElement("jdiv",t.countryWrap,this.state.countries.length>4?d.default.createElement(f.default,{railClass:_.default.rail,position:"relative"},this.renderCountryList(e,t)):this.renderCountryList(e,t))))}}]),n}(i(n(48639)).default);t.default=v,(0,c.default)(v,"defaultProps",{fillBorderAround:!0})},14945:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(98661)),a=i(n(90146)),s=i(n(45697)),l=i(n(94184)),u=n(90361),c=n(57930),d=i(n(40704)),f=n(20344),p=n(94019);const g=e=>{let t=e.videoButton,n=e.color,i=e.onClick,s=e.isCallButtonEnabled;const g=(0,p.useEnhanced)(),h=g.labelBubble,_=g.callbackPosition;return o.default.createElement("jdiv",{className:(0,l.default)({[a.default.wrap]:!0,[a.default._show]:!0,[a.default._powerBtn]:h,[a.default._powerBtnPositionLeft]:"left"===_,__jivoCallbackBtn:s,__jivoVideoBtn:t}),style:{backgroundColor:n},onClick:i},o.default.createElement("jdiv",(0,r.default)({className:a.default.button,style:{backgroundColor:n}},(0,u.withLocator)(t?c.Locator.CALLBACK_VIDEO_BUTTON:c.Locator.CALLBACK_BUTTON))),o.default.createElement("jdiv",{className:a.default.iconWrap},o.default.createElement(d.default,{iconName:t?"icon-video":"icon-tube",color:"#fff",className:a.default.logoCallback}),t?o.default.createElement("jdiv",{className:a.default.popup},(0,f.l10n)("webrtc_video_text_popup")):null))};g.propTypes={videoButton:s.default.bool,color:s.default.string,onClick:s.default.func,isCallButtonEnabled:s.default.bool};var h=o.default.memo(g);t.default=h},94019:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,l.useSelector)(a.selectLabelBubble),t=(0,l.useSelector)(a.selectWidgetOrientation),n=(0,l.useSelector)(a.selectWidgetPadding),i=(0,s.useState)(e?(0,o.getPowerButtonDesktopPosition)(t,n):"right"),u=(0,r.default)(i,2),c=u[0],d=u[1];return(0,s.useEffect)((()=>{e&&d((0,o.getPowerButtonDesktopPosition)(t,n))}),[t,n]),{labelBubble:e,callbackPosition:c}};var r=i(n(67375)),o=n(80598),a=n(87692),s=n(98661),l=n(36113)},21651:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(67375)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),s=i(n(13279)),l=i(n(45697)),u=n(90361),c=n(57930),d=i(n(40704)),f=i(n(51313)),p=i(n(66400)),g=i(n(87316)),h=i(n(82656)),_=n(53285),m=n(20344),v=n(70010),y=n(44145),b=i(n(4855)),E=n(16217);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}b.default.name("CallbackPopup");const T=e=>{let t=e.checkEula,n=e.callTime,i=e.onSubmit,l=e.onClose,b=(e.eulaLink,e.color),C=e.status,T=e.error,D=e.phone,w=e.isDelayed,O=e.delayedCallError,S=e.delayedCallPeriods,A=e.onDisabledSubmitClick;const I=(0,a.useState)(!1),k=(0,o.default)(I,2),M=k[0],P=k[1],R=(0,a.useState)(!1),x=(0,o.default)(R,2),N=x[0],L=x[1],F=(0,a.useState)(null),j=(0,o.default)(F,2),B=j[0],W=j[1],U=(0,a.useState)(null),H=(0,o.default)(U,2),z=H[0],G=H[1],V=(0,a.useState)(null),$=(0,o.default)(V,2),q=$[0],Z=$[1],K=(0,a.useState)(null),Y=(0,o.default)(K,2),J=Y[0],X=Y[1],Q=(0,a.useRef)(null),ee=(0,a.useRef)(null),te=(0,a.useRef)(null),ne=(0,_.getDelayedDays)(S),ie=(0,_.getSelectedDay)(Q),re=(0,_.getDelayedTimes)(S,z||(ie?ie.value:null));(0,a.useEffect)((()=>{te&&te.current&&te.current._input&&te.current._input.focus(),w&&(G(ne[0].value),Z(re[0].value))}),[]);const oe=()=>a.default.createElement("jdiv",{className:s.default.input},a.default.createElement(f.default,{type:"inForm",status:C,error:T,phone:D,onChange:e=>{let t=e.value,n=e.invalidPhone;n||W("+"+t),X(!n)},onEnter:e=>{ae&&ae()},ref:te})),ae=()=>{if(t&&!M)L(!0);else if(w){if(!z||!q){const e=(0,_.getSelectedDateTime)(Q,ee);if(!e)return;return void(i&&i(B,e))}i&&i(B,`${z}|${q}`)}else i&&i(B)},se=(0,y.getUserSettings)().callHeaderText||(0,m.l10n)("cwPopupPutPhone");return a.default.createElement("jdiv",{className:s.default.wrap},a.default.createElement("jdiv",{className:s.default.popup},a.default.createElement("jdiv",{className:s.default.hand}),a.default.createElement("jdiv",{onClick:()=>{l&&l()}},a.default.createElement(d.default,(0,r.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:s.default.closeIcon},(0,u.withLocator)(c.Locator.CLOSE_BUTTON)))),a.default.createElement("jdiv",{className:s.default.contentWrap},a.default.createElement("jdiv",{className:s.default.title},se),w?a.default.createElement("jdiv",{className:s.default.subtitle},(0,m.l10n)("cwPopupTime")):a.default.createElement("jdiv",{className:s.default.subtitle},(0,m.l10n)("cw_callAfter")," ",a.default.createElement("b",null,n)," "+(0,m.l10n)((0,E.getSeconds)(n))),w&&S?a.default.createElement("jdiv",{className:s.default.delayedWrap},a.default.createElement("jdiv",{className:s.default.periodsWrap},a.default.createElement("jdiv",null,(0,m.l10n)("lblCallMe")),a.default.createElement(g.default,{disabled:!1,classNameWrap:s.default.periodSelectWrap,invalid:O,options:ne,theme:"inset",onChange:e=>{let t=e.option;G(t.value)},ref:Q,color:b,isCallbackPopup:!0}),a.default.createElement("jdiv",null,(0,m.l10n)("callback_delayed_period_delimiter")),a.default.createElement(g.default,{disabled:!1,classNameWrap:s.default.periodSelectWrap,invalid:O,options:re,theme:"inset",onChange:e=>{let t=e.option;Z(t.value)},ref:ee,color:b})),oe()):oe(),a.default.createElement(p.default,{height:"md",widthFluid:!0,disabled:w&&(!z||!q)||!J||t&&!M||N||O,onDisabledClick:()=>{A&&A()},onClick:ae},w?(0,m.l10n)("callback_delayed_button_submit"):(0,m.l10n)("cw_callButtonText")),(()=>{if(!t)return null;const e=(0,v.getEulaState)();return a.default.createElement("jdiv",{className:s.default.eula},a.default.createElement(h.default,{checked:M,error:N,onClick:()=>{P(!M),L(!1)}}),a.default.createElement("jdiv",{className:s.default.eulaText},(0,v.getAgreementText)(e.agreementBasis),(0,v.getEulaLink)((()=>{(0,v.trackClick)()}))))})())))};T.propTypes={checkEula:l.default.bool,callTime:l.default.number,onSubmit:l.default.func,onClose:l.default.func,eulaLink:l.default.string,color:l.default.string,isDelayed:l.default.bool,delayedCallError:l.default.bool,delayedCallPeriods:l.default.any,status:l.default.oneOfType([l.default.string,l.default.bool]),error:l.default.string,phone:l.default.string,onDisabledSubmitClick:l.default.func};var D=a.default.memo(T);t.default=D},53285:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedTime=t.getSelectedDay=t.getSelectedDateTime=t.getDelayedTimes=t.getDelayedDays=void 0;const n=e=>{if(!e)return[];const t=[],n=new Set;for(let i=0;i<e.length;i++){const r=e[i].label.split(",")[0],o=e[i].value.split("|")[0];n.has(o)||(n.add(o),t.push({label:"–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"===r?"–°–µ–≥–æ–¥–Ω—è":r,value:o}))}return t};t.getDelayedDays=n;t.getDelayedTimes=(e,t)=>{if(!e)return[];if(!t){const i=n(e);if(!i.length)return[];t=i[0].value}const i=[];for(let n=0;n<e.length;n++){const r=e[n].label,o=e[n].value.split("|")[0],a=e[n].value.split("|")[1];o===t&&i.push({label:"–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"===r?r:a,value:a})}return i};t.getSelectedDay=e=>{if(e&&e.current){return e.current.props.options[e.current.state.activeOptionIndex]}return{label:null,value:null}};t.getSelectedTime=e=>{if(e&&e.current){return e.current.props.options[e.current.state.activeOptionIndex]}return{label:null,value:null}};t.getSelectedDateTime=(e,t)=>{if(e.current&&t.current){const n=e.current.props.options[e.current.state.activeOptionIndex],i=t.current.props.options[t.current.state.activeOptionIndex];if(n&&n.value&&i&&i.value)return`${n.value}|${i.value}`}}},82656:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(98661)),o=i(n(35595)),a=i(n(94184)),s=i(n(45697));const l=e=>{let t=e.checked,n=e.error,i=e.onClick;return r.default.createElement("jdiv",{className:(0,a.default)({[o.default.checkbox]:!0,[o.default._checked]:t,[o.default._error]:n}),onClick:()=>{i&&i()}})};l.propTypes={checked:s.default.bool,error:s.default.bool,onClick:s.default.func,color:s.default.string};var u=r.default.memo(l);t.default=u},47548:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(98661)),a=i(n(94184)),s=i(n(45697)),l=n(57930),u=n(90361),c=i(n(4244)),d=i(n(5243)),f=i(n(40704));const p=e=>{let t=e.onClick,n=e.drag,i=e.callEnabled,s=e.inCall,p=e.show,g=e.ignoreDragHeight;return o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",{className:(0,a.default)({[d.default.wrap]:!0,[d.default.__show]:p,[d.default.__call]:s}),dir:"ltr",id:"jivo_action"},o.default.createElement("jdiv",{className:d.default.closeButton,onClick:t,id:"jivo_close_button"},o.default.createElement(f.default,(0,r.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:d.default.closeIcon},(0,u.withLocator)(l.Locator.CLOSE_BUTTON))))),n?o.default.createElement(c.default,{isNarrow:i,IsIgnoreHeight:g}):null)};p.propTypes={onClick:s.default.func.isRequired,drag:s.default.bool,callEnabled:s.default.bool,inCall:s.default.bool,show:s.default.bool,ignoreDragHeight:s.default.bool};var g=o.default.memo(p);t.default=g},87736:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(98661)),a=i(n(94184)),s=i(n(45697)),l=n(57930),u=n(15496),c=i(n(30123));const d=e=>{let t=e.expanded,n=void 0!==t&&t,i=e.dark,s=void 0===i||i,d=e.inCall,f=void 0!==d&&d,p=e.inChat,g=void 0!==p&&p,h=e.isMobile,_=void 0!==h&&h,m=e.isTablet,v=void 0!==m&&m,y=e.url,b=void 0===y?null:y,E=e.headerColor,C=void 0===E?null:E,T=e.isBot,D=void 0!==T&&T;const w=b?{backgroundImage:`url(${b})`}:{},O=(0,a.default)({[c.default.avatar]:!0,[c.default._connected]:!g&&f,[c.default._expanded]:n,[c.default._mobile]:_,[c.default._tablet]:v,[c.default._chatStyle]:g}),S=(0,a.default)({[c.default.avatarImg]:!0,[c.default.__isBot]:!b&&D}),A=g?"CHAT":"HEADER",I=b?l.Locator[`${A}_AVATAR`]:l.Locator[`${A}_AVATAR_ANON`];return o.default.createElement("jdiv",{className:O},o.default.createElement("jdiv",(0,r.default)({className:s?c.default.darkAvatar:c.default.lightAvatar},(0,u.withLocator)(I)),o.default.createElement("jdiv",{className:S,style:w}),g||D?null:o.default.createElement("jdiv",{className:c.default.onlineBadge,style:C?{borderColor:C}:null})))};d.propTypes={expanded:s.default.bool,dark:s.default.bool.isRequired,inCall:s.default.bool,inChat:s.default.bool,isMobile:s.default.bool,isTablet:s.default.bool,url:s.default.string,headerColor:s.default.string,isBot:s.default.bool};var f=o.default.memo(d);t.default=f},32083:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(88436)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),s=i(n(45697)),l=i(n(94184)),u=i(n(2903));const c=["children","color","compact","component","disabled","fullWidth","leftIcon","radius","rightIcon","size","type","uppercase","variant","isIos"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=(0,a.forwardRef)(((e,t)=>{let n=e.children,i=e.color,s=e.compact,d=e.component,f=e.disabled,p=e.fullWidth,g=e.leftIcon,h=e.radius,_=e.rightIcon,m=e.size,v=e.type,y=e.uppercase,b=e.variant,E=e.isIos,C=(0,o.default)(e,c);const T=d||"button",D=(0,l.default)({[u.default.root]:!0,[u.default[b]]:!0,[u.default.__compact]:s,[u.default.__disabled]:f&&"button"!==d,[u.default.__fullWidth]:p,[u.default.__uppercase]:y,[u.default.__ios]:E,[u.default["__"+i]]:!0,[u.default["__"+m+"Size"]]:!0,[u.default["__"+h+"Radius"]]:!0}),w=(0,l.default)({[u.default.icon]:!0,[u.default.__left]:g}),O=(0,l.default)({[u.default.icon]:!0,[u.default.__right]:_});return a.default.createElement(T,(0,r.default)({ref:t,type:v,disabled:f,className:D},C),a.default.createElement("span",{className:u.default.content},g&&a.default.createElement("span",{className:w},g),n,_&&a.default.createElement("span",{className:O},_)))}));f.displayName="Button",f.defaultProps={color:"green",size:"sm",radius:"sm",type:"button",variant:"filled"},f.propTypes={children:s.default.node.isRequired,color:s.default.string,compact:s.default.bool,component:s.default.any,disabled:s.default.bool,fullWidth:s.default.bool,leftIcon:s.default.node,rightIcon:s.default.node,uppercase:s.default.bool,radius:s.default.oneOf(["xs","sm","md","lg","xl"]),size:s.default.oneOf(["xs","sm","md","lg","xl"]),type:s.default.oneOf(["button","reset","submit"]),variant:s.default.oneOf(["light","outline","subtle","filled","default","white"]),isIos:s.default.bool};var p=f;t.default=p},61744:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=void 0;var r=i(n(23101)),o=i(n(98661)),a=i(n(45697)),s=i(n(94184)),l=n(43417),u=n(20344),c=i(n(57147)),d=i(n(47548)),f=i(n(40704)),p=n(81351),g=i(n(32083)),h=i(n(6139)),_=n(26932),m=n(20361),v=i(n(19955)),y=n(69882),b=n(21476),E=n(47060),C=n(55921),T=n(83549),D=n(54415),w=n(83170),O=i(n(308));const S=e=>{let t=e.onRetry;(0,T.useErrorCatcher)(S.displayName);const n=v.default.mobileOrTablet()||(0,y.isChatPage)(),i=()=>{n?b.Router.next(E.RouterEvent.CloseWindow):_.transitionDispatchers.startTransition(m.ScriptName.CLOSE_WIDGET)},a=(0,C.useGetHeaderColors)(),A=a.background,I=a.leafBackground,k=a.isDarkText,M=a.patternUrl,P=(0,s.default)({[O.default.errorWrap]:!0,[O.default.__mobile]:n,[O.default.__dark]:k});return o.default.createElement("jdiv",{className:P},o.default.createElement("jdiv",{className:O.default.header,style:{background:A}},o.default.createElement("jdiv",{className:O.default.pattern,style:{backgroundImage:M?`url(${M})`:null}},n?o.default.createElement("jdiv",(0,r.default)({className:O.default.backWrapper},(0,l.onClickHandler)(i,!0,!0)),o.default.createElement(f.default,{iconName:"icon-close",color:k?"#272433":"#fff",className:O.default.backButton})):o.default.createElement(d.default,{drag:!1,callEnabled:!1,inCall:!1,show:!0,onClick:()=>{i()},ignoreDragHeight:!1}),o.default.createElement("jdiv",{className:O.default.headerText},(0,u.l10n)("cb_loading")),o.default.createElement(c.default,{onClick:()=>{},orientation:"bottom",backgroundColor:I,online:!0}))),o.default.createElement("jdiv",{className:O.default.errorContent},o.default.createElement("jdiv",{className:O.default.connectContainer},o.default.createElement(p.DisconnectAlert,{onReconnect:t})),o.default.createElement(f.default,{iconName:"iconErrorLoad",className:O.default.iconError}),o.default.createElement("jdiv",{className:O.default.errorText},(0,u.l10n)("maintenanceSystemText"),o.default.createElement(h.default,{h:12}),o.default.createElement(g.default,(0,r.default)({component:"jdiv",variant:"default"},(0,l.onClickHandler)((()=>{t(),D.Monitoring.telemetry(w.TelemetryName.RETRY_CLICK)}),!0,!0)),(0,u.l10n)("tryAgain")))))};t.ErrorPage=S,S.propTypes={onRetry:a.default.func},S.displayName="ErrorPage"},88155:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(7819)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=i(n(61125)),d=i(n(88436)),f=i(n(23101)),p=A(n(98661)),g=i(n(53879)),h=A(n(54087)),_=n(21951),m=n(32183),v=n(22932),y=n(21733),b=n(20676),E=n(61699);const C=["style"],T=["style"],D=["style"],w=["style"],O=["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","onlyY","universal","autoHeight","autoHeightMin","autoHeightMax","scrollMarginTop","railClass","scrollWrapClass","position","style","children"];function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const P=()=>!1;let R,x;Math.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};let N=function(e){(0,s.default)(n,e);var t=I(n);function n(e){var i;(0,r.default)(this,n);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return(i=t.call.apply(t,[this,e].concat(s))).getScrollLeft=i.getScrollLeft.bind((0,a.default)(i)),i.getScrollTop=i.getScrollTop.bind((0,a.default)(i)),i.getScrollWidth=i.getScrollWidth.bind((0,a.default)(i)),i.getScrollHeight=i.getScrollHeight.bind((0,a.default)(i)),i.getClientWidth=i.getClientWidth.bind((0,a.default)(i)),i.getClientHeight=i.getClientHeight.bind((0,a.default)(i)),i.getValues=i.getValues.bind((0,a.default)(i)),i.getThumbHorizontalWidth=i.getThumbHorizontalWidth.bind((0,a.default)(i)),i.getThumbVerticalHeight=i.getThumbVerticalHeight.bind((0,a.default)(i)),i.getScrollLeftForOffset=i.getScrollLeftForOffset.bind((0,a.default)(i)),i.getScrollTopForOffset=i.getScrollTopForOffset.bind((0,a.default)(i)),i.getScrollDiff=i.getScrollDiff.bind((0,a.default)(i)),i.scrollLeft=i.scrollLeft.bind((0,a.default)(i)),i.scrollTop=i.scrollTop.bind((0,a.default)(i)),i.scrollToLeft=i.scrollToLeft.bind((0,a.default)(i)),i.scrollToTop=i.scrollToTop.bind((0,a.default)(i)),i.scrollToRight=i.scrollToRight.bind((0,a.default)(i)),i.scrollToBottom=i.scrollToBottom.bind((0,a.default)(i)),i.handleTrackMouseEnter=i.handleTrackMouseEnter.bind((0,a.default)(i)),i.handleTrackMouseLeave=i.handleTrackMouseLeave.bind((0,a.default)(i)),i.handleHorizontalTrackMouseDown=i.handleHorizontalTrackMouseDown.bind((0,a.default)(i)),i.handleVerticalTrackMouseDown=i.handleVerticalTrackMouseDown.bind((0,a.default)(i)),i.handleHorizontalThumbMouseDown=i.handleHorizontalThumbMouseDown.bind((0,a.default)(i)),i.handleVerticalThumbMouseDown=i.handleVerticalThumbMouseDown.bind((0,a.default)(i)),i.handleWindowResize=i.handleWindowResize.bind((0,a.default)(i)),i.handleScroll=i.handleScroll.bind((0,a.default)(i)),i.handleMouseWheel=i.handleMouseWheel.bind((0,a.default)(i)),i.handleDrag=i.handleDrag.bind((0,a.default)(i)),i.handleDragEnd=i.handleDragEnd.bind((0,a.default)(i)),i.state={didMountUniversal:!1},i.ignore=!1,i.callbackCounter=0,i.view={},i}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.requestFrame&&(0,h.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"setIgnore",value:function(e){this.ignore=e}},{key:"getIgnore",value:function(){return this.ignore}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view.scrollTop}},{key:"getScrollWidth",value:function(){return this.view.scrollWidth}},{key:"getScrollHeight",value:function(){return this.view.scrollHeight}},{key:"getScrollDiff",value:function(){return this.getScrollHeight()-this.getScrollTop()-this.getClientHeight()}},{key:"hasScroll",value:function(){return this.getScrollHeight()>this.getClientHeight()}},{key:"getClientWidth",value:function(){return this.view.clientWidth}},{key:"getClientHeight",value:function(){return this.view.clientHeight}},{key:"getValues",value:function(){const e=this.view,t=e.scrollLeft,n=e.scrollTop,i=e.scrollWidth,r=e.scrollHeight,o=e.clientWidth,a=e.clientHeight;return{left:t/(i-o)||0,top:n/(r-a)||0,scrollLeft:t,scrollTop:n,scrollWidth:i,scrollHeight:r,clientWidth:o,clientHeight:a}}},{key:"getThumbHorizontalWidth",value:function(){const e=this.props,t=e.thumbSize,n=e.thumbMinSize,i=this.view,r=i.scrollWidth,o=i.clientWidth,a=(0,m.getInnerWidth)(this.trackHorizontal),s=Math.ceil(o/r*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){const e=this.props,t=e.thumbSize,n=e.thumbMinSize,i=this.view,r=i.scrollHeight,o=i.clientHeight,a=(0,m.getInnerHeight)(this.trackVertical),s=Math.ceil(o/r*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){const t=this.view,n=t.scrollWidth,i=t.clientWidth;return e/((0,m.getInnerWidth)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-i)}},{key:"getScrollTopForOffset",value:function(e){const t=this.view,n=t.scrollHeight,i=t.clientHeight;return e/((0,m.getInnerHeight)(this.trackVertical)-this.getThumbVerticalHeight())*(n-i)}},{key:"scrollLeft",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollLeft=e}},{key:"scrollTop",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollTop=e}},{key:"scrollToLeft",value:function(){this.view.scrollLeft=0}},{key:"scrollToTop",value:function(){this.view.scrollTop=0}},{key:"scrollToRight",value:function(){this.view.scrollLeft=this.view.scrollWidth}},{key:"scrollToBottom",value:function(){if(!this.hasScroll())return;const e=this.getScrollHeight();this.view.scrollTop=0!==e?this.view.scrollHeight:e}},{key:"setBottomPosition",value:function(){R=this.view.childNodes[0].clientHeight-(this.container.parentNode.clientHeight||254),this.view.style.bottom=R+"px"}},{key:"addListeners",value:function(){if("undefined"==typeof document)return;const e=this.view,t=this.trackHorizontal,n=this.trackVertical,i=this.thumbHorizontal,r=this.thumbVertical,o=this.container;(0,_.addListener)(e,"scroll",this.handleScroll,!0),(0,_.addListener)(e,"mousewheel",this.handleMouseWheel),(0,m.getScrollBarWidth)()&&(t&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown)),o&&o.addEventListener("mouseenter",this.handleTrackCheckHide.bind(this)),n&&(n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown)),i&&i.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),r&&r.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}},{key:"removeListeners",value:function(){if("undefined"==typeof document)return;const e=this.view,t=this.trackHorizontal,n=this.trackVertical,i=this.thumbHorizontal,r=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mousewheel",this.handleMouseWheel),(0,m.getScrollBarWidth)()&&(t&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown)),n&&(n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown)),i&&i.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),r&&r.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}},{key:"handleScroll",value:function(e){const t=this.props,n=t.onScroll,i=t.onScrollFrame;n&&n(e),this.update((e=>{const t=e.scrollLeft,n=e.scrollTop;this.viewScrollLeft=t,this.viewScrollTop=n,i&&i(e)})),this.detectScrolling()}},{key:"handleTouchMove",value:function(e){if((0,m.isInput)(e.target.tagName)){e.stopPropagation(),e.preventDefault();const t=this.view.childNodes[0].clientHeight-this.container.parentNode.clientHeight,n=R-(e.touches[0].pageY+x);t>n&&0<n&&(R-=e.touches[0].pageY+x,this.view.style.bottom=R+"px")}}},{key:"handleTouchStart",value:function(e){-1===["INPUT","TEXTAREA","A"].indexOf(e.target.tagName)&&(e.stopPropagation(),e.preventDefault(),x=-1*e.touches[0].pageY)}},{key:"handleMouseWheel",value:function(e){e.stopPropagation();const t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,n=this.view.scrollTop+this.view.clientHeight-this.view.scrollHeight>=0,i=this.view.scrollTop<=0;(t<0&&n||t>0&&i)&&e.preventDefault()}},{key:"handleScrollStart",value:function(){const e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){const e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();const t=e.target,n=e.clientX,i=t.getBoundingClientRect().left,r=this.getThumbHorizontalWidth(),o=Math.abs(i-n)-r/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();const t=e.target,n=e.clientY,i=t.getBoundingClientRect().top,r=this.getThumbVerticalHeight(),o=Math.abs(i-n)-r/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);const t=e.target,n=e.clientX,i=t.offsetWidth,r=t.getBoundingClientRect().left;this.prevPageX=i-(n-r)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);const t=e.target,n=e.clientY,i=t.offsetHeight,r=t.getBoundingClientRect().top;this.prevPageY=i-(n-r)}},{key:"setupDragging",value:function(){const e=(0,v.getPageWindow)().document;(0,g.default)(e.body,E.disableSelectStyle),e.addEventListener("mousemove",this.handleDrag),e.addEventListener("mouseup",this.handleDragEnd),e.onselectstart=P}},{key:"teardownDragging",value:function(){const e=(0,v.getPageWindow)().document;(0,g.default)(e.body,E.disableSelectStyleReset),e.removeEventListener("mousemove",this.handleDrag),e.removeEventListener("mouseup",this.handleDragEnd),e.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){const t=e.clientX,n=this.trackHorizontal.getBoundingClientRect().left,i=this.getThumbHorizontalWidth()-this.prevPageX,r=-n+t-i;this.view.scrollLeft=this.getScrollLeftForOffset(r)}if(this.prevPageY){const t=e.clientY,n=this.trackVertical.getBoundingClientRect().top,i=this.getThumbVerticalHeight()-this.prevPageY,r=-n+t-i;this.view.scrollTop=this.getScrollTopForOffset(r)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackCheckHide",value:function(){this.props.autoHide&&this.view&&this.trackVertical&&(this.hasScroll()?this.showTracks():(0,g.default)(this.trackVertical,{opacity:0}))}},{key:"handleTrackMouseEnter",value:function(){this.hasScroll()&&(this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide())}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.dragging||(this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide())}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),this.trackHorizontal&&(0,g.default)(this.trackHorizontal,{opacity:1}),(0,g.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){if(this.dragging)return;if(this.scrolling)return;if(this.trackMouseOver)return;const e=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((()=>{this.trackHorizontal&&(0,g.default)(this.trackHorizontal,{opacity:0}),(0,g.default)(this.trackVertical,{opacity:0})}),e)}},{key:"detectScrolling",value:function(){this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((()=>{this.lastViewScrollLeft===this.viewScrollLeft&&this.lastViewScrollTop===this.viewScrollTop&&(clearInterval(this.detectScrollingInterval),this.scrolling=!1,this.handleScrollStop()),this.lastViewScrollLeft=this.viewScrollLeft,this.lastViewScrollTop=this.viewScrollTop}),100))}},{key:"raf",value:function(e){this.requestFrame&&(0,h.cancel)(this.requestFrame);const t=this.enableFallback?(0,v.getPageWindow)().requestAnimationFrame:h.default;this.requestFrame=t((()=>{this.requestFrame=void 0,this.callbackCounter++,e()}))}},{key:"update",value:function(e){this.raf((()=>this._update(e))),setTimeout((()=>{const e=(0,v.getPageWindow)();!this.callbackCounter&&e.requestAnimationFrame&&(this.enableFallback=!0)}),1e3)}},{key:"_update",value:function(e){const t=this.props,n=t.onUpdate,i=t.hideTracksWhenNotNeeded;if(!this.view)return;const r=this.getValues();if((0,m.getScrollBarWidth)()){if(this.trackHorizontal){r.scrollLeft,r.clientWidth,r.scrollWidth,(0,m.getInnerWidth)(this.trackHorizontal),this.getThumbHorizontalWidth()}const e=r.scrollTop,t=r.clientHeight,n=r.scrollHeight,o=(0,m.getInnerHeight)(this.trackVertical),a=this.getThumbVerticalHeight(),s={height:a,transform:`translateY(${e/(n-t)*(o-a)}px)`};if(i){if(this.trackHorizontal){const e={visibility:scrollWidth>clientWidth?"visible":"hidden"};(0,g.default)(this.trackHorizontal,e)}const e={visibility:n>t?"visible":"hidden"};(0,g.default)(this.trackVertical,e)}this.thumbHorizontal&&(0,g.default)(this.thumbHorizontal,thumbHorizontalStyle),(0,g.default)(this.thumbVertical,s)}n&&n(r),"function"==typeof e&&e(r)}},{key:"render",value:function(){const e=(0,m.getScrollBarWidth)(),t=this.props,n=(t.onScroll,t.onScrollFrame,t.onScrollStart,t.onScrollStop,t.onUpdate,t.renderView),i=t.renderTrackHorizontal,r=t.renderTrackVertical,o=t.renderThumbHorizontal,a=t.renderThumbVertical,s=t.tagName,l=(t.hideTracksWhenNotNeeded,t.autoHide),u=(t.autoHideTimeout,t.autoHideDuration),c=(t.thumbSize,t.thumbMinSize,t.onlyY),f=t.universal,g=t.autoHeight,h=t.autoHeightMin,_=t.autoHeightMax,v=(t.scrollMarginTop,t.railClass,t.scrollWrapClass),C=t.position,T=t.style,D=t.children,w=(0,d.default)(t,O),S=this.state.didMountUniversal,A=M(M(M({},E.containerStyleDefault),g&&M(M({},E.containerStyleAutoHeight),{},{minHeight:h,maxHeight:_})),T),I=M(M(M(M({},E.viewStyleDefault),{},{display:"block",marginRight:e?-e:0,marginBottom:!c&&e?-e:0},g&&M(M({},E.viewStyleAutoHeight),{},{minHeight:(0,y.isString)(h)?`calc(${h} + ${e}px)`:h+e,maxHeight:(0,y.isString)(_)?`calc(${_} + ${e}px)`:_+e})),g&&f&&!S&&{minHeight:h,maxHeight:_}),f&&!S&&E.viewStyleUniversalInitial);C&&(I.position=C),c&&(I.overflowX="hidden",b.platform.isMobileOrTablet||(I.overflowY="scroll"));const k={transition:`opacity ${u}ms`,opacity:0},P=M(M(M({},E.trackHorizontalStyleDefault),l&&k),(!e||f&&!S)&&{display:"none"}),R=M(M(M({},E.trackVerticalStyleDefault),l&&k),(!e||f&&!S)&&{display:"none"}),x=[(0,p.cloneElement)(n({style:I},v),{key:"view",ref:e=>{this.view=e}},D)];return c||x.push((0,p.cloneElement)(i({style:P}),{key:"trackHorizontal",ref:e=>{this.trackHorizontal=e}},(0,p.cloneElement)(o({style:E.thumbHorizontalStyleDefault}),{ref:e=>{this.thumbHorizontal=e}}))),x.push((0,p.cloneElement)(r({style:R},this.props.scrollMarginTop,this.props.railClass),{key:"trackVertical",ref:e=>{this.trackVertical=e}},(0,p.cloneElement)(a({style:E.thumbVerticalStyleDefault}),{ref:e=>{this.thumbVertical=e}}))),(0,p.createElement)(s,M(M({},w),{},{style:A,ref:e=>{this.container=e}}),x)}}]),n}(p.Component);t.default=N,N.defaultProps={renderView:function(e,t){return p.default.createElement("jdiv",(0,f.default)({className:t},e))},renderTrackHorizontal:function(e){let t=e.style,n=(0,d.default)(e,C);const i=M(M({},t),{},{right:2,bottom:2,left:2,borderRadius:3});return p.default.createElement("jdiv",(0,f.default)({style:i},n))},renderTrackVertical:function(e,t,n){let i=e.style,r=(0,d.default)(e,T);const o=M(M({},i),{},{right:3,bottom:2,top:t||2,borderRadius:4,width:8});return p.default.createElement("jdiv",(0,f.default)({className:n,style:o},r))},renderThumbHorizontal:function(e){let t=e.style,n=(0,d.default)(e,D);const i=M(M({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6dce4"});return p.default.createElement("jdiv",(0,f.default)({style:i},n))},renderThumbVertical:function(e){let t=e.style,n=(0,d.default)(e,w);const i=M(M({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6d4d4"});return p.default.createElement("jdiv",(0,f.default)({style:i},n))},tagName:"jdiv",thumbMinSize:30,hideTracksWhenNotNeeded:!0,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,onlyY:!0,universal:!1,railClass:"null",scrollWrapClass:null}},61699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewStyleUniversalInitial=t.viewStyleDefault=t.viewStyleAutoHeight=t.trackVerticalStyleDefault=t.trackHorizontalStyleDefault=t.thumbVerticalStyleDefault=t.thumbHorizontalStyleDefault=t.disableSelectStyleReset=t.disableSelectStyle=t.containerStyleDefault=t.containerStyleAutoHeight=void 0;t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"block",WebkitOverflowScrolling:"touch"};t.containerStyleAutoHeight={height:"auto"};t.viewStyleDefault={position:"absolute",maxHeight:"100%",top:"auto",left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};const n={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};t.viewStyleAutoHeight=n;t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};t.trackHorizontalStyleDefault={position:"absolute",height:0};t.trackVerticalStyleDefault={position:"absolute",width:8};t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};t.disableSelectStyle={userSelect:"none"};t.disableSelectStyleReset={userSelect:""}},6139:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=i(n(98661)),a=i(n(45697)),s=i(n(94184)),l=i(n(42217)),u=n(21733),c=n(79641);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=e=>{let t=e.h,n=e.w,i=e.component,r=e.addClassname;const a=i||"div",d=(0,s.default)({[l.default.spacer]:!0,[l.default["__"+t+"H"]]:(0,u.isString)(t),[l.default["__"+n+"W"]]:(0,u.isString)(n),[r]:r}),p=f(f({},(0,c.isNumber)(t)&&{height:t,minHeight:t}),(0,c.isNumber)(n)&&{width:n,minWidth:n});return o.default.createElement(a,{style:p,className:d})};p.propTypes={h:a.default.oneOfType([a.default.number,a.default.oneOf(["xs","sm","md","lg","xl"])]),w:a.default.oneOfType([a.default.number,a.default.oneOf(["xs","sm","md","lg","xl"])]),addClassname:a.default.string,component:a.default.any};var g=p;t.default=g},43147:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=i(n(98661)),o=i(n(45697)),a=i(n(8471)),s=i(n(24818)),l=n(56436),u=n(63664),c=n(47060);function d(e){let t=e.bg,n=e.logoHovered,i=e.refWrap;(0,u.useErrorCatcher)(d.displayName);const o=(0,l.useEnhanced)(),f=o.color,p=o.color2,g=o.fontColor,h=o.billRu,_=o.isOnline,m=o.orientation,v=o.iconLocale,y=o.enabled,b=o.customEl,E=o.route,C=o.reportTelemetry;if(y)return b&&b.current?r.default.createElement(s.default,{logoHovered:E==c.Route.LABEL&&n,customEl:b.current,bg:t,billRu:h,isOnline:_,fontColor:g,color:f,color2:p,orientation:m,iconLocale:v,reportTelemetry:C,refWrap:i}):r.default.createElement(a.default,{route:E,bg:t,color:f,color2:p,orientation:m,fontColor:g,billRu:h,isOnline:_,reportTelemetry:C})}d.displayName="CustomCopyright",d.propTypes={bg:o.default.string,logoHovered:o.default.bool,refWrap:o.default.func}},24818:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=i(n(98661)),s=i(n(45697)),l=n(21951),u=n(22932),c=n(9393),d=n(40754),f=n(83170),p=i(n(78269)),g=i(n(43973));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const _=e=>{let t=e.logoHovered,n=e.customEl,i=e.bg,s=e.color,h=e.color2,_=e.orientation,m=e.refWrap,v=e.iconLocale,y=e.billRu,b=e.isOnline,E=e.fontColor,C=e.reportTelemetry;const T=(0,o.useState)(!1),D=(0,r.default)(T,2),w=D[0],O=D[1],S=()=>O(!0),A=()=>O(!1),I={color:E,display:t||w?"block":"none",background:i};if((0,o.useLayoutEffect)((()=>{if(!n)return;const e="jivo_copyright_corner";if(!(0,u.getPageWindow)().document.getElementById(e)){const t=(0,u.getPageWindow)().document.createElement("div");t.id=e,t.className="jivo-"+_,n.appendChild(t);const i=(0,d.getBgBorderStyle)(s,h,_);let r;if(Object.assign(t.style,i),(0,c.each)(n.childNodes,(e=>{"A"===e.tagName&&(r=e)})),r){const e=document.createElement("jdiv");e.className=g.default.customWrap,n.replaceChild(e,r),a.default.render(o.default.createElement(p.default,{billRu:y,isOnline:b,fontColor:E,onClick:()=>{C(f.TelemetryName.LOGO_CLICK)},startText:null}),e)}C(f.TelemetryName.SITE_CUSTOM_COPYRIGHT)}return(0,l.addListener)(n,"mouseover",S),(0,l.addListener)(n,"mouseout",A),function(){(0,l.removeEvent)(n,"mouseover",S),(0,l.removeEvent)(n,"mouseout",A)}}),[]),n){const e=(()=>{const e=(0,d.getTooltipPosition)(n,m,_,v);return Object.assign(I,e)})();n.className=g.default.copyright,Object.assign(n.style,e)}return o.default.createElement("jdiv",{className:g.default.hide})};_.displayName="CustomCopyright",_.propTypes={logoHovered:s.default.bool,customEl:s.default.object,bg:s.default.string,color:s.default.string,color2:s.default.string,orientation:s.default.string,iconLocale:s.default.string,billRu:s.default.bool,isOnline:s.default.bool,fontColor:s.default.string,reportTelemetry:s.default.func,refWrap:s.default.func};var m=_;t.default=m},8471:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=i(n(23101)),o=i(n(67375)),a=i(n(98661)),s=i(n(94184)),l=i(n(45697)),u=n(20344),c=i(n(43973)),d=n(90361),f=n(57930),p=i(n(78269)),g=n(40754),h=n(83170),_=n(39731);function m(e){let t=e.bg,n=e.color,i=e.color2,l=e.orientation,m=e.billRu,v=e.isOnline,y=e.fontColor,b=e.route,E=e.reportTelemetry;const C=(0,_.splitString)((0,u.l10n)("businessCopyright"),"{0}"),T=(0,o.default)(C,2),D=T[0],w=T[1],O=(0,s.default)({[c.default.copyright]:!0,[c.default["_"+l]]:!0,[c.default.__ru]:!!m}),S=(0,g.getBgBorderStyle)(n,i,l);return a.default.createElement("jdiv",(0,r.default)({className:O},(0,d.withLocator)(f.Locator.LABEL_COPYRIGHT_POPUP),{style:{background:t}}),a.default.createElement("jdiv",{className:c.default.text,style:{color:y}},a.default.createElement(p.default,{billRu:m,isOnline:v,fontColor:y,onClick:()=>{E(h.TelemetryName.LOGO_CLICK,b)},startText:D}),w),a.default.createElement("jdiv",{className:c.default.corner,style:S}))}m.propTypes={bg:l.default.string.isRequired,color:l.default.string.isRequired,color2:l.default.string,orientation:l.default.string.isRequired,billRu:l.default.bool.isRequired,isOnline:l.default.bool.isRequired,fontColor:l.default.string.isRequired,route:l.default.string.isRequired,reportTelemetry:l.default.func.isRequired}},78269:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=i(n(98661)),o=n(67597),a=i(n(94184)),s=i(n(45697)),l=i(n(43973)),u=i(n(40704)),c=n(36874);function d(e){let t=e.billRu,n=e.isOnline,i=e.fontColor,s=e.onClick,d=e.startText,f=e.isChat;const p=t?"logo-jivosite":"logo-jivochat",g=n||f?c.colorsFromFigma.GREEN_80:"#62666c",h=f?"#323648":i,_=(0,o.getUtmLink)("label_tooltip"),m=(0,a.default)({[l.default.link]:!0,[l.default.__ru]:t});return r.default.createElement("a",{href:_,rel:"nofollow noopener noreferrer",target:"_blank",className:m,onClick:s},d,r.default.createElement(u.default,{iconName:p,color:h,color2:g,className:l.default.logoIcon}))}d.propTypes={billRu:s.default.bool,isOnline:s.default.bool,fontColor:s.default.string,onClick:s.default.func,startText:s.default.string,isChat:s.default.bool}},40754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTelemetry=t.getTooltipPosition=t.getBgBorderStyle=void 0;var i=n(32183),r=n(54415);t.reportTelemetry=(e,t)=>{const n=t?{param1:t}:null;r.Monitoring.telemetry(e,n)};t.getBgBorderStyle=(e,t,n)=>{let i={};const r=t||e;switch(n){case"left":i={borderRightColor:e};break;case"right":i={borderLeftColor:r};break;case"bottom":i={borderTopColor:r}}return i};t.getTooltipPosition=(e,t,n,r)=>{let o,a,s={top:0,left:0};switch(null!==e&&t&&t()&&(a=(0,i.getElementPosition)(t())),n){case"left":o=10,s={top:20+(a?a.top:0)+"px",left:40+o+"px"};break;case"right":o="en"===r?80:60,s={top:20+(a?a.top:0)+"px",right:"50px"};break;case"bottom":s={bottom:"48px",right:(a?a.windowWidth-a.width-a.left+30:42)+"px"}}return s}},56436:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=u.default.mobileOrTablet()||(0,l.isChatPage)(),t=u.default.tablet()||u.default.desktop()&&(0,l.isChatPage)(),n=(0,a.useSelector)(d.selectWidgetFontColor),i=(0,a.useSelector)(d.selectWidgetColor),h=(0,a.useSelector)(d.selectWidgetColor2),_=(0,a.useSelector)(d.selectWidgetOrientation),m=(0,a.useSelector)(d.selectBillRu),v=(0,a.useSelector)(c.selectIsOnline),y=(0,a.useSelector)(c.selectRoute),b=(0,s.getTextColor)(n),E=(0,o.useState)(!0),C=(0,r.default)(E,2),T=C[0],D=C[1],w=(0,o.useRef)((0,p.getPageWindow)().document.getElementById("jivo_copyright"));return(0,o.useEffect)((()=>{D(y==f.Route.LABEL)}),[y]),{color:i,color2:h,enabled:T,fontColor:b,isMobile:e,isTablet:t,billRu:m,isOnline:v,orientation:_,route:y,customEl:w,reportTelemetry:g.reportTelemetry}};var r=i(n(67375)),o=n(98661),a=n(36113),s=n(80598),l=n(69882),u=i(n(19955)),c=n(35233),d=n(87692),f=n(47060),p=n(22932),g=n(40754)},4244:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(98661)),o=n(36113),a=i(n(45697)),s=n(42932),l=n(87692),u=n(24111),c=n(75998),d=i(n(95554));const f=e=>{let t=e.isNarrow,n=e.IsIgnoreHeight;const i=(0,o.useSelector)(l.selectWidgetOrientation),a=(0,o.useSelector)(l.selectWidgetPadding),f=(0,u.useAppDispatch)();return r.default.createElement(d.default,{orientation:i,padding:a,isNarrow:t,IsIgnoreHeight:n,onSetIsInDrag:e=>f((0,s.setIsInDrag)(e)),onSetPosition:e=>c.positionDispatch.initPositionStore(e)})};f.propTypes={isNarrow:a.default.bool,IsIgnoreHeight:a.default.bool};var p=f;t.default=p},95554:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=i(n(94184)),s=i(n(45697)),l=i(n(10611)),u=n(9709);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=e=>{let t=e.orientation,n=e.padding,i=e.isNarrow,s=e.IsIgnoreHeight,c=e.onSetIsInDrag,d=e.onSetPosition;const f=(0,o.useRef)(null),p=(0,o.useState)({dragStarted:!1}),g=(0,r.default)(p,2),h=g[0],_=g[1],m=(0,u.dragEvents)({orientation:t,padding:n,onSetIsInDrag:c,IsIgnoreHeight:s,onSetPosition:d}),v=m.startDrag,y=m.drag,b=m.stopDrag;return o.default.createElement("jdiv",{className:(0,a.default)({[l.default.wrap]:!0,[l.default.__short]:i,[l.default.__active]:h.dragStarted}),ref:f,onMouseDown:e=>{h.dragStarted||(_({dragStarted:!0}),v(e))},onMouseMove:e=>{h.dragStarted&&y(e)},onMouseUp:()=>{h.dragStarted&&(b(),_({dragStarted:!1}))},onMouseOut:()=>{h.dragStarted&&(_({dragStarted:!1}),b())}})};d.propTypes={orientation:s.default.string,padding:s.default.number,isNarrow:s.default.bool,IsIgnoreHeight:s.default.bool,onSetIsInDrag:s.default.func,onSetPosition:s.default.func};var f=o.default.memo(d);t.default=f},9709:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.dragEvents=void 0;var r=n(43914),o=n(52274),a=n(47245),s=n(32183),l=n(22932),u=i(n(19955)),c=i(n(75686)),d=n(2982),f=n(47060),p=n(44145);let g,h,_,m,v,y=null;const b=e=>{y=c.default.get(a.Component.SCROLL_CONTAINER),y&&y.style&&(y.style.display=e?"block":"none")},E=e=>{let t=e.e,n=e.onSetIsInDrag,i=e.mainSide;n(!0),m=t.screenX,v=t.screenY,b(!1);const r=c.default.get(a.Component.WIDGET_CONTAINER),u=i;var f;if("right"===u&&null===(0,d.getProperty)("right",r)&&((0,d.setProperty)("right",(f=r,(0,l.getPageWindow)().document.body.clientWidth-(f.offsetLeft||40)-f.offsetWidth+"px"),r),(0,d.setProperty)("left",null,r)),"left"===u&&null!==(0,d.getProperty)("right",r)){const e=r.offsetLeft+"px";(0,d.setProperty)("left",e,r),(0,d.setProperty)("right",null,r)}if("left"===u&&""===(0,d.getProperty)("left",r)){const e=r.offsetLeft||"40px";(0,d.setProperty)("left",e,r),(0,d.setProperty)("right",null,r)}const p=(0,s.getElementPosition)(r),y=r.offsetHeight;g=parseInt((0,d.getProperty)(u,r)),h=parseInt(y),p.minLeft="left"===u?40:30,p.maxLeft=p.windowWidth-p.width-p.minLeft,p.maxLeft-=30,p.minHeight=o.MINIMAL_WIDGET_HEIGHT,p.height=y<p.minHeight?p.minHeight:y,p.maxHeight=(0,l.getPageWindow)().innerHeight-30,_=p},C=e=>{let t=e.onSetIsInDrag,n=e.onSetPosition;b(!0);const i=(()=>{const e=c.default.get(a.Component.WIDGET_CONTAINER);let t=parseInt((0,d.getProperty)("height",e));t&&t<o.MINIMAL_WIDGET_HEIGHT&&(t=o.MINIMAL_WIDGET_HEIGHT),t||(t=o.DEFAULT_WIDGET_HEIGHT);const n=(0,d.getProperty)("left",e),i=(0,d.getProperty)("right",e);return{width:o.CHAT_WIDTH+"px",height:t+"px",left:n,right:i}})(),s=i.width,l=i.height;n({height:l,left:i.left,right:i.right}),t(!1),(0,r._callUserFunction)("onResizeCallback",{width:s,height:l})},T=e=>{let t=e.e,n=e.ignoreHeight,i=e.mainSide,r=m-t.screenX;const o=v-t.screenY,s=i;"left"==s&&(r=-r);const l=_,y=g?g+r:l.minLeft+r,b=c.default.get(a.Component.WIDGET_CONTAINER);y<l.minLeft?(0,d.setProperty)(s,l.minLeft+"px",b):y>l.maxLeft?(0,d.setProperty)(s,l.maxLeft+"px",b):(0,d.setProperty)(s,y+"px",b);let E=h+o;if(E!==l.height&&(E>l.minHeight||E>l.height)&&((()=>{const e=(0,p.getApp)().route;return-1!==[f.Route.CALL,f.Route.INTRODUCE,f.Route.CALL_EULA].indexOf(e)})()&&(E="auto"),E>_.maxHeight&&(E=_.maxHeight),_.height=E,n||(0,d.setProperty)("height",E+"px",b)),u.default.safari()&&!u.default.mobileOrTablet()){const e=(0,d.getSavedLabelPosition)();e&&((0,d.setProperty)("labelright",e.right,b),(0,d.setProperty)("labelleft",e.left,b),(0,d.setProperty)("labelwidth",e.offsetWidth,b)),(0,d.updateKeyframes)(b,!0)}};t.dragEvents=e=>{let t=e.orientation,n=e.padding,i=e.IsIgnoreHeight,r=e.onSetIsInDrag,o=e.onSetPosition;const a="left"===t||0===n&&"bottom"===t?"left":"right";return{startDrag:e=>E({e:e,onSetIsInDrag:r,mainSide:a}),drag:e=>T({e:e,IsIgnoreHeight:i,mainSide:a}),stopDrag:()=>C({onSetIsInDrag:r,onSetPosition:o})}}},66488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=l,t.replace=function(e,t){return String(e).replace(r.EMOJI_REGEX,t)},t.replaceEmoji=function(e){return e.replace(/:\w+:/g,(e=>{const t=e.replace(/:/g,"");return i.emojiList[t]?l(i.emojiList[t]):e}))},t.toCodePoint=void 0;var i=n(18073),r=n(30633);const o=String.fromCharCode,a=/\uFE0F/g,s=String.fromCharCode(8205);function l(e){let t="string"==typeof e?parseInt(e,16):e;return t<65536?o(t):(t-=65536,o(55296+(t>>10),56320+(1023&t)))}t.toCodePoint=(e,t)=>function(e,t){const n=[];let i=0,r=0,o=0;for(;o<e.length;)i=e.charCodeAt(o++),r?(n.push((65536+(r-55296<<10)+(i-56320)).toString(16)),r=0):55296<=i&&i<=56319?r=i:n.push(i.toString(16));return n.join(t||"-")}(e.indexOf(s)<0?e.replace(a,""):e,t)},70010:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.trackClick=t.getEulaUrl=t.getEulaState=t.getEulaLink=t.getAgreementText=void 0;var r=i(n(98661)),o=n(20344),a=n(44145),s=n(54415),l=n(83170);const u=()=>{const e=(0,a.getSystemSettings)();return`${window.parent.location.protocol+e.baseUrl}/script/eula/${e.widgetId}`};t.getEulaUrl=u;const c=()=>{const e=(0,a.getFeatures)().eula,t={show:!1,checked:!1,text:!1,url:e&&e.externalLink?e.externalLink:u(),agreementBasis:e&&e.customAgreement?e.customAgreement:"–∑–∞–∫–æ–Ω–æ–º ‚Ññ152-–§–ó ¬´–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö¬ª –æ—Ç 27.07.2006",textSize:null,customTitle:"–°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",customLink:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è"};return e&&e.useGdpr&&(t.customTitle=e.customTitle||(0,o.l10n)("eula_custom_title"),t.customLink=e.titleExternalLink||!1,t.agreementBasis=e.customAgreement||(0,o.l10n)("eula_custom_agreement")),t};t.getEulaState=c;t.getAgreementText=e=>{const t=(0,a.getFeatures)().eula;return t&&!t.useGdpr?`–°—Ç–∞–≤—è –æ—Ç–º–µ—Ç–∫—É, —è –¥–∞—é —Å–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å\n            ${e} –∏ –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è `:`${e} `};t.getEulaLink=e=>{const t=(0,a.getFeatures)().eula,n=c();return!t.useGdpr||t.useGdpr&&t.externalLink?r.default.createElement("a",{href:t.externalLink||u(),onClick:e,target:"_blank",rel:"noopener noreferrer"},n.customLink):null};t.trackClick=()=>{s.Monitoring.telemetry(l.TelemetryName.EULA_LINK_CLICKED,{param1:"call_popup"})}},25466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUploadProgress=void 0;const i=(0,n(6400).createContext)({loadedSize:0,setLoadedSize:()=>{}});t.CurrentUploadProgress=i},66934:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.startUploadMedia=t.sendMedia=t.openIntroduce=t.getUrlEmoji=t.getTextMediaEmoji=t.getMediaDataFormatted=t.getMediaData=t.checkForDelivered=void 0;var r=i(n(61125)),o=i(n(14264)),a=n(21476),s=n(47060),l=n(69625),u=n(81152),c=n(53489),d=i(n(71277)),f=n(26932),p=i(n(4855)),g=n(83170),h=n(54415),_=n(52274),m=n(65465),v=n(55329),y=n(13077),b=n(54346),E=n(44145),C=n(83778),T=n(16016),D=n(80161),w=n(49963),O=n(77294);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=p.default.name("FileUploadHelpers"),k=e=>{w.connectionAdapter.checkConnection((()=>w.connectionAdapter.sendEvent(e)))};t.sendMedia=k;t.openIntroduce=e=>{D.RouterUtils.canShowIntroduceForm()&&(e.preventDefault(),e.stopPropagation(),a.Router.next(s.RouterEvent.ToIntroduce))};const M=e=>{let t="";return t=e.indexOf("image")>=0?"üì∏":e.indexOf("video")>=0?"üìΩÔ∏è":e.indexOf("audio")>=0?"üîâ":"üìÑ",t};t.getTextMediaEmoji=M;const P=e=>{const t={},n=e.get("body");if(n&&!n.error&&(n.file_url||n.file)){const e=!!n.status,i=n.file_url||n.file,r=`${M(e?n.mime_type:n.type)} ${i}`,o=A({},n);I.warn("getMediaData",e,o,r),o.file=i,delete o.file_url,e?(delete o.loadedSize,delete o.status):o.type=(0,C.detectType)(n.type),t.message=r,t.media=o,I.warn("data to send:",t)}return t};t.getMediaDataFormatted=P;const R=(e,t)=>{let n="";return n=e.indexOf("image")>=0?"üì∏":e.indexOf("video")>=0?"üìΩÔ∏è":e.indexOf("audio")>=0?"üîâ":"üìÑ",n+" "+t};t.getUrlEmoji=R;t.getMediaData=e=>{try{return P(e)}catch(e){return h.Monitoring.reportException(e),!1}};t.startUploadMedia=(e,t)=>{let n=t.privateId,i=t.repliedMsgId,r=t.onUploadProgress,a=t.onCancel;n||(n=(0,T.generateGUID)()),i&&f.appDispatchers.setQuoteMsgId(null),(0,b.markInvitationAnswered)(),f.messagesDispatchers.addMessage({type:u.MessageType.MEDIA,from:u.MessageInitiator.CLIENT,private_id:n,replied_message:i?o.default.getMessageById(i).toJSON():null,body:{type:(0,C.detectType)(e.type),file_name:(0,c.sanitize)(e.name),file_size:e.size,mime_type:e.type,loadedSize:0,status:u.MediaStatus.UPLOADING}});const s=(0,E.getMessageByPrivateId)(n);l.mediaUploader.startUpload(s,e,(t=>{I.warn("file url:",s,e,t);const o=(0,C.detectType)(e.type),a={file:t.fullUrl,file_name:e.name,file_size:e.size,type:o,mime_type:e.type},l=A({},s.body),c=(0,O.isVideo)(e.type);if("photo"===o||c){c||(l.width=e.width,l.height=e.height,a.width=e.width,a.height=e.height);const n=(0,O.getSize)(a);a.thumb=`${t.fullUrl}?width=${n.width||_.MAX_IMAGE_WIDTH}&thumb`,l.thumb=a.thumb}l.status=u.MediaStatus.COMPLETE,l.file=t.fullUrl,l.file_size=e.size;const p=R(e.type,t.fullUrl);null==r||r(0),f.messagesDispatchers.updateMessage({privateId:n},{text:p,body:A(A({},s.body),l)});const b={name:"client_message",message:p,replied_msg_id:i,private_id:n,media:a};f.appDispatchers.setChatStarted(!0),k(b),(0,v.prechatEnabled)()&&m.messageActions.deletePrechatMsg(),(0,y.getRuleLocal)("firstMessageTime")||(0,y.setRuleLocal)("firstMessageTime",new Date),m.messageActions.startContactFormIfNeed(),d.default.play("outgoing_message"),h.Monitoring.telemetry(g.TelemetryName.FILE_UPLOAD_SUCCESS,{param1:e.type}),i&&h.Monitoring.telemetry(g.TelemetryName.REPLY_BUTTON_SEND)}),r,a)};t.checkForDelivered=e=>{e&&!e.get("msg_id")&&(I.warn("checkForDelivered",e),f.messagesDispatchers.updateMessage({privateId:e.get("private_id")},{status:u.MessageStatus.NOT_DELIVERED}),o.default.trigger("update"),h.Monitoring.telemetry(g.TelemetryName.CLIENT_MESSAGE_SEND_ERROR,{param1:(0,E.getApp)().isOnline,param2:e.get("type"),param3:(0,E.getClient)().isBlacklisted?"black":"timeout",param4:(0,E.getSystemSettings)().chatHost}))}},55921:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useGetHeaderColors=function(){const e=(0,r.useSelector)(l.selectWidgetColor),t=(0,r.useSelector)(l.selectWidgetColor2),n=(0,r.useSelector)(l.selectPowerButtonColor),i=(0,r.useSelector)(l.selectPowerGradient),c=(0,r.useSelector)(l.selectPattern),d=(0,u.getPatternURL)(c),f=(0,a.getBackground)(e,t,i,n,o.default.mobileOrTablet()||(0,s.isChatPage)()),p=t||e,g="dark"===(0,r.useSelector)(l.selectWidgetFontColor);return{background:f,leafBackground:p,isDarkText:g,patternUrl:d}};var r=n(36113),o=i(n(19955)),a=n(80598),s=n(69882),l=n(87692),u=n(85347)},89177:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.afterEmojiInserted=function(e){e&&e.check();const t=f.default.get(p.Component.INPUT);t&&(t.focus(),P(t,t.value))},t.checkOfflineForm=function(){l.messageActions.handleContactsForm()},t.getColorTheme=function(e){switch(e?"disabled":(0,y.getUserSettings)().bubbleColor||"green"){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:b.colorsFromFigma.BLUE_80,hoverColor:b.colorsFromFigma.BLUE_90};case"grey":return{color:b.colorsFromFigma.STEEL_80,hoverColor:b.colorsFromFigma.STEEL_90};default:return{color:b.colorsFromFigma.GREEN_80,hoverColor:b.colorsFromFigma.GREEN_90}}},t.getDisabled=function(){if(r.default.maintenance)return!0;return(0,a.isOfflineCanSend)()},t.getIsMobile=void 0,t.getPlaceholder=function(e,t){let n="";if(e){if(n=(0,h.l10n)("offlineBlockedInputPlaceholder"),w.EnvironmentManager.isWidgetConstructor()&&(n=(0,h.l10n)("lblMessageHere")),(0,y.getApp)().maintenance&&(n=(0,h.l10n)("maintenanceBlockedPlaceholder")),(0,y.getFeatures)().recaptcha){const e=C.default.getInstance();e&&e.isBlocked()&&(n=(0,h.l10n)("maintenanceBlockedPlaceholder"))}}else n=(o.default.mobileOrTablet(),(0,h.l10n)("lblMessageHere"));t&&(n=(0,h.l10n)("botListPickerBlock"));return n},t.getText=M,t.isActiveElementFocused=void 0,t.isFileUploadDisabled=function(){if(r.default.bots&&!(0,y.getFeatures)().botMedia&&!s.default.agent_id)return!0;return!R()},t.isFileUploadEnabled=R,t.isSocialButtonEnabled=function(){return r.default.joint&&(r.default.joint.vk||r.default.joint.fb)&&!o.default.mobileOrTablet()&&!(0,m.isChatContactForm)()&&!(0,_.isChatPage)()},t.onFocus=function(){k.log("onFocus");const e=f.default.getComponent(p.Component.SCROLL_CONTAINER);e&&e.setIgnore(!1)},t.onInputSubmit=function(e){let t=e.value,n=e.repliedMsgId;l.messageActions.sendClientMessage({text:t,repliedMsgId:n}),(0,T.connectionTypingInsight)(""),(0,T.connectionClientTyping)(!1),u.default.play("outgoing_message")},t.onPaste=function(e,t,n){if(R()&&!E.RouterUtils.canShowIntroduceForm()){const i=(0,y.getMessages)().some((e=>{var t;return(null==e||null===(t=e.body)||void 0===t?void 0:t.status)===O.MediaStatus.UPLOADING})),r=e.clipboardData;if(!i.length&&r&&r.files&&r.files.length){e.preventDefault();const i=r.files[0];(0,S.startUploadMedia)(i,{privateId:null,repliedMsgId:t,onUploadProgress:n,onCancel:()=>{n(0)}})}}},t.replaceEmojiValue=function(e){return e.replace(D.EMOJI_REGEX," $& ")},t.setCursorEnd=P,t.setPaddingForFocus=void 0,t.setPlaceholder=function(e){if(e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),c.Router.getCurrentRoute()!==d.Route.LABEL){const t=f.default.get(p.Component.INPUT);t&&t.setAttribute("placeholder",e);const n=f.default.get(p.Component.AUTORESIZER);n&&n.check()}},t.startTyping=function(e){if(e){const t=M(e);k.log("startTyping",t),(0,T.connectionClientTyping)(t),(0,T.connectionTypingInsight)(t)}},t.stopTyping=function(){k.log("stopTyping"),(0,T.connectionClientTyping)(!1)};var r=i(n(73727)),o=i(n(19955)),a=n(81722),s=i(n(26754)),l=n(65465),u=i(n(71277)),c=n(21476),d=n(47060),f=i(n(75686)),p=n(47245),g=n(32183),h=n(20344),_=n(69882),m=n(68403),v=i(n(4855)),y=n(44145),b=n(36874),E=n(80161),C=i(n(50216)),T=n(15787),D=n(30633),w=n(97615),O=n(81152),S=n(66934),A=n(66488),I=n(22932);const k=v.default.name("InputHelpers");function M(e){return r.default.disable_emoji?e:(0,A.replaceEmoji)(e)}function P(e,t){e.setSelectionRange&&e.setSelectionRange(t.length+2,t.length+2)}function R(){const e=!r.default.disable_filetransfer&&0!==r.default.options;return(0,y.getApp)().isOnline?((0,y.getFeatures)().botMedia||!s.default.bot_id)&&e:e&&(0,y.getClient)().isIntroduced}t.getIsMobile=()=>o.default.mobileOrTablet()||(0,_.isChatPage)();t.isActiveElementFocused=()=>{const e=(0,I.getPageWindow)().document.activeElement;return!!e&&(0,g.isInput)(e.tagName)};t.setPaddingForFocus=e=>{const t=f.default.getComponent(p.Component.MESSAGES_CONTAINER);t&&t.style&&(t.style.paddingBottom=e?"44px":"0px")}},17582:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=n(36113),s=i(n(45697)),l=i(n(24247)),u=i(n(3579)),c=n(20361),d=n(47060),f=n(47245),p=i(n(75686)),g=n(52028),h=n(19210),_=n(21863),m=i(n(69733)),v=n(69882),y=n(83170),b=n(68403),E=n(65138),C=n(79105),T=n(32183),D=n(13551);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const O=e=>{let t=e.userSettings,n=e.features,i=e.appStore,s=e.billRu,w=e.labelBubble,O=e.isMobileDesigner;const S=(0,o.useState)(!0),A=(0,r.default)(S,2),I=A[0],k=A[1],M=(0,a.useSelector)(E.selectHiddenByRules),P=(0,a.useSelector)(C.selectFeaturesSettings).enableSpaNavigate,R=(0,D.useWidgetExtensionsContext)().isWidgetTarget;return(0,v.isCustomLabel)()&&P&&(0,T.showCustomLabel)(!M),[d.Route.HIDDEN,d.Route.CHAT_MIN].includes(i.route)||(0,v.isChatPage)()||w||O||M?null:o.default.createElement(o.default.Fragment,null,n.apiInvitation?o.default.createElement(m.default,{onClose:()=>{k(!0)},onShow:()=>{k(!1)}}):null,(0,v.isCustomLabel)()?null:o.default.createElement(u.default,{name:f.Component.LABEL,startCallbacks:{[c.ScriptName.CLOSE_WIDGET]:()=>{k(!0)},[c.ScriptName.OPEN_WIDGET]:()=>{k(!0)},[c.ScriptName.MIN_WIDGET]:()=>{k(!1)}},endCallbacks:{[c.ScriptName.OPEN_WIDGET]:()=>{k(!1)}},style:{display:"block",zIndex:2147483646,position:R?"static":"fixed"},duration:"left"===t.widgetOrientation?"600ms":"300ms",animationPostfix:t.widgetOrientation},o.default.createElement(l.default,{ad:(0,b.showAd)(),background:(0,_.getBackgroundProp)(t),designer:g.isDesignerEditor,onButtonsClick:()=>{(0,h.showChat)(i.isOnline,d.RouterEvent.Navigate)},online:i.isOnline,onLogoClick:()=>{(0,h.showChat)(i.isOnline,d.RouterEvent.Navigate),(0,_.reportTelemetry)(y.TelemetryName.LOGO_CLICK,!1,{param1:d.Route.LABEL})},orientation:t.widgetOrientation,padding:t.widgetPadding,fontSize:t.fontSize,fontFamily:t.fontFamily,fontType:t.fontType,textStyle:(0,_.getTextStyle)(t),color:t.widgetColor,color2:t.widgetColor2,ref:e=>{e&&p.default.set(f.Component.LABEL,e)},showText:!0,text:(0,_.getTextProp)(i.isOnline,t),billRu:s,show:I,onLabelHover:h.onLabelHover})))};O.propTypes={appStore:s.default.shape({isOnline:s.default.bool.isRequired,route:s.default.string.isRequired}).isRequired,features:s.default.shape({apiInvitation:s.default.bool}).isRequired,userSettings:s.default.shape({fontSize:s.default.string,fontFamily:s.default.string,fontType:s.default.string,widgetOrientation:s.default.string.isRequired,widgetColor:s.default.string.isRequired,widgetColor2:s.default.string,widgetPadding:s.default.number.isRequired}).isRequired,billRu:s.default.bool.isRequired,labelBubble:s.default.number,isMobileDesigner:s.default.bool};var S=(0,a.connect)((e=>({appStore:e.app,features:e.settings.features,labelBubble:e.settings.user.labelBubble,userSettings:e.settings.user,billRu:e.settings.system.billRu,isMobileDesigner:e.settings.designer.isMobileView})))(O);t.default=S},24247:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(61125)),a=i(n(67375)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),l=i(n(45697)),u=i(n(94184)),c=n(2982),d=i(n(57147)),f=i(n(22009)),p=i(n(53517)),g=i(n(40704)),h=i(n(43147)),_=n(36874),m=n(57930),v=n(90361),y=n(13551),b=n(21863),E=i(n(80867)),C=n(7466);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const O=e=>{let t=e.ad,n=e.background,i=e.designer,o=e.onButtonsClick,l=e.online,T=e.onLogoClick,D=e.orientation,O=e.padding,S=e.fontSize,A=e.fontFamily,I=e.fontType,k=e.textStyle,M=e.color,P=e.color2,R=e.text,x=e.billRu,N=e.show,L=e.onLabelHover;const F=(0,y.useWidgetExtensionsContext)().isWidgetTarget,j=(0,s.useState)(!1),B=(0,a.default)(j,2),W=B[0],U=B[1],H=(0,s.useRef)(null),z=(0,s.useRef)(null),G=(0,s.useRef)(null),V=(0,s.useState)(!1),$=(0,a.default)(V,2),q=$[0],Z=$[1],K=(0,s.useState)(null),Y=(0,a.default)(K,2),J=Y[0],X=Y[1];return(0,s.useLayoutEffect)((function(){const e=H.current;if(e){const t=(0,b.getPositionStyle)(H,D,O),i=w(w({},t),{},{background:n});if(Object.assign(e.style,i),!q)return Z(!0);(0,c.saveLabelPosition)(w(w({},t),{},{offsetWidth:e.offsetWidth})),X(i)}}),[n,q,D,O,N,R,S,A,I]),N?s.default.createElement("jdiv",{ref:H,className:(0,u.default)({[E.default.label]:!0,[E.default["_"+D]]:!0,[E.default._designer]:i||!1,[E.default.__show]:q,[E.default.__extensionsTarget]:F,notranslate:!0}),style:J,translate:!1,id:"jvlabelWrap"},l?null:s.default.createElement(g.default,{iconName:"envelope-offline",color:k.color,className:E.default.labelStatus}),s.default.createElement("jdiv",{ref:G,className:E.default.hoverl,onClick:o,onMouseOver:L},s.default.createElement("jdiv",{className:(0,u.default)({[E.default.omnichannel]:!0,[E.default[D]]:!0})},s.default.createElement(p.default,{show:!0,referenceElement:G}))),s.default.createElement("jdiv",(0,r.default)({className:(0,u.default)({[E.default.text]:!0,[E.default.contentTransitionWrap]:!0,[E.default._offline]:!l,[E.default._noAd]:!t}),style:k},(0,v.withLocator)(m.Locator.LABEL_TEXT+(l?"ONLINE":"OFFLINE"))),s.default.createElement(C.Text,null,R)),t?s.default.createElement("jdiv",{className:E.default.copy,onMouseOver:()=>{U(!0)},onMouseOut:()=>{U(!1)}},s.default.createElement(f.default,{leafColor:l?_.colorsFromFigma.GREEN_80:"#62666c",onClick:()=>{U(!1),T()},orientation:D,ru:x,textColor:k.color})):null,s.default.createElement("jdiv",{className:E.default.leafCont},s.default.createElement(d.default,{backgroundColor:P||M,online:l,orientation:D})),t?s.default.createElement("jdiv",{className:E.default.copyContainer},s.default.createElement(h.default,{bg:n,logoHovered:W,refWrap:()=>H.current,ref:z})):null):null};O.propTypes={ad:l.default.bool.isRequired,background:l.default.string.isRequired,designer:l.default.bool.isRequired,onButtonsClick:l.default.func,online:l.default.bool.isRequired,onLogoClick:l.default.func,orientation:l.default.string.isRequired,padding:l.default.number.isRequired,textStyle:l.default.any,fontSize:l.default.string,fontFamily:l.default.string,fontType:l.default.string,color:l.default.string,color2:l.default.string,text:l.default.string,billRu:l.default.bool,show:l.default.bool,onLabelHover:l.default.func};var S=O;t.default=S},19210:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.showChat=t.onLabelHover=t.hideInvitation=void 0;var r=n(26932),o=i(n(138)),a=n(65465),s=n(54415),l=n(83170),u=n(21476),c=n(47060),d=n(20361),f=n(44145);t.showChat=(e,t,n)=>{if(r.appDispatchers.setAppIsFocused(!0),r.appDispatchers.setChatOpenByClient(!0),u.Router.next(t),r.transitionDispatchers.startTransition(d.ScriptName.OPEN_WIDGET),t!==c.RouterEvent.toCall){e?o.default.trackChatOpenedByClick():o.default.trackOfflineFormOpenedByClick(),a.messageActions.addMessagesOnOpen(e);const t=(0,f.getProactive)();t.text&&t.prechats&&a.messageActions.addPrechatMessage();const i=(0,f.getSystemSettings)().botmode?{param4:1}:{};n&&Object.assign(i,n),s.Monitoring.telemetry(l.TelemetryName.WIDGET_CLICK,i)}};t.hideInvitation=()=>{u.Router.next(c.RouterEvent.CloseWindow),s.Monitoring.telemetry(l.TelemetryName.INVITE_CLOSE)};t.onLabelHover=()=>{s.Monitoring.telemetryOnce(l.TelemetryName.LABEL_BUTTONS_SHOW)}},21863:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportTelemetry=t.getTextStyle=t.getTextProp=t.getPositionStyle=t.getBackgroundProp=t.getAnimationPostfix=void 0;var r=n(80161),o=n(54415),a=i(n(27104)),s=n(80598);t.getAnimationPostfix=e=>{!r.RouterUtils.isChatMinAvailable()&&e.widgetOrientation};t.getBackgroundProp=e=>a.default.getGradientBg(e.widgetColor,e.widgetColor2);t.getTextProp=(e,t)=>e?t.onlineWidgetLabel:t.offlineWidgetLabel;t.getTextStyle=e=>{const t=e.fontType.split(" "),n=(0,s.getTextColor)(e.widgetFontColor);return{fontSize:e.fontSize+"px",fontFamily:e.fontFamily+", Arial",fontWeight:"bold"===t[0]?"bold":null,fontStyle:"bold"!==t[0]?t[0]:t[1]||null,color:n}};t.reportTelemetry=(e,t,n)=>{t?o.Monitoring.telemetryOnce(e,n):o.Monitoring.telemetry(e,n)};t.getPositionStyle=(e,t,n)=>{const i=e.current&&e.current.offsetWidth,r=e.current&&e.current.offsetHeight;if(!i||!r)return{};if("bottom"===t){const e={maxWidth:"calc(100vw - 80px)",bottom:0};if(0===n)return Object.assign(e,{left:40});if(50===n)return Object.assign(e,{right:"50%",transform:"translateX(50%)"});if(100===n)return Object.assign(e,{right:40})}if("left"===t){const e={maxWidth:"calc(100vh - 40px)",left:40,transformOrigin:"bottom left"};if(50===n)return Object.assign(e,{top:"50%",transform:"rotate(-90deg) translateX(calc(-50% + 40px))"});if(100===n)return Object.assign(e,{bottom:20,transform:"rotate(-90deg)"})}if("right"===t){const e={maxWidth:"calc(100vh - 40px)",right:0,transformOrigin:"bottom right"};if(50===n)return Object.assign(e,{top:"50%",transform:"rotate(-90deg) translateX(calc(50% + 40px))"});if(100===n)return Object.assign(e,{bottom:20,transform:"rotate(-90deg) translateX(100%)"})}}},69733:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),o=n(36113),a=i(n(45697)),s=n(65787),l=n(65787),u=n(73549),c=n(47060),d=i(n(56461));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=e=>{let t=e.appStore,n=e.systemSettings,i=e.onShow,o=e.onClose;const a=(0,s.getLabelInvitationAgent)(n);return(0,r.useEffect)((()=>{t.route===c.Route.LABEL_INVITATION&&i()}),[t.route,i]),r.default.createElement(u.Path,{paths:[c.Route.LABEL_INVITATION],name:"LabelInvitation",transition:"Fade",duration:300,withMountTransition:!0,withUnmountTransition:!0,cheap:!0},r.default.createElement(d.default,{show:!0,text:(0,s.getLabelInvitationText)(),displayName:a.display_name,avatarUrl:a.avatar_url,onOpen:()=>{(0,l.openInvitation)(t.isOnline)},onClose:()=>{(0,l.closeInvitation)(),o()},onLink:l.sendUrlClickTelemetry}))};p.propTypes={appStore:a.default.shape({route:a.default.string,isOnline:a.default.bool.isRequired}).isRequired,systemSettings:a.default.any.isRequired,onClose:a.default.func,onShow:a.default.func};var g=(0,o.connect)((e=>({appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,systemSettings:e.settings.system,userSettings:e.settings.user})))(p);t.default=g},56461:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67375)),o=g(n(98661)),a=i(n(45697)),s=i(n(94184)),l=n(52274),u=n(9335),c=g(n(40704)),d=n(56443),f=i(n(29433));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}const h=e=>{let t=e.show,n=e.text,i=void 0===n?"":n,a=e.displayName,p=e.avatarUrl,g=e.onOpen,h=e.onClose,_=e.onLink;const m=(0,o.useRef)(null),v=(0,u.useToggle)(!1),y=(0,r.default)(v,2),b=y[0],E=y[1],C=(0,o.useState)(0),T=(0,r.default)(C,2),D=T[0],w=T[1],O=i.length<l.PROACTIVE_TEXT_LIMIT,S=D>l.PROACTIVE_MAX_HEIGHT;(0,o.useLayoutEffect)((function(){if(m.current){const e=m.current.offsetHeight;e>0&&w(e)}}),[i]);const A=(0,s.default)({[f.default.popupWrap]:!0,[f.default.__show]:t}),I=(0,s.default)({[f.default.popupBlock]:!0,[f.default.__show]:!b&&t,[f.default.__short]:O,[f.default.__longText]:S}),k=p?{backgroundImage:`url(${p})`}:null;return o.default.createElement("jdiv",{className:A},o.default.createElement("jdiv",{className:I,onClick:g},i&&o.default.createElement("jdiv",{className:f.default.avatar},o.default.createElement("jdiv",{className:f.default.avatarImg,style:k}),o.default.createElement("jdiv",{className:f.default.agentName},a)),o.default.createElement("jdiv",{className:f.default.closeBlock,onClick:e=>{e.preventDefault(),e.stopPropagation(),E(!0),setTimeout(h,300)}},o.default.createElement(c.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:f.default.closePopupIcon})),o.default.createElement("jdiv",{className:f.default.text},o.default.createElement("jdiv",{className:f.default.textBox,ref:m},o.default.createElement(d.Markdown,{onLinkClick:_},i))),S&&o.default.createElement("jdiv",{className:f.default.moreIcon,style:{backgroundImage:`url(${(0,c.getSvgBgIcon)("icon-more","#a3aab5")})`}})))};h.propTypes={show:a.default.bool.isRequired,text:a.default.string,displayName:a.default.string,avatarUrl:a.default.string,onOpen:a.default.func.isRequired,onClose:a.default.func.isRequired,onLink:a.default.func.isRequired};var _=h;t.default=_},65787:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUrlClickTelemetry=t.openInvitation=t.getLabelInvitationText=t.getLabelInvitationAgent=t.getLabelInvitation=t.closeInvitation=void 0;var r=n(78692),o=n(54415),a=n(21476),s=n(47060),l=n(19210),u=n(83170),c=i(n(14264)),d=n(67597);t.getLabelInvitationText=()=>{const e=c.default.getLastUnreadApiInvitation();return e&&e.get("text")||""};t.getLabelInvitation=()=>{const e=c.default.getLastUnreadApiInvitation();return e?e.toJSON():null};t.getLabelInvitationAgent=e=>{const t=c.default.getLastUnreadApiInvitation(),n=Object.assign({},t&&t.get("body"));return n.avatar_url&&(n.avatar_url=(0,d.getAvatarUrl)(e.avatarUrl,n.avatar_url)),n};t.openInvitation=e=>{(0,l.showChat)(e,s.RouterEvent.Navigate),r.ApiInvitationsManager.markInvitationsRead()};t.closeInvitation=()=>{a.Router.next(s.RouterEvent.CloseWindow),o.Monitoring.telemetry(u.TelemetryName.INVITE_CLOSE)};t.sendUrlClickTelemetry=()=>{r.ApiInvitationsManager.sendUrlClickTelemetry()}},57147:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(98661)),a=i(n(19383)),s=i(n(40704)),l=i(n(19955)),u=i(n(45697)),c=i(n(94184)),d=n(90361),f=n(36874);const p=e=>{let t=e.backgroundColor,n=e.onClick,i=e.online,u=e.orientation,p=e["data-qa-id"];return l.default.mobileOrTablet()?null:o.default.createElement("jdiv",(0,r.default)({className:(0,c.default)({[a.default.leaf]:!0,[a.default["_"+u]]:!0}),onClick:n||null},(0,d.withLocator)(p)),o.default.createElement(s.default,{color:t,color2:i?f.colorsFromFigma.GREEN_80:"#5e5f61",iconName:i?"leafBottom":"leafBottomOffline",className:a.default.cssLeaf}))};p.propTypes={backgroundColor:u.default.string.isRequired,onClick:u.default.func,online:u.default.bool.isRequired,orientation:u.default.string.isRequired,"data-qa-id":u.default.string};var g=o.default.memo(p);t.default=g},22009:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(98661)),o=i(n(40704)),a=i(n(80047)),s=i(n(45697)),l=i(n(94184));const u=e=>{let t=e.ru,n=e.leafColor,i=e.onClick,s=e.orientation,u=e.textColor;return r.default.createElement("jdiv",{className:(0,l.default)({[a.default.logo]:!0,[a.default["_"+s]]:!0})},r.default.createElement("jdiv",{className:a.default.hoverBox,onClick:e=>{i(e,!0)}}),r.default.createElement(o.default,{iconName:t?"logo-jivosite":"logo-jivochat",color:u,color2:n,className:(0,l.default)({[a.default.logoIcon]:!0,[a.default.__ru]:t})}),r.default.createElement("jdiv",{className:a.default.fallback}))};u.propTypes={ru:s.default.bool.isRequired,leafColor:s.default.string.isRequired,onClick:s.default.func.isRequired,orientation:s.default.string.isRequired,textColor:s.default.string.isRequired};var c=r.default.memo(u);t.default=c},77294:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setSvgProgress=t.isVideo=t.isPreviewImage=t.isNewMedia=t.isFileGif=t.isAgentMessage=t.getUrl=t.getSize=t.getIconName=t.getIconColor=t.getCircleColor=t.getApiHost=t.formatOldMedia=t.calculateAspectRatio=void 0;var r=n(44145),o=n(52274),a=n(81152),s=i(n(19955)),l=n(36874),u=n(22932);const c=(e,t,n,i)=>{const r=Math.min(n/e,i/t);return{width:(e*r).toFixed(),height:(t*r).toFixed()}};t.calculateAspectRatio=c;t.getIconColor=e=>{switch(e){case"blue":return l.colorsFromFigma.BLUE_80;case"grey":return l.colorsFromFigma.STEEL_80;default:return l.colorsFromFigma.GREEN_80}};t.getIconName=e=>{switch(e){case a.MediaType.VOICE:return"icon-audio";case a.MediaType.STICKER:return"icon-document";default:return`icon-${e}`}};t.getCircleColor=e=>{switch(e){case"blue":return l.colorsFromFigma.BLUE_90;case"grey":return l.colorsFromFigma.STEEL_90;default:return l.colorsFromFigma.GREEN_90}};t.getSize=e=>{const t={width:null,height:null};if(e.width&&e.width>o.MAX_IMAGE_WIDTH){const n=c(e.width,e.height,o.MAX_IMAGE_WIDTH,500);return t.width=n.width,t.height=n.height,t}return t.width=e.width,t.height=e.height,t};t.isAgentMessage=e=>e.from===a.MessageInitiator.AGENT||e.from===a.MessageInitiator.FORM||e.type===a.MessageType.PROACTIVE;t.isNewMedia=e=>!!e&&(e.includes("https://media")&&e.includes("jivosite.com"));t.getUrl=e=>s.default.mobileOrTablet()&&s.default.chromeIOS()?null==e?void 0:e.replace(/^https?:\/\//i,"googlechrome://"):e;t.isPreviewImage=e=>{if(!e)return!1;const t=e.toLowerCase();return/\.(gif|jpg|jpeg|png|webp)$/i.test(t)};t.isVideo=e=>!!e&&/(video\/)/i.test(e.toLowerCase());t.isFileGif=e=>{if(!e)return!1;const t=e.toLowerCase();return/\.(gif)|\/(gif)$/i.test(t)};t.getApiHost=()=>{const e=(0,r.getSystemSettings)().apiHost;return(0,u.getProtocol)()+"//"+e||"https://api.jivosite.com"};t.formatOldMedia=e=>(e.name&&(e.file_name=e.name),e.icon_type&&(e.mime_type=e.type,e.type=e.icon_type),e.status||(e.status=e.error?a.MediaStatus.ERROR:a.MediaStatus.COMPLETE),e);t.setSvgProgress=(e,t,n,i)=>{if(n&&t&&t.current){let r=(i/n*100).toFixed(0);const o=t.current.getElementsByTagName("circle")[1];if(e&&(r=100),isNaN(r))o.style.strokeDashoffset=1;else if(o){const e=o.getAttribute("r"),t=(100-r)/100*(Math.PI*(2*e));o.style.strokeDashoffset=t}}}},55329:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePrechatTime=t.prechatUsed=t.prechatSetUsed=t.prechatEnabled=t.getPrechatUseTime=void 0;var r=n(13077),o=i(n(14264)),a=n(81152),s=n(44145),l=n(68403);let u=!1;t.prechatUsed=()=>u;t.prechatSetUsed=e=>{e&&(0,r.setRuleLocal)("prechatUseTime",(new Date).getTime()),u=e};const c=()=>{const e=(0,s.getProactive)(),t=e.campaignId,n=e.name,i=e.prechats,r=(0,l.isPaidCustomer)();return!(t&&n&&!i)&&((r||i&&t)&&((0,s.getFeatures)().prechat||i)&&!(0,s.getApp)().maintenance&&!(0,s.getSystemSettings)().botmode)};t.prechatEnabled=c;t.getPrechatUseTime=()=>{const e=(0,r.getRuleLocal)("prechatUseTime");if(!e)return null;const t=((new Date).getTime()-e)/1e3;return(0,r.setRuleLocal)("prechatUseTime",null),parseInt(t)};t.updatePrechatTime=e=>{if(c()){const t=o.default.getMessagesByType(a.MessageType.PRECHAT);t.length&&t[0].set("created_ts",e+1)}}},31694:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.PrechatEmitter=void 0,t.useEnhanced=function(){const e=(0,o.useState)([]),t=(0,r.default)(e,2),n=t[0],i=t[1],s=(0,o.useState)((()=>v.default.mobileOrTablet()&&!(0,D.isChatPage)())),I=(0,r.default)(s,2),k=I[0],M=I[1],P=(0,a.useDispatch)(),R=(0,o.useRef)(),x=(0,a.useSelector)(E.selectPrechat),N=(0,a.useSelector)(E.selectEnablePrechat),L=(0,a.useSelector)(E.selectBubbleColor),F=(0,a.useSelector)(E.selectLocale),j=(0,a.useSelector)(E.selectDisableEmoji),B=v.default.mobileOrTablet(),W=v.default.ios(),U=(0,a.useSelector)(w.selectProactive,a.shallowEqual),H=(0,a.useSelector)(O.selectCampaigns),z=(0,o.useCallback)((e=>{if(Array.isArray(x)&&!x.length)return[];if(H&&U.prechats&&Array.isArray(U.prechats))return U.prechats;const t=(0,c.sortBy)(null!=e?e:x,"id"),n=t.length||3,i=[];for(let e=0;e<n;e++){var r;const n=e+1,u=0===e?"":n;let c;var o,a,s,l;if(n<=3&&(c=(0,C.l10n)(`prechatText${u}`)),null!==(r=t[e])&&void 0!==r&&r.text&&(c=t[e].text),c)i.push({id:n,text:c,background:null!==(o=null===(a=t[e])||void 0===a?void 0:a.background)&&void 0!==o?o:void 0,text_color:null!==(s=null===(l=t[e])||void 0===l?void 0:l.text_color)&&void 0!==s?s:void 0})}return i}),[x]);return(0,o.useEffect)((function(){i(z())}),[z]),(0,o.useEffect)((function(){A.addListener("updatePrechatText",(e=>{i(z(e))}))}),[z]),(0,o.useEffect)((function(){y.default.set(u.Component.PRECHAT,R.current)}),[]),(0,o.useEffect)((function(){const e=setTimeout((()=>M(!1)),500);return()=>{clearTimeout(e)}}),[]),{componentRef:R,bubbleColor:L,phrases:n,isHidden:k,isDisabledEmoji:j,isMobile:B,isIos:W,enablePrechat:N,sendPhrase:(e,t)=>{(0,T.prechatSetUsed)(!0),S.RouterUtils.canShowIntroduceForm()?(P((0,h.setLastMessage)(e)),p.Router.next(g.RouterEvent.ToIntroduce)):(d.messageActions.sendClientMessage({text:e}),b.default.play("outgoing_message"),v.default.mobileOrTablet()||(0,l.afterEmojiInserted)());M(!0),f.Monitoring.telemetryOnce(_.TelemetryName.PRECHAT,{param1:t,param2:F}),m.default.trackPrechatClick(t)}}};var r=i(n(67375)),o=n(98661),a=n(36113),s=n(89766),l=n(89177),u=n(47245),c=n(45950),d=n(65465),f=n(54415),p=n(21476),g=n(47060),h=n(92056),_=n(83170),m=i(n(138)),v=i(n(19955)),y=i(n(75686)),b=i(n(71277)),E=n(87692),C=n(20344),T=n(55329),D=n(69882),w=n(7193),O=n(95448),S=n(80161);const A=new s.EventEmitter;t.PrechatEmitter=A},93254:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=i(n(98661)),c=n(36113),d=i(n(45697)),f=i(n(19955)),p=i(n(74379)),g=i(n(2167)),h=i(n(53517)),_=i(n(21135)),m=n(21476),v=n(47060),y=i(n(94184)),b=n(47138),E=i(n(75686)),C=n(47245),T=i(n(4855)),D=n(34930),w=n(625),O=n(69882),S=i(n(73727)),A=n(72665),I=n(29312),k=n(16217),M=i(n(47860)),P=n(46658);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}T.default.name("MobileContainer");let x=function(e){(0,a.default)(n,e);var t=R(n);function n(e){var i;return(0,r.default)(this,n),(i=t.call(this,e)).showState=!1,i}return(0,o.default)(n,[{key:"componentDidUpdate",value:function(){this.props.route===v.Route.LABEL||this.props.route===v.Route.CAMPAIGN_POPUP||f.default.tablet()&&this.props.route===v.Route.MOBILE_MENU||this.props.route===v.Route.HIDDEN?p.default.unblockSite():p.default.blockSite(),this.props.route!=v.Route.HIDDEN?this.props.route!==v.Route.LABEL&&this.props.route!==v.Route.HIDDEN?p.default.setZoomChangeIterval(500):p.default.setZoomChangeIterval(1e3):clearInterval(p.default.intervalId)}},{key:"renderMenuContainer",value:function(){return f.default.tablet()?null:u.default.createElement(_.default,{allowedRoutes:[v.Route.MOBILE_MENU],currentRoute:this.props.route,name:"OmniMenuContainer"},u.default.createElement(h.default,{show:!0,onCancelClick:()=>m.Router.next(v.RouterEvent.CloseWindow)}))}},{key:"renderWidgetContainer",value:function(){return u.default.createElement(_.default,{allowedRoutes:(0,P.getAllowedRoutes)(),currentRoute:this.props.route,name:"MobileWidgetContent"},u.default.createElement("jdiv",{className:(0,y.default)({[M.default.mobileContainer]:!0,[M.default.__tablet]:f.default.tablet()||f.default.desktop()&&(0,O.isChatPage)(),[M.default.__cpFull]:(0,O.isChatPage)()&&S.default.enable_full_cp}),style:{zoom:(0,w.getZoom)(this.props.zoom),zIndex:2147483647,"-webkit-text-size-adjust":f.default.ios()?p.default.getTextSize():"none"},ref:e=>{E.default.set(C.Component.MOBILE_CONTAINER,e)}},u.default.createElement(g.default,{needRenderCloseBtn:!1,needRenderCallContainer:(0,k.isCallbackEnabled)(),needRenderDrag:!1,showCloseButton:!0,showHeaderText:!0,showBody:!0,callbackEnabled:this.props.callbackEnabled,route:this.props.route,onCloseButtonClick:()=>{(0,D.closeWidget)(),this.props.callbackStatus===b.CallStatus.CONNECTED&&m.Router.next(v.RouterEvent.CloseWindow)}})))}},{key:"render",value:function(){return u.default.createElement(u.default.Fragment,null,this.renderWidgetContainer(),u.default.createElement(A.LandscapeOverlay,null),u.default.createElement(I.ZoomOverlay,null),this.renderMenuContainer())}}]),n}(u.default.PureComponent);x.propTypes={chat:d.default.bool,tabletMenu:d.default.bool,callbackEnabled:d.default.bool,route:d.default.string,position:d.default.any,padding:d.default.number,callbackStatus:d.default.oneOfType([d.default.string,d.default.bool]),mobileOrientation:d.default.string,zoom:d.default.number};var N=(0,c.connect)((e=>({padding:e.settings.user.widgetPadding,mobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,zoom:e.zoom.app})),{})(x);t.default=N},46658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllowedRoutes=void 0;var i=n(47060);t.getAllowedRoutes=()=>[i.Route.CHAT,i.Route.CHAT_CALL,i.Route.CHAT_EULA,i.Route.CHAT_SOCIAL,i.Route.CHAT_MIN,i.Route.DEPARTMENTS,i.Route.INTRODUCE,i.Route.CALL,i.Route.CALL_EULA,i.Route.DEPARTMENTS,i.Route.INTRODUCE,i.Route.DEBUG,i.Route.CHAT_SETUP_CALL]},23095:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(67375)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),s=n(36113),l=i(n(45697)),u=i(n(94184)),c=n(57930),d=n(90361),f=n(52274),p=i(n(40704)),g=n(56443),h=i(n(19955)),_=n(87869),m=n(22932),v=n(77389),y=n(89334),b=n(42601),E=n(43417),C=n(50339),T=i(n(29384)),D=n(7466);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}let O=!1;const S=e=>{let t=e.show,n=e.text,i=void 0===n?"":n,l=e.link,w=e.campaign,S=e.isLeftOrientation,A=e.onClick,I=e.onClose,k=e.onLink,M=e.isMarkdown,P=e.isWidgetConstructor;const R=(0,a.useRef)(null),x=(0,a.useRef)(null),N=(0,a.useState)(!0),L=(0,o.default)(N,2),F=L[0],j=L[1],B=(0,a.useState)(0),W=(0,o.default)(B,2),U=W[0],H=W[1],z=Math.round(U)>=f.CAMPAIGN_TEXT_HEIGHT,G=i.length<f.PROACTIVE_TEXT_LIMIT,V=e=>{P||(j(!0),setTimeout((()=>{null==A||A(e)}),200))};(0,y.useEffectOnce)((function(){if(R.current){const e=R.current.offsetHeight;e&&H(e),j(!1)}}));const $=(0,v.useListenedStyle)("textSize"),q=h.default.ios()?{"-webkit-text-size-adjust":$}:null,Z=(0,s.useSelector)(b.selectZoom).page*(0,m.getPageWindow)().innerWidth-38,K=Z?{maxWidth:Z.toFixed()+"px",minWidth:z?Z.toFixed()+"px":null}:null,Y=(0,u.default)({[T.default.popup]:!0,[T.default.__show]:t,[T.default.__left]:S,[T.default.__widgetConstructor]:P}),J=(0,u.default)({[T.default.popupBlock]:!0,[T.default.__show]:!0,[T.default.__short]:G,[T.default.__left]:S,[T.default.__isCampaign]:!0}),X=(0,u.default)({[T.default.popupAnim]:!0,[T.default.__show]:!F&&t,[T.default.__longText]:z,[T.default.__noImage]:!(null!=w&&w.img_src)}),Q=e=>{P||(O=!0,j(!0),setTimeout((()=>{null==I||I(e),O=!1}),200))};if((0,_.useClickListener)(x,(e=>Q(e))),!i)return null;const ee=h.default.mobileOrTablet()&&h.default.isTouchEnabled();return a.default.createElement("jdiv",{className:Y},a.default.createElement("jdiv",{className:J,style:K},P||F?null:a.default.createElement("jdiv",(0,r.default)({className:T.default.closeBlock,ref:x},(0,d.withLocator)(c.Locator.MOBILE_POPUP_CLOSE_BUTTON)),a.default.createElement(p.default,{iconName:"icon-popup-close",color:"rgba(0, 0, 0, 0.6)",hoverColor:"#7D8999",className:T.default.closePopupIcon})),a.default.createElement("jdiv",{className:X,onClick:ee?null:e=>{e.preventDefault(),V(e)},onTouchStart:()=>{O=!1},onTouchMove:()=>{O=!0},onTouchEnd:e=>{O||V(e)},style:{"--jv-mobile-badge-color":null!=w&&w.text_color?w.text_color:null,"--jv-mobile-badge-background":null!=w&&w.background?(0,C.buildBackground)(w.background):null}},l&&a.default.createElement("a",(0,r.default)({className:T.default.imOverlay,href:l,target:"_blank",rel:"nofollow noopener noreferrer"},(0,E.onClickHandler)((e=>{setTimeout((()=>Q(e)),200),null==k||k()}),!0,!1))),null!=w&&w.img_src?a.default.createElement("jdiv",{className:T.default.badgeImage,style:{backgroundImage:`url(${w.img_src})`}}):null,a.default.createElement("jdiv",{className:(0,u.default)({[T.default.text]:!0,[T.default.__isMarkdown]:M,[T.default.__noImage]:!(null!=w&&w.img_src)}),style:q},M||P?a.default.createElement("jdiv",{className:T.default.textBox,ref:R},a.default.createElement(g.Markdown,{onLinkClick:k,theme:{text:null!=w&&w.text_color?T.default.campaignTextColor:void 0}},null!=w&&w.message?w.message:i)):a.default.createElement("jdiv",{ref:R,className:T.default.textBox},a.default.createElement(D.Text,null,i)),z&&!(null!=w&&w.background)&&a.default.createElement("jdiv",{className:T.default.whiteMore})))))};S.propTypes={isLeftOrientation:l.default.bool.isRequired,link:l.default.string,show:l.default.bool.isRequired,text:l.default.string.isRequired,onClick:l.default.func.isRequired,onClose:l.default.func.isRequired,onLink:l.default.func.isRequired,isMarkdown:l.default.bool};var A=S;t.default=A},11297:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=i(n(98661)),a=n(36113),s=i(n(45697)),l=i(n(79868)),u=n(54415),c=n(83170),d=n(67597),f=n(7193),p=n(48999),g=n(63664),h=n(44145),_=n(80797),m=i(n(89348)),v=i(n(23095));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const E=e=>{var t;let n=e.show,i=e.popup,r=e.campaignWidgetMobileProactive,s=e.orientation,y=e.avatarHost,C=e.onClick,T=e.onClose;(0,g.useErrorCatcher)(E.displayName);const D=(0,_.useWidgetConstructorContext)().isWidgetConstructor,w="left"===s,O=l.default.ifIMessageEnabled()?l.default.getJoints().links.imUrl:null,S=()=>{u.Monitoring.telemetry(c.TelemetryName.POWERBUTTON_OPEN+"im")},A=(0,a.useSelector)(f.selectProactive).campaignId,I=(0,p.getCampaignContentSettigns)(A);var k;if(D||I)return D||(i.text=(0,p.formatProactiveContent)(b(b({},I),{},{img_src:!1}))),o.default.createElement(v.default,{show:n,text:null!==(k=null==i?void 0:i.text)&&void 0!==k?k:null==r?void 0:r.message,link:O,isMarkdown:null==i?void 0:i.isMarkdown,campaign:null!=r?r:I,isLeftOrientation:w,onClick:e=>null==C?void 0:C(e,"popup"),onClose:T,onLink:D?void 0:S,isWidgetConstructor:D});if(!i.agent)return u.Monitoring.telemetryOnce("agent_popup_error",{param1:(0,h.getProactive)().agentId,param2:JSON.stringify((0,h.getAgents)())}),null;const M=(0,d.getAvatarUrl)(y,null===(t=i.agent)||void 0===t?void 0:t.avatarUrl);return o.default.createElement(m.default,{show:n,text:i.text,agentName:i.agent.name,isMarkdown:i.isMarkdown,isCampaign:!!I,badgeImage:null==I?void 0:I.img_src,agentAvatar:M,link:O,isLeftOrientation:w,isBot:i.agent.isBot,onClick:e=>C(e,"popup"),onClose:T,onLink:S})};E.propTypes={show:s.default.bool.isRequired,popup:s.default.shape({text:s.default.string,agent:s.default.object,isMarkdown:s.default.bool}),orientation:s.default.string,avatarHost:s.default.string.isRequired,onClick:s.default.func.isRequired,onClose:s.default.func.isRequired},E.displayName="MobilePopupContainer";var C=E;t.default=C},89348:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(23101)),o=i(n(67375)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),s=i(n(45697)),l=i(n(94184)),u=n(57930),c=n(52274),d=n(90361),f=i(n(40704)),p=n(56443),g=i(n(19955)),h=n(87869),_=n(89334),m=n(43417),v=n(7466),y=i(n(29384));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}let E=!1;const C=e=>{let t=e.show,n=e.text,i=void 0===n?"":n,s=e.link,b=e.agentName,C=e.agentAvatar,T=e.isLeftOrientation,D=e.onClick,w=e.onClose,O=e.onLink,S=e.isMarkdown;const A=(0,a.useRef)(null),I=(0,a.useRef)(null),k=(0,a.useState)(!0),M=(0,o.default)(k,2),P=M[0],R=M[1],x=(0,a.useState)(0),N=(0,o.default)(x,2),L=N[0],F=N[1],j=i.length<c.PROACTIVE_TEXT_LIMIT,B=L>c.PROACTIVE_MAX_HEIGHT,W=e=>{R(!0),setTimeout((()=>{D(e)}),200)};(0,_.useEffectOnce)((function(){if(A.current){const e=A.current.offsetHeight;e>0&&F(e)}R(!1)}));const U=(0,l.default)({[y.default.popup]:!0,[y.default.__show]:t,[y.default.__left]:T}),H=(0,l.default)({[y.default.popupBlock]:!0,[y.default.__show]:!0,[y.default.__short]:j,[y.default.__left]:T}),z=(0,l.default)({[y.default.popupAnim]:!0,[y.default.__show]:!P&&t,[y.default.__longText]:B});if((0,h.useClickListener)(I,w),!i)return null;const G=g.default.mobileOrTablet()&&g.default.isTouchEnabled();return a.default.createElement("jdiv",{className:U},a.default.createElement("jdiv",{className:H},a.default.createElement("jdiv",(0,r.default)({className:y.default.closeBlock,ref:I},(0,d.withLocator)(u.Locator.MOBILE_POPUP_CLOSE_BUTTON)),a.default.createElement(f.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:y.default.closePopupIcon})),a.default.createElement("jdiv",{className:z,onClick:G?null:e=>{e.preventDefault(),!s&&W(e)},onTouchStart:()=>{E=!1},onTouchMove:()=>{E=!0},onTouchEnd:e=>{E||!s&&W(e)}},s&&a.default.createElement("a",(0,r.default)({className:y.default.imOverlay,href:s,target:"_blank",rel:"nofollow noopener noreferrer"},(0,m.onClickHandler)((e=>{setTimeout((()=>(e=>{E=!0,R(!0),setTimeout((()=>{w(e),E=!1}),300)})(e)),300),O()}),!0,!1))),b&&a.default.createElement("jdiv",{className:y.default.avatar},a.default.createElement("jdiv",{className:y.default.avatarImg,style:C&&{backgroundImage:`url(${C})`}}),a.default.createElement("jdiv",{className:y.default.agentName},b)),a.default.createElement("jdiv",{className:(0,l.default)({[y.default.text]:!0,[y.default.__isMarkdown]:S,[y.default.__noImage]:!0})},S?a.default.createElement("jdiv",{className:y.default.textBox,ref:A},a.default.createElement(p.Markdown,{onLinkClick:O},i)):a.default.createElement("jdiv",{ref:A,className:y.default.textBox},a.default.createElement(v.Text,null,i)),B&&a.default.createElement("jdiv",{className:y.default.whiteMore})))))};C.propTypes={agentAvatar:s.default.string,agentName:s.default.string,isLeftOrientation:s.default.bool.isRequired,link:s.default.string,show:s.default.bool.isRequired,text:s.default.string,onClick:s.default.func.isRequired,onClose:s.default.func.isRequired,onLink:s.default.func.isRequired,isMarkdown:s.default.bool};var T=C;t.default=T},53517:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),o=n(36113),a=i(n(45697)),s=n(26932),l=n(65465),u=n(35233),c=n(65210),d=n(45959),f=n(87692),p=n(19210),g=n(63664),h=i(n(91275)),_=n(52947),m=n(97277),v=n(20279);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b=(0,_.getDevice)(),E=(0,r.lazy)((()=>n.e(963).then(n.bind(n,13032)))),C=e=>{let t=e.show,n=e.referenceElement,i=e.onCancelClick,a=e.onOverlayClick;(0,g.useErrorCatcher)(C.displayName);const y=(0,o.useSelector)(u.selectApp),T=(0,o.useSelector)(f.selectBillRu),D=(0,o.useSelector)(c.selectCallback),w=(0,o.useSelector)(d.selectClient),O=(0,o.useSelector)(f.selectSettings),S=(0,o.useSelector)(f.selectWidgetOrientation),A={app:y,callback:D,client:w,settings:O,onApp:s.appDispatchers,onMessage:l.messageActions,onUser:s.userDispatchers,onChat:_.isMobileOrTablet?h.default.openChatCallbacks:p.showChat};return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(E,{show:t,copyright:(0,m.getCopyright)(T),device:b,orientation:S,referenceElement:n,onCancelClick:()=>(0,v.onCancelClick)(i),menuProps:A,onOverlayClick:a}))};C.displayName="OmnichannelMenu",C.propTypes={show:a.default.bool,referenceElement:a.default.oneOfType([a.default.element,()=>null]),onCancelClick:a.default.func,onOverlayClick:a.default.func};var T=C;t.default=T},97277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCopyright=void 0;var i=n(68403),r=n(67597);t.getCopyright=e=>({show:(0,i.showAd)(),link:(0,r.getUtmLink)("mobile_menu"),icon:e?"logo-jivosite-white":"logo-jivochat-white"})},52947:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileOrTablet=t.getDevice=t.DEVICE=void 0;var r=i(n(19955));const o={IOS:"ios",ANDROID:"android",TABLET:"tablet",DESKTOP:"desktop"};t.DEVICE=o;t.getDevice=()=>r.default.tablet()?o.TABLET:r.default.ios()?o.IOS:r.default.mobile()?o.ANDROID:o.DESKTOP;const a=r.default.mobileOrTablet();t.isMobileOrTablet=a},20279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onCancelClick=void 0;var i=n(21476),r=n(47060),o=n(55004),a=n(69882);t.onCancelClick=e=>(0,a.isChatPage)()?(0,o.isFunction)(e)&&e():i.Router.next(r.RouterEvent.CloseWindow)},21135:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(98661)),o=i(n(45697));const a=e=>{let t=e.children,n=e.allowedRoutes,i=e.currentRoute;return n.includes(i)?r.default.createElement(r.default.Fragment,null,t):null};a.propTypes={children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node,o.default.func]).isRequired,allowedRoutes:o.default.arrayOf(o.default.string).isRequired,currentRoute:o.default.string.isRequired};var s=r.default.memo(a);t.default=s},83502:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var r=i(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=i(n(45697)),s=i(n(94184)),l=n(57930),u=n(47060),c=n(90361),d=i(n(19955)),f=i(n(11297)),p=i(n(53517)),g=i(n(21135)),h=i(n(56145)),_=i(n(40704)),m=i(n(40977));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}let y=!1;const b=e=>{let t=e.isCallEnabled,n=e.showLogo,i=e.top,a=e.left,v=e.unReadMessages,b=e.popup,E=e.iconColor,C=e.widgetMobileOrientation,T=e.mobileOffsetBottom,D=e.powerButtonColor,w=e.zoom,O=e.linkOverlay,S=e.onOverlayClick,A=e.isOnline,I=e.route,k=e.onClick,M=e.onPopupClick,P=e.onClosePopupClick,R=e.hidden,x=e.isCustomLabel,N=e.isDesktop,L=e.isPopupShow,F=e.isMobileOrTablet,j=e.isWidgetTarget,B=e.desktopPosition,W=e.avatarHost,U=e.isOmnichannelMenu,H=e.toggleOmnichannelMenu,z=e.designerOptions;const G=(0,o.useRef)(null),V=w.user>1.1,$=Boolean(F&&T),q={[m.default.wrap]:!0,[m.default._orientationRight]:N?"right"===B:"right"===C,[m.default._orientationLeft]:N?"left"===B:"left"===C,[m.default._popupShow]:L,[m.default._show]:!R,[m.default._hoverMenu]:N,[m.default._mobileDesigner]:z&&z.isMobileView,[m.default._mobileOffsetBottom]:$,[m.default._extensionsTarget]:j,__jivoMobileButton:!(!F||V),__jivoDesktopButton:N},Z={};return V?Z.transform=`translate(${a}px,${i}px) scale(${w.app})`:1!==w.app&&(Z.zoom=w.app),$&&(Z["--jivoMobileOffsetBottom"]=`${null!=T?T:0}px`),o.default.createElement("jdiv",(0,r.default)({className:(0,s.default)(q),style:Z},(0,c.withLocator)(l.Locator.POWER_BUTTON)),b?o.default.createElement(f.default,{show:!0,popup:b,orientation:C,avatarHost:W,onClick:M,onClose:P}):null,O?o.default.createElement("a",{className:m.default.overlay,href:O,target:d.default.chromeIOS()?"_self":"_blank",rel:"nofollow noopener noreferrer",onPointerDown:S}):null,o.default.createElement("jdiv",{ref:G,className:(0,s.default)({[m.default.button]:!0,[m.default.__hide]:x,[m.default.__inzoom]:V}),style:{background:D},onClick:e=>{!N&&H(),!d.default.isTouchEnabled()&&k(e)},onTouchStart:()=>{y=!1},onTouchMove:()=>{y=!0},onTouchEnd:e=>{y||(e.preventDefault(),H(),k(e))}},v?o.default.createElement("jdiv",{className:m.default.messagesLabel},o.default.createElement("jdiv",{className:m.default.badge},v)):null,(()=>{const e=N?[u.Route.LABEL,u.Route.MOBILE_MENU]:[u.Route.LABEL];return o.default.createElement(g.default,{allowedRoutes:e,currentRoute:I,name:"Icons"},o.default.createElement(h.default,{showLogo:n,isCallEnabled:t,iconColor:E,isOnline:A}))})(),N?null:o.default.createElement(g.default,{allowedRoutes:[u.Route.MOBILE_MENU],currentRoute:I,name:"CloseIcon"},o.default.createElement("jdiv",{className:m.default.closeIconWrap},o.default.createElement(_.default,{iconName:"icon-close",color:E,className:m.default.closeIcon})))),(()=>{const e=N?[u.Route.LABEL]:[u.Route.MOBILE_MENU];return o.default.createElement(g.default,{allowedRoutes:e,currentRoute:I,name:"OmniMenu"},o.default.createElement("jdiv",{className:(0,s.default)({[m.default.menuWrap]:!0,[m.default.__hover]:N})},o.default.createElement(p.default,{show:U,referenceElement:G})))})())},E=b.propTypes={isCallEnabled:a.default.bool,showLogo:a.default.bool,top:a.default.number,left:a.default.number,unReadMessages:a.default.number,popup:a.default.any,iconColor:a.default.string,iconTopColor:a.default.string,widgetMobileOrientation:a.default.string,mobileOffsetBottom:a.default.number,powerButtonColor:a.default.string,zoom:a.default.any,linkOverlay:a.default.any,onOverlayClick:a.default.func,isOnline:a.default.bool,route:a.default.string,onClick:a.default.func,onPopupClick:a.default.func,onClosePopupClick:a.default.func,hidden:a.default.bool,isCustomLabel:a.default.bool,isDesktop:a.default.bool,desktopPosition:a.default.string,avatarHost:a.default.string,designerOptions:a.default.shape({isMobileView:a.default.bool,mobileRenderTarget:a.default.string})};t.componentProps=E;var C=o.default.memo(b);t.default=C},9004:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=i(n(98661)),o=n(98661),a=n(63664),s=n(69882),l=i(n(21135)),u=n(47060),c=n(23119),d=i(n(83502));function f(){(0,a.useErrorCatcher)(f.displayName);const e=(0,c.useEnhanced)(),t=e._window,n=e.position,i=e.isHidden,p=e.route,g=e.userZoom,h=e.isCallEnabled,_=e.isTopEnabled,m=e.isLogoShow,v=e.unreadMessages,y=e.popup,b=e.iconColor,E=e.iconTopColor,C=e.widgetMobileOrientation,T=e.mobileOffsetBottom,D=e.powerButtonColorComputed,w=e.powerButtonDesktopPosition,O=e.zoom,S=e.isOnline,A=e.linkOverlay,I=e.isCustomLabel,k=e.avatarUrl,M=e.isOmniMenuShow,P=e.allowedRoutes,R=e.isMobileOrTablet,x=e.isWidgetTarget,N=e.isDesktop,L=e.isPopupShow,F=e.designerOptions,j=e.labelBubble,B=e.hiddenByRules,W=e.onToggleOmniMenu,U=e.onClickHandler,H=e.onOverlayClick,z=e.onClosePopupClick,G=n.top,V=n.left;return F.isMobileView&&F.mobileRenderTarget?(0,o.createPortal)(r.default.createElement(d.default,{hidden:i,isCallEnabled:h,isTopEnabled:_,showMenu:!1,showLogo:m,top:G,left:V,unReadMessages:v,popup:y,iconColor:b,iconTopColor:E,widgetMobileOrientation:C,mobileOffsetBottom:Number(T),powerButtonColor:D,zoom:O,isOnline:S,route:p,onClick:U,linkOverlay:A,onOverlayClick:H,onPopupClick:e=>U(e,!0),onClosePopupClick:z,isCustomLabel:I,isDesktop:N,isMobileOrTablet:R,isPopupShow:L,desktopPosition:w,avatarHost:k,isOmnichannelMenu:M,toggleOmnichannelMenu:W,designerOptions:F}),t.document.getElementById(F.mobileRenderTarget)):p===u.Route.HIDDEN||g>2||(0,s.isChatPage)()||N&&!j||B?null:r.default.createElement(l.default,{allowedRoutes:P,currentRoute:p,name:"PowerButtonNew"},r.default.createElement(d.default,{hidden:i,isCallEnabled:h,isTopEnabled:_,showMenu:!1,showLogo:m,top:G,left:V,unReadMessages:v,popup:y,iconColor:b,iconTopColor:E,widgetMobileOrientation:C,mobileOffsetBottom:T,powerButtonColor:D,zoom:O,isOnline:S,route:p,onClick:U,linkOverlay:A,onOverlayClick:H,onPopupClick:e=>U(e,!0),onClosePopupClick:z,isCustomLabel:I,isDesktop:N,isMobileOrTablet:R,isWidgetTarget:x,isPopupShow:L,desktopPosition:w,avatarHost:k,isOmnichannelMenu:M,toggleOmnichannelMenu:W}))}f.displayName="PowerButtonContainer",f.propTypes={}},933:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportOpenTelemetry=t.openMenuClick=t.onOverlayClick=t.onClosePopupClick=t.handleUnreadClick=t.handleOpenMenuClick=t.handleButtonClick=t.getUnreadMessages=t.getPowerButtonColor=t.getPosition=t.getPopup=t.getOverlay=t.getIsCallEnabled=t.getIconColor=void 0;var r=i(n(27104)),o=n(69882),a=n(65465),s=i(n(74379)),l=i(n(19955)),u=n(21476),c=n(47060),d=n(26932),f=i(n(91275)),p=n(54415),g=n(83170),h=i(n(79868)),_=i(n(66547)),m=n(67597),v=n(81152),y=n(44145),b=n(62162),E=i(n(4855)),C=n(84998),T=n(22932),D=n(16217);const w=E.default.name("PowerBtnHelpers");t.getPowerButtonColor=e=>{let t=e.isDesktop,n=e.powerButtonColor,i=e.powerGradient,o=e.color,a=e.color2;return i||t?r.default.getGradientBg(o,a):n};t.getIconColor=e=>{let t,n=e.isDesktop,i=e.powerButtonColor,o=e.powerGradient,a=e.color;return t=o||n?r.default.isLightColor(a):r.default.isLightColor(i),t?"#3e414f":"#fff"};t.getIsCallEnabled=()=>(0,D.isCallbackEnabled)();const O=(e,t)=>{const n=(0,y.getProactive)();let i=!!n.text&&n.status!==v.MessageStatus.READ;return t&&!i&&(i=!0),t||!(e=>{if(!e)return 0;let t=0;return e.forEach((e=>{e.from===v.MessageInitiator.AGENT&&e.status!==v.MessageStatus.READ&&e.type==v.MessageType.FOR_TEST&&t++})),t})(e)||(0,y.getApp)().isOnline||(i=!0),(e=>{if(!e)return 0;let t=0;return e.forEach((e=>{e.from===v.MessageInitiator.AGENT&&e.status!==v.MessageStatus.READ&&e.status!==v.MessageStatus.DELETED&&e.type!==v.MessageType.FOR_TEST&&t++})),t})(e)+(i?1:0)};t.getUnreadMessages=O;t.getPosition=(e,t)=>{const n=(0,T.getPageWindow)().visualViewport,i="left"===t,r=s.default.isSiteOptimizedForMobile?-15:15;if(l.default.mobileOrTablet()&&n&&e>=1.1){const t=s.default.getPseudo(),o=t&&t.getBoundingClientRect().height||0,a=t&&t.getBoundingClientRect().width||0,l=n.width-a+n.offsetLeft,u=n.offsetLeft+r*e,c=i?u:l;return{top:n.height-o+n.offsetTop-r,left:c-r}}return{left:null,top:null}};const S=()=>{d.appDispatchers.setAppIsFocused(!0),u.Router.next(c.RouterEvent.Navigate),a.messageActions.deleteUnansweredOfflineSystemInvite(),a.messageActions.offlineSystemInvite(),a.messageActions.addPrechatMessage(),f.default.openChatCallbacks(),I("from_pwr")};t.handleButtonClick=S;const A=()=>{d.appDispatchers.setChatOpenByClient(!1),u.Router.next(c.RouterEvent.ToMobileMenu),p.Monitoring.telemetry(g.TelemetryName.POWERBUTTON_OPEN_MENU,{param1:"menu",param2:l.default.isPointerEnabled()?1:0})};t.handleOpenMenuClick=A;const I=e=>{const t={};e&&(t.param1=e,t.param2=l.default.isPointerEnabled()?1:0),(0,y.getSystemSettings)().botmode&&(t.param4=1),p.Monitoring.telemetry(g.TelemetryName.WIDGET_CLICK,t)};t.reportOpenTelemetry=I;const k=(e,t)=>{d.appDispatchers.setAppIsFocused(!0),e?u.Router.next(c.RouterEvent.ToCall):(u.Router.next(c.RouterEvent.ToChat),d.userDispatchers.setCallHeaderText(null)),f.default.openChatCallbacks(),(0,b.readProactive)(),I(t?"from_popup":null)};t.handleUnreadClick=k;t.openMenuClick=(e,t,n,i,r)=>{w.log("onMenuClick helper");const a=h.default.getJoints();t!==c.Route.MOBILE_MENU?(d.appDispatchers.setChatOpenByClient(!0),O(r,n)?k(n,i):a.count>0?A():S()):l.default.tablet()&&((0,o.isChatPage)()||u.Router.next(c.RouterEvent.CloseWindow)),(0,C.addHistory)()};t.getOverlay=e=>!!(l.default.supportsIMessage()&&e&&e.joint_id)&&(0,m.getIMessageLink)(e.joint_id);t.onOverlayClick=e=>{e.stopPropagation(),p.Monitoring.telemetry(g.TelemetryName.POWERBUTTON_OPEN+"im")};t.getPopup=(e,t)=>{if(!e)return null;if(t&&t.text&&t.status!==v.MessageStatus.READ){const e=(0,b.getProactiveAgent)(t);return{text:t.text,agent:e,isMarkdown:t.isMarkdown}}};t.onClosePopupClick=()=>{(0,b.readProactive)(),(0,b.rejectProactive)(),_.default.set("close_time",(new Date).getTime()),p.Monitoring.telemetry(g.TelemetryName.INVITE_CLOSE)}},23119:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,a.useSelector)(u.selectPowerButtonColor),t=(0,a.useSelector)(u.selectWidgetColor),n=(0,a.useSelector)(u.selectWidgetColor2),i=(0,a.useSelector)(u.selectPowerGradient),M=(0,a.useSelector)(u.selectWidgetOrientation),P=(0,a.useSelector)(u.selectWidgetPadding),R=(0,a.useSelector)(u.selectWidgetMobileOrientation),x=(0,a.useSelector)(u.selectMobileOffsetBottom),N=(0,a.useSelector)(D.selectRoute),L=(0,a.useSelector)(u.selectCallHeaderText),F=(0,a.useSelector)(c.selectMessages),j=(0,a.useSelector)(D.selectIsOnline),B=(0,a.useSelector)(l.selectZoom),W=B.user,U=(0,a.useSelector)(d.selectProactive),H=(0,a.useSelector)(u.selectMobileProactive),z=(0,a.useSelector)(u.selectAvatarUrl),G=(0,a.useSelector)(u.selectJoint),V=(0,a.useSelector)(u.selectLabelBubble),$=(0,a.useSelector)(O.selectCampaignPopupSettings).display,q=(0,a.useSelector)(u.selectDesigner),Z=q.isMobileView||A.platform.isMobileOrTablet,K=!q.isMobileView&&A.platform.isDesktop,Y=(0,a.useSelector)(D.selectHiddenByRules),J=(0,a.useSelector)(O.selectFeaturesSettings).disableMobileBack,X=(0,S.useWidgetExtensionsContext)().isWidgetTarget,Q=(0,o.useState)(!1),ee=(0,r.default)(Q,2),te=ee[0],ne=ee[1],ie=(0,o.useState)(K),re=(0,r.default)(ie,2),oe=re[0],ae=re[1],se=(0,o.useState)((0,I.getPosition)(W,R)),le=(0,r.default)(se,2),ue=le[0],ce=le[1],de=(0,o.useState)(K?(0,C.getPowerButtonDesktopPosition)(M,P):null),fe=(0,r.default)(de,2),pe=fe[0],ge=fe[1],he=G?G.im:null,_e=(0,I.getUnreadMessages)(F,L),me=(0,I.getPopup)(H,U),ve=(0,I.getIconColor)({isDesktop:K,powerButtonColor:e,powerGradient:i,color:t}),ye=e||t,be=(0,I.getPowerButtonColor)({isDesktop:K,powerButtonColor:e,powerGradient:i,color:t,color2:n}),Ee=(0,w.getPageWindow)(),Ce=(0,I.getOverlay)(he),Te=A.platform.isTablet?[m.Route.LABEL,m.Route.MOBILE_MENU]:[m.Route.LABEL];let De=null;const we=()=>{clearTimeout(De),ne(W>=1.1),ce((0,I.getPosition)(W,R)),De=setTimeout((()=>{ne(!1)}),200)},Oe=e=>{ae((t=>null!=e?e:!t))};return(0,b.useDidUpdate)((()=>{A.platform.isTablet&&oe&&(Oe(),(0,T.closeWidget)(),y.appDispatchers.setAppRoute(m.Route.LABEL))}),[W]),(0,o.useEffect)((()=>{A.platform.isTablet&&N===m.Route.LABEL&&oe&&Oe(!1)}),[N,oe]),(0,o.useEffect)((()=>{K&&ge((0,C.getPowerButtonDesktopPosition)(M,P))}),[K,M,P]),(0,o.useEffect)((()=>{const e=new _.HistoryManager,t=Ee.document,n=(0,f.throttle)(we,200),i=()=>{e.checkPopState()},r=e=>{"BODY"===e.target.tagName&&N!==m.Route.LABEL&&(0,v.hasClass)(t.documentElement,"jivo-tablet-overlay")&&(e.preventDefault(),(0,T.closeWidget)(),y.appDispatchers.setAppRoute(m.Route.LABEL))};return g.messageActions.deleteUnansweredOfflineSystemInvite(),(0,h.addListener)(Ee,"scroll",n,!0),(0,h.addListener)(Ee,"resize",n,!0),Ee.visualViewport&&Ee.addEventListener&&A.platform.isIos&&((0,h.addListener)(Ee.visualViewport,"scroll",n,!0),(0,h.addListener)(Ee.visualViewport,"resize",n,!0)),J||(0,h.addListener)(Ee,"popstate",i),ne(!1),ce((0,I.getPosition)(W)),A.platform.tablet&&(0,h.addListener)(t.body,"touchstart",r),()=>{(0,h.removeEvent)(Ee,"scroll",n),(0,h.removeEvent)(Ee,"resize",n),(0,h.removeEvent)(Ee,"popstate",i),(0,h.removeEvent)(Ee.visualViewport,"scroll",n),(0,h.removeEvent)(Ee.visualViewport,"scroll",n),(0,h.removeEvent)(t.body,"touchstart",r)}}),[]),{_window:Ee,isHidden:te,powerButtonColor:e,powerGradient:i,color:t,color2:n,isOnline:j,widgetMobileOrientation:R,mobileOffsetBottom:x,route:N,callHeaderText:L,zoom:B,userZoom:W,mobileProactive:H,iMessageSettings:he,messages:F,avatarUrl:z,position:ue,unreadMessages:_e,popup:me,iconColor:ve,iconTopColor:ye,powerButtonColorComputed:be,powerButtonDesktopPosition:pe,linkOverlay:Ce,isOmniMenuShow:oe,allowedRoutes:Te,isCustomLabel:(0,p.isCustomLabel)(),isCallEnabled:(0,k.isCallbackEnabled)(),isLogoShow:(0,E.showAd)(),isPopupShow:$,designerOptions:q,isMobileOrTablet:Z,isWidgetTarget:X,isDesktop:K,labelBubble:V,hiddenByRules:Y,onViewportChanged:we,onToggleOmniMenu:Oe,onClickHandler:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(q.isMobileView)return;K?(0,s.showChat)(j,m.RouterEvent.Navigate,{param1:"from_pwr_desktop"}):(0,I.openMenuClick)(e,N,L,t,F)},onOverlayClick:I.onOverlayClick,onClosePopupClick:I.onClosePopupClick}};var r=i(n(67375)),o=n(98661),a=n(36113),s=n(19210),l=n(42601),u=n(87692),c=n(66311),d=n(7193),f=n(73262),p=n(69882),g=n(65465),h=n(21951),_=n(92790),m=n(47060),v=n(32183),y=n(26932),b=n(49862),E=n(68403),C=n(80598),T=n(34930),D=n(65138),w=n(22932),O=n(79105),S=n(13551),A=n(20676),I=n(933),k=n(16217)},56145:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var r=i(n(61125)),o=i(n(98661)),a=i(n(45697)),s=i(n(94184)),l=i(n(4855)),u=i(n(28843)),c=n(24785),d=i(n(40704)),f=n(16217),p=i(n(64734));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}l.default.name("PowerButtonIcons");const _=e=>{let t=e.showLogo,n=e.isCallEnabled,i=e.iconColor,r=e.isOnline;const a=!(n&&!(0,f.isCallbackButtonEnabled)()),l={[p.default.iconWrap]:!0,[p.default._isCallEnabled]:!a,[p.default._showLogo]:t},g=e=>{const t=r?"mobile-cloud":"envelope",n=r?p.default.logoIconCloud:p.default.envelopeIcon;return o.default.createElement(d.default,{iconName:t,color:e,className:(0,s.default)(n,p.default.icons)})},_=()=>a?null:o.default.createElement("jdiv",{className:(0,s.default)(h(h({},l),{},{[p.default.iconWrap2]:!0}))},g(i));return o.default.createElement(o.default.Fragment,null,o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",{className:(0,s.default)(h({},l))},t?o.default.createElement(d.default,{iconName:"logo-j-white",className:(0,s.default)(p.default.jivoIcon,p.default.icons),color:i}):null,a?g(i):null),_()),a?null:o.default.createElement("jdiv",{className:(0,s.default)(h(h({},l),{},{[p.default.iconWrap3]:!0}))},o.default.createElement(c.SvgIcon,{icon:u.default,color:i,className:(0,s.default)(p.default.callbackIcon,p.default.icons)})))},m=_.propTypes={showLogo:a.default.bool,isCallEnabled:a.default.bool,isOnline:a.default.bool,iconColor:a.default.string};t.componentProps=m;var v=o.default.memo(_);t.default=v},34137:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=i(n(98661)),c=n(36113),d=n(62096),f=i(n(75686)),p=n(47245),g=i(n(251)),h=i(n(93254)),_=i(n(17582)),m=i(n(40228)),v=i(n(4855)),y=n(38869),b=n(69882),E=i(n(5700)),C=n(71277),T=n(5526),D=n(20676),w=i(n(9004)),O=n(15245);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}v.default.name("RootComponent");let A=function(e){(0,a.default)(n,e);var t=S(n);function n(e){return(0,r.default)(this,n),t.call(this,e)}return(0,o.default)(n,[{key:"renderLabel",value:function(){return D.platform.isDesktop?u.default.createElement(_.default,null):null}},{key:"renderWidgetContainer",value:function(){return D.platform.isMobileOrTablet||(0,b.isChatPage)()?null:u.default.createElement(g.default,{ref:e=>{e&&f.default.set(p.Component.WIDGET_CONTAINER,e)}})}},{key:"renderSoundPlayer",value:function(){if(!C.isSoundDisabled&&C.WebAudioDisabled)return u.default.createElement(E.default,{sounds:C.Sounds})}},{key:"renderCallWidget",value:function(){return u.default.createElement(m.default,null)}},{key:"renderPowerButton",value:function(){return u.default.createElement(w.default,null)}},{key:"renderMouseTrack",value:function(){return D.platform.isMobileOrTablet?null:u.default.createElement("jdiv",{className:"jv-mouse-track",ref:e=>{e&&f.default.set(p.Component.MOUSE_TRACK,e)}})}},{key:"renderMobileContainer",value:function(){return D.platform.isMobileOrTablet||(0,b.isChatPage)()?u.default.createElement(h.default,null):null}},{key:"renderCampaignPopup",value:function(){return u.default.createElement(y.CampaignPopupContainer,null)}},{key:"render",value:function(){return u.default.createElement(c.Provider,{store:d.reduxStore},u.default.createElement(O.RootSwitch,null,u.default.createElement(T.RootContainer,null,this.renderCallWidget(),this.renderPowerButton(),this.renderMobileContainer(),this.renderLabel(),this.renderSoundPlayer(),this.renderWidgetContainer(),this.renderCampaignPopup(),u.default.createElement("jdiv",{className:"jv-pseudo-height"}),this.renderMouseTrack())))}}]),n}(u.default.Component);t.default=A},5700:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Sound=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=i(n(98661)),c=n(97615),d=i(n(75686)),f=i(n(4855)),p=n(67597),g=i(n(68988));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}f.default.name("SoundPlayer");const _=e=>{let t=e.src;const n=(c.EnvironmentManager.isDevelopment()?"/public":"")+`/sounds/${t}.`,i=(0,p.staticUrl)(n+"mp3",!0),r=(0,p.staticUrl)(n+"ogg",!0),o=(0,p.staticUrl)(n+"wav",!0);return u.default.createElement("audio",{preload:"auto",id:`jivo-sound-${t}`},u.default.createElement("source",{src:i,type:"audio/mpeg"}),u.default.createElement("source",{src:r,type:"audio/ogg; codecs=vorbis"}),u.default.createElement("source",{src:o,type:"audio/wav"}))};t.Sound=_;let m=function(e){(0,a.default)(n,e);var t=h(n);function n(e){return(0,r.default)(this,n),t.call(this,e)}return(0,o.default)(n,[{key:"render",value:function(){return u.default.createElement("jdiv",{id:"jivo-player",className:g.default.player},this.props.sounds.map(((e,t)=>u.default.createElement(_,{src:e,ref:t=>{d.default.set(`sound_${e}`.toUpperCase(),t)},key:t}))))}}]),n}(u.default.PureComponent);t.default=m},40704:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getIcons=function(){return re},t.getSvgBgIcon=function(e,t){if(!e)return null;let n=re[e];t&&(n=n.replace(/_COLOR1_/gi,t));return n?`"data:image/svg+xml,${encodeURIComponent(n)}"`:null};var r=i(n(61125)),o=i(n(67375)),a=i(n(98661)),s=i(n(60783)),l=i(n(45697)),u=i(n(12298)),c=i(n(38353)),d=i(n(28336)),f=i(n(81483)),p=i(n(15504)),g=i(n(22722)),h=i(n(30349)),_=i(n(54446)),m=i(n(34948)),v=i(n(18317)),y=i(n(22764)),b=i(n(99652)),E=i(n(34886)),C=i(n(18079)),T=i(n(85972)),D=i(n(2482)),w=i(n(2427)),O=i(n(87409)),S=i(n(92809)),A=i(n(99350)),I=i(n(69357)),k=i(n(43055)),M=i(n(39581)),P=i(n(28149)),R=i(n(54304)),x=i(n(28372)),N=i(n(31617)),L=i(n(75630)),F=i(n(36972)),j=i(n(39186)),B=i(n(1900)),W=i(n(80441)),U=i(n(88921)),H=i(n(42899)),z=i(n(28122)),G=i(n(62842)),V=i(n(93759)),$=i(n(66574)),q=i(n(799)),Z=i(n(54983)),K=i(n(86693)),Y=i(n(38867)),J=i(n(43832)),X=i(n(26552)),Q=i(n(71481)),ee=i(n(21525));function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ie={},re={"logo-j-white":u.default,"mobile-cloud":c.default,envelope:d.default,"envelope-offline":f.default,"icon-close":m.default,"logo-jivosite-white":p.default,"logo-jivochat-white":g.default,"logo-jivosite":h.default,"logo-jivochat":_.default,"phone-outgoing":v.default,phone:y.default,labelChat:b.default,"message-text":E.default,"send-button":C.default,"icon-emoji":T.default,"icon-attach":D.default,"icon-v-email":w.default,callMessageStartIcon:O.default,callEndIcon:S.default,refresh:A.default,"icon-photo":I.default,"icon-video":k.default,"icon-audio":M.default,"icon-document":P.default,"icon-error":x.default,"icon-cancel":R.default,"icon-ruble":N.default,"icon-anonymous":L.default,"icon-v":F.default,"icon-connect":j.default,"icon-connect2":B.default,"icon-close-chat":W.default,"icon-popup-close":U.default,"mobile-send-button":H.default,"icon-tube":z.default,leafBottom:G.default,leafBottomOffline:V.default,"icon-more":$.default,iconHamburger:q.default,iconMic:Z.default,iconWarning:K.default,iconValid:Y.default,check:J.default,checks:X.default,clock:Q.default,iconErrorLoad:ee.default};const oe=e=>{let t=e.title,n=e.iconName,i=e.className,r=e.color,l=e.color2,u=e.hoverColor,c=e.style,d=e["data-qa-id"];const f=a.default.useState(!1),p=(0,o.default)(f,2),g=p[0],h=p[1],_=s.default[n+"Icon"],m=i?i+(_?" "+_:""):void 0,v=e=>{u&&h(e)};return a.default.createElement("jdiv",{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),style:ne({backgroundImage:(()=>{const e=n+g?u:r;if(ie[e])return ie[e];let t=encodeURIComponent(re[n]);const i=g?u:r;r&&!g&&(t=t.replace(new RegExp("_COLOR1_","ig"),i.replace("#","%23"))),u&&g&&(t=t.replace(new RegExp("_COLOR1_","ig"),i.replace("#","%23"))),l&&(t=t.replace(new RegExp("_COLOR2_","ig"),l.replace("#","%23")));const o=`url("data:image/svg+xml,${t}")`;return ie[n+r+l]=o,o})()},c),className:m,"data-qa-id":d,title:t})};oe.propTypes={iconName:l.default.string.isRequired,className:l.default.string,color:l.default.string,color2:l.default.string,hoverColor:l.default.string,style:l.default.any,"data-qa-id":l.default.string,title:l.default.string};var ae=a.default.memo(oe);t.default=ae},66400:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Button=void 0;var r=i(n(23101)),o=i(n(88436)),a=i(n(98661)),s=i(n(94184)),l=i(n(43437)),u=i(n(73727));const c=["children","className","widthFluid","height","isNative","disabled","onClick","onDisabledClick"],d=e=>{let t=e.children,n=e.className,i=e.widthFluid,d=void 0!==i&&i,f=e.height,p=void 0===f?"md":f,g=e.isNative,h=void 0!==g&&g,_=e.disabled,m=void 0!==_&&_,v=e.onClick,y=e.onDisabledClick,b=(0,o.default)(e,c);const E=h?"button":"jdiv",C=m?y||null:v,T=(0,s.default)(n,{[l.default.button]:!h,[l.default.nativeButton]:h,[l.default.widthFixed]:!d,[l.default.widthFluid]:d,[l.default.heightSmall]:"sm"===p,[l.default.heightMiddle]:"md"===p,[l.default.disabled]:m,[l.default["__"+(u.default.bubble_color||"green")]]:!0});return a.default.createElement(E,(0,r.default)({},b,{onClick:C,className:T}),t)};t.Button=d;var f=d;t.default=f},7131:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeSelect=l;var r=i(n(98661)),o=i(n(45697)),a=i(n(40704)),s=i(n(56534));function l(e){let t=e.options,n=e.disabled,i=e.onChange;return r.default.createElement("jdiv",null,r.default.createElement("select",{className:s.default.nativeSelect,disabled:n,onChange:e=>{i(e.target.value)}},t.map(((e,t)=>{let n=e.label;return r.default.createElement("option",{key:n,value:t},n)}))),r.default.createElement(a.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:s.default.iconSelect}))}l.propTypes={options:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.number,o.default.string]),label:o.default.string}).isRequired),disabled:o.default.bool,onChange:o.default.func}},66683:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSelect=c;var r=i(n(98661)),o=i(n(45697)),a=i(n(40704)),s=i(n(56534)),l=i(n(88155));const u=(e,t)=>e.length>t?e:void 0;function c(e){let t=e.options,n=e.label,i=e.hasScroll,o=e.onSelect,c=e.onChange;const d=e=>{c(e.target.getAttribute("jv-sval"))},f=t.map(((e,t)=>{let n=e.label;return r.default.createElement("jdiv",{className:s.default.item,key:n,"jv-sval":t,title:u(n,35),onClick:d},n)}));return r.default.createElement("jdiv",null,r.default.createElement("jdiv",{className:s.default.label,title:u(n,24),onClick:o},n,r.default.createElement("jdiv",{className:s.default.labelArrow},r.default.createElement(a.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:s.default.iconSelect}))),r.default.createElement("jdiv",{className:s.default.items},i?r.default.createElement(l.default,{railClass:s.default.rail,position:"relative"},f):f))}c.propTypes={options:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.number,o.default.string]),label:o.default.string}).isRequired),label:o.default.string,hasScroll:o.default.bool,color:o.default.string,onSelect:o.default.func,onChange:o.default.func}},87316:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=i(n(94184)),s=i(n(45697)),l=n(55004),u=n(92560),c=n(7131),d=n(66683),f=n(9335),p=n(57985),g=i(n(56534));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e){let t=e.options,n=e.activeOptionIndex,i=void 0===n?0:n,s=e.isNative,h=e.disabled,_=e.invalid,m=e.classNameWrap,v=e.theme,y=void 0===v?"flat":v,b=e.height,E=void 0===b?"md":b,C=e.color,T=void 0===C?"green":C,D=e.onChange,w=e.isCallbackPopup;const O=(0,o.useRef)(null),S=(0,f.useToggle)(!1),A=(0,r.default)(S,2),I=A[0],k=A[1],M=(0,o.useState)(i),P=(0,r.default)(M,2),R=P[0],x=P[1];function N(e){x(e),k(),(0,l.isFunction)(D)&&D({option:t[e],activeOptionIndex:e})}if((0,p.useClickOutside)(O,(()=>{I&&k()})),(0,u.isEmpty)(t))return null;const L=t.length>3,F=(0,a.default)(m,g.default.selectWrap,{[g.default["__"+T]]:!0,[g.default.invalid]:_,[g.default.styledSelectWrap]:!s,[g.default.nativeSelectWrap]:s,[g.default.selectIsOpen]:I,[g.default.heightSmall]:"sm"===E,[g.default.heightMiddle]:"md"===E,[g.default.themeFlat]:"flat"===y,[g.default.themeInset]:"inset"===y,[g.default.disabled]:h,[g.default.isCallbackPopup]:w,[g.default.scroll]:L});return o.default.createElement("jdiv",{ref:O,className:F},s?o.default.createElement(c.NativeSelect,{disabled:h,options:t,onChange:N}):o.default.createElement(d.StyledSelect,{label:t[R].label,hasScroll:L,options:t,onSelect:h?void 0:k,onChange:N}))}_.defaultProps={activeOptionIndex:0,theme:"flat",height:"md",color:"green"},_.propTypes={options:s.default.arrayOf(s.default.shape({value:s.default.oneOfType([s.default.number,s.default.string]),label:s.default.string}).isRequired),activeOptionIndex:s.default.oneOfType([s.default.number,s.default.string]).isRequired,isNative:s.default.bool,disabled:s.default.bool,classNameWrap:s.default.string,theme:s.default.oneOf(["flat","inset"]),height:s.default.oneOf(["sm","md"]),invalid:s.default.bool,color:s.default.string,onChange:s.default.func,isCallbackPopup:s.default.bool}},3579:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=n(36113),s=i(n(94184)),l=i(n(45697)),u=n(2982),c=i(n(4855)),d=n(13551),f=n(80797),p=i(n(75598)),g=i(n(86735));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=c.default.name("NewTransition"),y=e=>{let t=e.name,n=e.scriptName,i=e.children,r=e.onClick,a=e.endCallbacks,l=void 0===a?{}:a,c=e.startCallbacks,h=void 0===c?{}:c,_=e.duration,y=void 0===_?"300ms":_,b=e.timingFunction,E=void 0===b?"cubic-bezier(0.39, 0.24, 0.21, 0.99)":b,C=e.delay,T=void 0===C?"0s":C,D=e.iterationCount,w=void 0===D?1:D,O=e.direction,S=void 0===O?"normal":O,A=e.fillMode,I=void 0===A?"both":A,k=e.playState,M=void 0===k?"running":k,P=e.customVars,R=e.style,x=e.animationPostfix,N=e.id;const L=(0,o.useRef)(null),F=(0,u.isFallbackNeeded)()?g.default.fallback:g.default[x],j=`${t}_${n}`,B=(0,d.useWidgetExtensionsContext)().isWidgetTarget,W=(0,f.useWidgetConstructorContext)().isWidgetConstructor;v.warn("render",j,x);const U=e=>e&&L.current&&e.target===L.current&&e.animationName===F[j]&&n;return(0,o.useEffect)((()=>{B&&L.current&&"jcont"===N&&L.current.style.setProperty("position","absolute","important")}),[]),o.default.createElement("jdiv",{ref:L,style:m(m({},(()=>{const e={animationDuration:W?null:y,animationTimingFunction:E,animationDelay:T,animationIterationCount:w,animationDirection:S,animationFillMode:I,animationPlayState:M,animationName:n?F[j]:null};return(e=>{if(P)for(const t in P)({}).hasOwnProperty.call(P,t)&&((0,u.isFallbackNeeded)()?e[t]=P[t]:e[(0,u.jivoCustomCSSProperty)(t)]=P[t])})(e),e})()),R),onAnimationEnd:e=>{U(e)&&l[n]&&l[n]()},onAnimationStart:e=>{U(e)&&h[n]&&h[n]()},onClick:r,id:N,translate:!1,className:(0,s.default)("notranslate",{[p.default.__widgetConstructor]:W&&B})},i)};y.propTypes={scriptName:l.default.string.isRequired,children:l.default.oneOfType([l.default.arrayOf(l.default.node),l.default.node]).isRequired,name:l.default.string.isRequired,onClick:l.default.func,endCallbacks:l.default.any,startCallbacks:l.default.any,duration:l.default.string,timingFunction:l.default.string,delay:l.default.string,iterationCount:l.default.number,direction:l.default.string,fillMode:l.default.string,playState:l.default.string,customVars:l.default.any,style:l.default.any,animationPostfix:l.default.string,id:l.default.string};var b=(0,a.connect)((e=>({scriptName:e.transition.currentScript})),{})(y);t.default=b},86735:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(7949)),o=i(n(37871)),a=i(n(86052)),s=i(n(8741)),l=i(n(10193)),u=i(n(5446)),c={bottom:r.default,bottom_0:o.default,left:a.default,right:s.default,custom:l.default,fallback:u.default};t.default=c},28302:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onDeclineButtonClick=t.onAcceptButtonClick=t.getMessageId=t.getActiveMessage=t.getAcceptLink=void 0;var r=n(21476),o=n(47060),a=n(26932),s=n(47138),l=i(n(35802)),u=n(62168),c=n(97615),d=n(50789),f=n(44145),p=n(81152),g=n(83170),h=i(n(4855)),_=n(54415);const m=h.default.name("WebrtcHelpers");t.onAcceptButtonClick=(e,t,n,i)=>{const c=l.default.getInstance().managers.permission;if(i)m.warn("onAcceptButtonClick",t.private_id),a.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);else if(n!==u.PermissionStatus.ALLOWED||c.allMics.length>1)r.Router.next(o.RouterEvent.ToCallSetup);else{a.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);const e=l.default.getInstance().managers.webRTCCall;e&&e.connectSdk()}_.Monitoring.telemetry(g.TelemetryName.WEBRTC_ACCEPT_CALL)};t.onDeclineButtonClick=(e,t,n)=>{const i=l.default.getInstance().managers.webRTCCall;m.log("onDeclineButtonClick",i),i&&(d.ApiProvider.declineWebRTCCall(i.callId,(e=>{m.warn("CALL DECLINE REQUEST SUCCESS",e)})),i.stopCall());const r=n?s.WebRTCCallStatus.ENDED:s.WebRTCCallStatus.DECLINED;a.messagesDispatchers.updateWebRTCCallStatus(t.private_id,r),a.callbackDispatchers.setActiveWebRTCCallMessageId(null),_.Monitoring.telemetry(g.TelemetryName.WEBRTC_DENY_CALL)};t.getMessageId=e=>e.get("private_id");t.getAcceptLink=e=>{if(!e)return null;const t=l.default.getInstance().managers.webRTCCall;if(!t)return null;const n=t.callId,i=t.voxUserLogin,r=t.voxUserPassword,o=t.voxNode,a=l.default.getInstance().config,s=c.EnvironmentManager.isDevelopment()?"//localhost:8080":a.base_url,u=(0,f.getClient)(),d=a.tel_host;let p=`cid=${n}&vl=${i}&vp=${r}&vn=${o}&si=${a.site_id}&wi=${a.widget_id}&ci=${u.clientId}&th=${d}&bu=${a.base_url}&shard=${a.shard_id}&lang=${a.locale}&hash=b6062c4`;a.enable_webrtc_start_call&&(p+=`&sc=${a.enable_webrtc_start_call}`),a.err_host&&(p+=`&errorHost=${a.err_host}`),a.telemetry_host&&(p+=`&telemetryHost=${a.telemetry_host}`);return`https:${s}/webrtc/?${window.btoa(p)}`};t.getActiveMessage=e=>{const t=(0,f.getMessages)().filter((t=>t.type===p.MessageType.WEB_RTC_CALL&&t.body&&t.body.webRTCCallStatus===e));return t.length?t[0]:null}},50304:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.CheapTransition=void 0;var r=i(n(61125)),o=i(n(33119)),a=i(n(92664)),s=i(n(7819)),l=i(n(84827)),u=i(n(85299)),c=i(n(55536)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),f=i(n(19955));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.default)(this,n)}}const m=i(n(4855)).default.name("CheapTransitionComponent"),v="UNMOUNTED",y="BEFORE_ENTER",b="ENTER",E="BEFORE_EXIT",C="EXIT";let T=function(e){(0,l.default)(n,e);var t=_(n);function n(e){var i;return(0,o.default)(this,n),(i=t.call(this,e)).state={status:v,show:e.show},i.getStyles=i.getStyles.bind((0,s.default)(i)),i.changeStatus=i.changeStatus.bind((0,s.default)(i)),i.handleDebugProp=i.handleDebugProp.bind((0,s.default)(i)),i.getFinalStyle=i.getFinalStyle.bind((0,s.default)(i)),i}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:y,show:this.props.show})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==v||this.state.status!==v}},{key:"changeStatus",value:function(e,t,n){n?setTimeout((()=>{this.state.status===e&&this.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case y:this.changeStatus(y,b);break;case E:this.changeStatus(E,C);break;case C:this.props.transition||this.changeStatus(C,v,this.props.waitBeforeUnmount)}}},{key:"onTransitionEnd",value:function(e){this.state.status===C&&e&&e.propertyName&&("PopupSlideUpEULA"===this.props.transition&&"transform"===e.propertyName&&this.changeStatus(C,v,this.props.waitBeforeUnmount),"Fade"===this.props.transition&&"opacity"===e.propertyName&&this.changeStatus(C,v,this.props.waitBeforeUnmount))}},{key:"getStyles",value:function(){let e=this.state.status,t=this.props,n=t.transitionStyles,i=t.shouldAnimate;if("object"==typeof n.main){switch(e){case v:break;case y:if(i.mount)return h(h({},n.main),n.enterActive);break;case b:if(i.mount)return h(h(h({},n.main),n.enterActive),n.enterDone);break;case E:if(i.unmount)return h(h({},n.mainExit),n.exitActive);break;case C:if(i.unmount)return h(h(h({},n.mainExit),n.exitActive),n.exitDone)}return null}}},{key:"getFinalStyle",value:function(){let e=this.state.status===v?"none":"block",t=!f.default.mobileOrTablet()&&!this.props.fixed,n=h(h({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===b&&(n=h(h({},n),{},{height:"auto"})),n}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):m.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){let e="function"==typeof this.props.children,t=this.getFinalStyle();return this.handleDebugProp(t),d.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:t,onTransitionEnd:this.onTransitionEnd.bind(this)},e?this.props.children():this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?{status:E,show:e.show}:!0===e.show&&!1===t.show?{status:y,show:e.show}:null}}]),n}(d.Component);t.CheapTransition=T},63237:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MobileTransition=void 0;var r=i(n(61125)),o=i(n(33119)),a=i(n(92664)),s=i(n(7819)),l=i(n(84827)),u=i(n(85299)),c=i(n(55536)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.default)(this,n)}}const _=i(n(4855)).default.name("MobileTransition");let m=function(e){(0,l.default)(n,e);var t=h(n);function n(e){var i;return(0,o.default)(this,n),(i=t.call(this,e)).handleDebugProp=i.handleDebugProp.bind((0,s.default)(i)),i}return(0,a.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(!e.show&&!this.props.show)}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):_.log(this.props.name,e))}},{key:"render",value:function(){let e=this.props.show?"block":"none",t="function"==typeof this.props.children,n=g(g({},this.props.style),{},{display:e});return this.handleDebugProp(n),d.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n},t?this.props.children():this.props.children)}}]),n}(d.Component);t.MobileTransition=m},78461:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=void 0;var r=i(n(61125)),o=i(n(33119)),a=i(n(92664)),s=i(n(7819)),l=i(n(84827)),u=i(n(85299)),c=i(n(55536)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),f=i(n(19955));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.default)(this,n)}}const m=i(n(4855)).default.name("TransitionComponent"),v="UNMOUNTED",y="ENTER",b="ENTERING",E="ENTERED",C="EXIT",T="EXITING",D="EXITED";let w=function(e){(0,l.default)(n,e);var t=_(n);function n(e){var i;return(0,o.default)(this,n),(i=t.call(this,e)).state={status:v,show:e.show},i.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},i.getStyles=i.getStyles.bind((0,s.default)(i)),i.statusCallback=i.statusCallback.bind((0,s.default)(i)),i.changeStatus=i.changeStatus.bind((0,s.default)(i)),i.handleDebugProp=i.handleDebugProp.bind((0,s.default)(i)),i.getParentState=i.getParentState.bind((0,s.default)(i)),i.getFinalStyle=i.getFinalStyle.bind((0,s.default)(i)),i}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:this.props.shouldAnimate.mount?y:E})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==v||this.state.status!==v}},{key:"statusCallback",value:function(e){this.statusCallbacks[e]||(this.props[e]&&this.props[e](),this.statusCallbacks[e]=!0)}},{key:"changeStatus",value:function(e,t,n){n?setTimeout((()=>{this.state.status===e&&this.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case y:this.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},this.changeStatus(y,b);break;case b:this.statusCallback("onEnter"),this.changeStatus(b,E,this.props.duration);break;case E:this.statusCallbacks.onExit=!1,this.statusCallbacks.onExited=!1,this.statusCallback("onEntered");break;case C:this.changeStatus(C,T);break;case T:this.statusCallback("onExit"),this.changeStatus(T,D,this.props.duration);break;case D:this.statusCallbacks.onEnter=!1,this.statusCallbacks.onEntered=!1,this.changeStatus(D,v,this.props.waitBeforeUnmount),this.statusCallback("onExited")}}},{key:"getStyles",value:function(){let e=this.state.status,t=this.props,n=t.transitionStyles,i=t.shouldAnimate;if("object"==typeof n.main){switch(e){case v:return h({},n.main);case y:if(i.mount)return h(h({},n.main),n.enterActive);break;case b:case E:if(i.mount)return h(h(h({},n.main),n.enterActive),n.enterDone);break;case C:if(i.unmount)return h(h({},n.mainExit),n.exitActive);break;case T:case D:if(i.unmount)return h(h(h({},n.mainExit),n.exitActive),n.exitDone)}return null}}},{key:"getFinalStyle",value:function(){let e=this.state.status===v?"none":"block",t=!f.default.mobileOrTablet()&&!this.props.fixed,n=h(h({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===E&&(n=h(h({},n),{},{height:"auto"})),n}},{key:"getParentState",value:function(){let e={status:this.state.status,name:this.props.name,show:this.state.show};return this.props.parentState?(e.parentState=this.props.parentState,e.level=this.props.parentState.level+1):e.level=0,e}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):m.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){let e="function"==typeof this.props.children,t=this.getFinalStyle();return this.handleDebugProp(t),d.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:t,onTransitionEnd:e=>{this.props.animationEnd&&this.props.animationEnd(e)}},e?this.props.children(this.getParentState()):this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?this.handleUnmount(e,t):!0===e.show&&!1===t.show?this.handleMount(e,t):null}},{key:"handleUnmount",value:function(e,t){return e.parentState?e.parentState.status===v?{status:v,show:e.show}:!0===e.parentState.show?e.parentState.parentState&&e.parentState.parentState.status!==E?{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?C:D,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?C:D,show:e.show}}},{key:"handleMount",value:function(e,t){if(e.parentState){if(e.shouldWait>=0){return this.findLevelStatus(e.shouldWait,e.parentState)===E?{status:e.shouldAnimate.mount?y:E,show:e.show}:{status:t.status,show:t.show}}return{status:e.shouldAnimate.mount?y:E,show:e.show}}return{status:e.shouldAnimate.mount?y:E,show:e.show}}},{key:"findLevelStatus",value:function(e,t){return t.level===e?t.status:t.level>e?this.findLevelStatus(e,t.parentState):void 0}}]),n}(d.Component);t.Transition=w},38121:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=i(n(73727)),a=i(n(19955));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u="cubic-bezier(0.39, 0.24, 0.21, 0.99)";var c={NoTransition:function(){return{main:{},enterActive:{},enterDone:{},mainExit:{},exitActive:{},exitDone:{}}},Container:function(e){let t=e.marginRight,n=e.width;const i=+o.default.widget_padding,r=()=>0===i?"":50===i?`${i}%`:"30px",s=`width 300ms ${u}, margin-right 300ms ${u}, right 300ms ${u}, transform 300ms ${u}, opacity 300ms ${u}, height 300ms ${u}, left 300ms ${u}`,c=a.default.ieOrEdge()||a.default.safari()?"translateY(92%)":"translateY(calc(100% - 40px))";return{main:{width:`${n}px`,marginRight:t||(50===i?-150:0),right:r(),left:0===i?"30px":"",transition:s,willChange:"width, margin-right, right, transform, opacity, left, height",transform:c},enterActive:l({width:`${n}px`,marginRight:t,right:r(),transform:c},(a.default.ieOrEdge()||a.default.safari())&&{height:"40px"}),enterDone:{width:"",marginRight:"",right:"",transform:"translateY(0%)"},mainExit:{transition:s,willChange:"width, margin-right, right, transform, opacity, left, height"},exitActive:{transform:"translateY(0%)"},exitDone:{width:`${n}px`,marginRight:t,right:r(),left:0===i?"30px":"",transform:c}}},ContainerRight:function(e){let t=e.marginBottom,n=e.height;e.width;const i=`height 300ms ${u}, margin-bottom 300ms ${u}, right 300ms ${u}, transform 300ms ${u}, opacity 300ms ${u}, bottom 300ms ${u}`,r="translateX(100%) translateY(0)",a=+o.default.widget_padding,s=100!==a?`${a}%`:"0px";return{main:{height:`${n}px`,marginBottom:t||(100!==a?-248:null),transition:i,transform:r,bottom:s,right:"40px",willChange:"height, margin-bottom, right, transform, opacity, bottom",opacity:0},enterActive:{height:`${n}px`,marginBottom:t,bottom:s,transform:r,right:"40px",opacity:0},enterDone:{height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},mainExit:{transition:i,willChange:"height, margin-bottom, right, transform, opacity, bottom"},exitActive:{height:`${n}px`,marginBottom:t,bottom:s,transform:r,opacity:1},exitDone:{height:`${n}px`,marginBottom:t,bottom:s,transform:r,right:"40px",opacity:0}}},ContainerLeft:function(e){let t=e.marginBottom,n=e.height;e.width;const i=`height 300ms ${u}, margin-bottom 300ms ${u}, left 300ms ${u}, transform 300ms ${u}, opacity 300ms ${u}, bottom 300ms ${u}`,r=a.default.ieOrEdge()?"translateX(-100%) translateY(0)":"translateX(calc(-100% - 10px)) translateY(0)",s=+o.default.widget_padding,l=100!==s?`${s}%`:"";return{main:{height:`${n}px`,marginBottom:t||(100!==s?-248:null),transition:i,bottom:l,left:"40px",willChange:"height, margin-bottom, left, transform, opacity, bottom",transform:r,opacity:0},enterActive:{height:`${n}px`,marginBottom:t,bottom:l,transform:r,left:"40px",opacity:0},enterDone:{height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},mainExit:{transition:i,willChange:"height, margin-bottom, left, transform, opacity, bottom"},exitActive:{height:`${n}px`,marginBottom:t,bottom:l,transform:r,opacity:1},exitDone:{height:`${n}px`,marginBottom:t,bottom:l,transform:r,left:"40px",opacity:0}}},Fade:function(){return{main:{transition:`opacity 200ms ${u}`,opacity:0},enterActive:{transition:`opacity 200ms ${u}`,opacity:0},enterDone:{opacity:1},mainExit:{transition:`opacity 200ms ${u}`,opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},FadeWithDelay:function(){return{main:{transition:`opacity 200ms ${u} 400ms`,opacity:0},enterActive:{transition:`opacity 200ms ${u} 400ms`,opacity:0},enterDone:{opacity:1},mainExit:{transition:`opacity 200ms ${u} 400ms`,opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},LabelFade:function(){const e=a.default.ie()?0:250,t=a.default.ie()?1500:250;return{main:{transition:`opacity ${t}ms ease ${e}ms`,opacity:0},enterActive:{transition:`opacity ${t}ms ease ${e}ms`,opacity:0},enterDone:{opacity:1},mainExit:{transition:"opacity 50ms ease",opacity:1},exitActive:{transition:"opacity 50ms ease",opacity:0},exitDone:{opacity:0}}},PopupSlideUpEULA:function(){return{main:{width:"100%",transition:`transform 300ms ${u}`,opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},enterActive:{transform:"translateY(100%)"},enterDone:{transform:"translateY(0)"},mainExit:{width:"100%",transition:`transform 300ms ${u}`,transform:"translateY(0)",opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},exitActive:{transform:"translateY(0)"},exitDone:{transform:"translateY(100%)"}}}};t.default=c},73549:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(7819)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),d=i(n(45697)),f=n(50304),p=n(63237),g=n(21476),h=n(78461),_=i(n(19955)),m=i(n(40202)),v=n(44145);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}let E=function(e){(0,s.default)(n,e);var t=b(n);function n(e){var i;return(0,r.default)(this,n),(i=t.call(this,e)).state={show:i.getShow((0,v.getApp)().route||g.Router.getCurrentRoute())},i.getTransitionStylesProp=i.getTransitionStylesProp.bind((0,a.default)(i)),i.getShouldAnimateProp=i.getShouldAnimateProp.bind((0,a.default)(i)),i.getTransitionComponent=i.getTransitionComponent.bind((0,a.default)(i)),i.getShow=i.getShow.bind((0,a.default)(i)),i.onRouteChange=i.onRouteChange.bind((0,a.default)(i)),i}return(0,o.default)(n,[{key:"onRouteChange",value:function(e){const t=this.getShow(e);this.state.show!==t&&this.setState({show:t})}},{key:"componentDidMount",value:function(){g.Router.on("route_change",this.onRouteChange)}},{key:"componentWillUnmount",value:function(){g.Router.off("route_change",this.onRouteChange)}},{key:"getShow",value:function(e){return this.props.paths.includes(e)}},{key:"getTransitionStylesProp",value:function(){return this.props.transition?m.default.getTransitionByName(this.props.transition):m.default.getEmptyTransition()}},{key:"getShouldAnimateProp",value:function(){return _.default.mobileOrTablet()?{mount:null,unmount:null}:{mount:this.props.withMountTransition,unmount:this.props.withUnmountTransition}}},{key:"getTransitionComponent",value:function(){return _.default.mobileOrTablet()?p.MobileTransition:!_.default.ieOrEdge()&&this.props.cheap?f.CheapTransition:h.Transition}},{key:"render",value:function(){const e=this.getTransitionComponent(),t=(0,v.getApp)().route;return c.default.createElement(e,{id:this.props.id,show:this.getShow(t),shouldAnimate:this.getShouldAnimateProp(),duration:this.props.duration||200,className:this.props.className,style:this.props.style,transitionStyles:this.getTransitionStylesProp(),transition:this.props.transition,fixed:this.props.fixed,onEnter:this.props.onEnter,onExit:this.props.onExit,onEntered:this.props.onEntered,onExited:this.props.onExited,parentState:this.props.parentState,name:this.props.name,shouldWait:this.props.shouldWait,isStatic:this.props.isStatic,waitBeforeUnmount:this.props.waitBeforeUnmount,debugCallback:this.props.debugCallback,animationEnd:this.props.animationEnd},this.props.children)}}]),n}(c.Component);t.Path=E,E.propTypes={paths:d.default.arrayOf(d.default.string).isRequired,withMountTransition:d.default.bool,withUnmountTransition:d.default.bool,transition:d.default.string,fixed:d.default.bool,isStatic:d.default.bool,waitBeforeUnmount:d.default.number,name:d.default.string,duration:d.default.number,onEnter:d.default.func,onEntered:d.default.func,onExit:d.default.func,onExited:d.default.func,animationEnd:d.default.func,children:d.default.oneOfType([d.default.arrayOf(d.default.node),d.default.node,d.default.func]).isRequired,debugCallback:d.default.oneOfType([d.default.bool,d.default.func]),shouldWait:d.default.number,parentState:d.default.object,style:d.default.object,cheap:d.default.bool,className:d.default.string,id:d.default.oneOfType([d.default.string,d.default.number])}},251:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=n(36113),s=i(n(45697)),l=i(n(3579)),u=n(20361),c=n(47060),d=n(47245),f=i(n(2167)),p=i(n(19955)),g=n(21476),h=n(80161),_=i(n(75686)),m=i(n(91275)),v=n(47138),y=n(54415),b=n(83170),E=n(97615),C=i(n(4855)),T=n(34930),D=n(43914),w=n(69882),O=n(26932),S=n(81722),A=n(44145),I=n(92400),k=n(75998),M=n(80797),P=n(22932),R=n(16217),x=n(33813);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}C.default.name("WidgetContainer2");const L=e=>{let t=e.callbackEnabled,n=e.route,i=e.position,s=e.padding,C=e.orientation,N=e.callbackStatus,L=e.isInDrag;const F=(0,M.useWidgetConstructorContext)().isPreview,j=(0,o.useState)(!1),B=(0,r.default)(j,2),W=B[0],U=B[1],H=(0,o.useState)(!0),z=(0,r.default)(H,2),G=z[0],V=z[1],$=(0,o.useState)(!0),q=(0,r.default)($,2),Z=q[0],K=q[1],Y=_.default.get(d.Component.LABEL),J=-1!==[c.Route.CALL,c.Route.CALL_EULA,c.Route.INTRODUCE].indexOf(n),X=n===c.Route.CALL_POPUP,Q=n!==c.Route.CALL||-1===[v.CallStatus.WAIT,v.CallStatus.CONNECTING,v.CallStatus.CONNECTED].indexOf(N),ee=!p.default.mobileOrTablet()&&!(0,w.isWixIframe)()&&n!==c.Route.CHAT_MIN,te=W&&ee,ne=(0,a.useSelector)(I.selectTransitionCurrentScript),ie=(0,a.useSelector)(A.getProactive),re=ie.campaignId,oe=ie.name;if(n===c.Route.HIDDEN)return null;if(re&&oe&&ne===u.ScriptName.OPEN_WIDGET){const e=(0,S.getMaxWidgetHeightForProactive)();e&&k.positionDispatch.setWidgetHeight(e)}const ae=(0,x.getCustomVars)(C,s,i,Y,J),se=e=>{(0,D._callUserFunction)("onResizeCallback",(0,x.getSize)(e,C,i.height?i.height:ae.height,g.Router.getCurrentRoute()))};return o.default.createElement(l.default,{id:"jcont",name:d.Component.WIDGET_CONTAINER,startCallbacks:{[u.ScriptName.OPEN_WIDGET]:()=>{L||(U(!1),V(!0),K(!1),m.default.initSocial(),m.default.addMessagesOnOpen(),(0,D._callUserFunction)("onOpen"),se(!0))},[u.ScriptName.CLOSE_WIDGET]:()=>{U(!1),V(!1),K(!1),se(!1)},[u.ScriptName.MINIMIZE_WIDGET]:()=>{U(!1),V(!0),K(!0),g.Router.next(c.RouterEvent.CloseWindow),se(!1)}},endCallbacks:{[u.ScriptName.OPEN_WIDGET]:()=>{L||(U(!0),K(!0),(0,x.fixSafariKeyframes)())},[u.ScriptName.CLOSE_WIDGET]:()=>{X||g.Router.next(c.RouterEvent.CloseWindow)},[u.ScriptName.MAXIMIZE_WIDGET]:()=>{L||(U(!0),V(!0),K(!0),(0,D._callUserFunction)("onOpen"),se(!0))},[u.ScriptName.MIN_WIDGET]:()=>{}},customVars:ae,style:(()=>{const e={display:"block",position:"fixed"};return p.default.safari()&&E.EnvironmentManager.isRegPage()&&(e.width="336px",e.height="496px",e.animation="none"),e})(),animationPostfix:(0,x.getAnimationPostfix)(C,s)},o.default.createElement(f.default,{needRenderCloseBtn:Q,needRenderCallContainer:(0,R.isCallbackEnabled)(),needRenderDrag:te,showCloseButton:W,showHeaderText:G,showBody:Z,callbackEnabled:t,route:n,onCloseButtonClick:()=>{if(F){(0,P.getPageWindow)()._widgetCampaignConstructorAPI.reset()}else(0,T.closeWidget)(),h.RouterUtils.isChatMinAvailable()?O.transitionDispatchers.startTransition(u.ScriptName.MINIMIZE_WIDGET):N===v.CallStatus.CONNECTED?g.Router.next(c.RouterEvent.CloseWindow):O.transitionDispatchers.startTransition(u.ScriptName.CLOSE_WIDGET),y.Monitoring.telemetry(b.TelemetryName.WIDGET_CLOSE_CLICK)},isStatic:J}))};L.propTypes={callbackEnabled:s.default.bool,route:s.default.string,position:s.default.any,padding:s.default.number,orientation:s.default.string,callbackStatus:s.default.oneOfType([s.default.string,s.default.bool]),isInDrag:s.default.bool};var F=(0,a.connect)((e=>({padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,isInDrag:e.app.isInDrag})),{})(o.default.memo(L));t.default=F},33813:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getSize=t.getCustomVars=t.getContainerStyle=t.getChatPosition=t.getAnimationPostfix=t.fixSafariKeyframes=t.callResize=t.addMessagesOnOpen=t.addCustomVarsToStyle=void 0;var r=i(n(61125)),o=n(69882),a=n(52028),s=n(2982),l=i(n(75686)),u=n(47245),c=n(52274),d=n(47060),f=i(n(19955)),p=n(62096),g=n(44145),h=n(65465),_=n(97615),m=n(43914);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const y=(e,t,n,i,r)=>{let o={};const a=i&&i.offsetWidth,s=i&&i.offsetHeight;return"bottom"===e&&(o=b(t,a,s)),"left"===e&&(o=E(t,a,s)),"right"===e&&(o=C(t,a,s)),o=T(o,n),!n.height>>0&&(o.height="496px"),r&&(o.height="auto"),o};t.getChatPosition=y;const b=e=>{const t={};return 100===e||50===e?(t.right="30px",50===e&&(t.translate50="50%")):t.left="40px",t},E=(e,t)=>{const n={left:"40px",bottom:`calc(50% - ${t/2}px)`};return 100===e&&(n.bottom="20px"),n},C=(e,t)=>({right:"39px",bottom:t?50===e?`calc(50% - ${t/2}px)`:0:"50%"}),T=(e,t)=>{const n=e;return t.right&&(n.right=t.right),t.height&&(n.height=t.height),t.left&&(n.left=t.left),n};t.getAnimationPostfix=(e,t)=>{const n=p.reduxStore.getState().settings.user.labelBubble;return(0,o.isCustomLabel)()||a.isDesignerEditor||_.EnvironmentManager.isExtensionsEnable()||f.default.desktop()&&n?"custom":"bottom"===e&&0===t?`${e}_0`:e};t.getCustomVars=(e,t,n,i,o)=>{const a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({labelwidth:i&&i.offsetWidth?`${i.offsetWidth}px`:null,labelright:i&&i.style&&i.style.right?i.style.right:null,labelleft:i&&i.style&&i.style.left?i.style.left:null},y(e,t,n,i,o));if(i&&!i.style){const e=(0,s.getSavedLabelPosition)();a.labelleft=e.left,a.labelright=e.right,a.labelwidth=e.offsetWidth}return a};const D=(e,t,n,i)=>{if(i==d.Route.CHAT_MIN)return{width:c.CHAT_WIDTH+"px",height:c.HEADER_HEIGHT+"px"};if(i==d.Route.CALL)return{width:c.CHAT_WIDTH+"px",height:c.DEFAULT_WIDGET_HEIGHT+"px"};const r=(0,s.getSavedLabelPosition)().offsetWidth,o=e?c.CHAT_WIDTH+"px":r;return"bottom"===t||e?{width:o,height:e?n:c.LABEL_HEIGHT+"px"}:{width:c.LABEL_HEIGHT+"px",height:r}};t.getSize=D;t.fixSafariKeyframes=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(f.default.safari()&&!f.default.mobileOrTablet()){const t=l.default.get(u.Component.WIDGET_CONTAINER);(0,s.updateKeyframes)(t,e)}};t.addMessagesOnOpen=()=>{h.messageActions.addMessagesOnOpen((0,g.getApp)().isOnline)};t.getContainerStyle=()=>{const e={display:"block",position:"fixed"};return f.default.safari()&&_.EnvironmentManager.isRegPage()&&(e.width="336px",e.height="496px",e.animation="none"),e};t.callResize=e=>{const t=(0,g.getPosition)(),n=(0,g.getUserSettings)().widgetOrientation,i=(0,g.getApp)().route;(0,m._callUserFunction)("onResizeCallback",D(e,n,t.height,i))};t.addCustomVarsToStyle=(e,t)=>{if(t)for(const n in t)({}).hasOwnProperty.call(t,n)&&((0,s.isFallbackNeeded)()?e[n]=t[n]:e[(0,s.jivoCustomCSSProperty)(n)]=t[n]);return e}},2167:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661)),a=i(n(45697)),s=i(n(21135)),l=i(n(47548)),u=i(n(94184)),c=n(20344),d=i(n(19955)),f=n(47060),p=n(91763),g=n(22932),h=n(80797),_=n(13551),m=i(n(72066)),v=n(61744),y=n(90883),b=n(25466);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const C=o.default.lazy((()=>n.e(402).then(n.bind(n,79681)))),T=(0,p.lazyLoaderFactory)((()=>n.e(535).then(n.bind(n,79601))),y.LoaderWrap,v.ErrorPage),D=[f.Route.CHAT,f.Route.CHAT_CALL,f.Route.CHAT_EULA,f.Route.CHAT_SOCIAL,f.Route.CHAT_MIN,f.Route.CHAT_SETUP_CALL,f.Route.DEPARTMENTS,f.Route.INTRODUCE,f.Route.DEBUG],w=[f.Route.CALL,f.Route.CALL_EULA],O=e=>{let t=e.needRenderCloseBtn,n=e.needRenderCallContainer,i=e.needRenderDrag,a=e.showCloseButton,p=e.showHeaderText,v=e.showBody,y=e.callbackEnabled,E=e.route,O=e.onCloseButtonClick,S=e.isStatic;const A=(0,h.useWidgetConstructorContext)(),I=A.isWidgetConstructor,k=A.isPreview,M=(0,_.useWidgetExtensionsContext)().isWidgetTarget,P=(0,o.useState)(0),R=(0,r.default)(P,2),x=R[0],N=R[1],L=(0,o.useMemo)((()=>({loadedSize:x,setLoadedSize:N})),[x,N]);return o.default.createElement(o.default.Fragment,null,I&&M||!t?null:o.default.createElement(l.default,{drag:i,callEnabled:y,inCall:E===f.Route.CALL,show:k||a,onClick:O,ignoreDragHeight:S}),o.default.createElement(s.default,{allowedRoutes:D,currentRoute:E,name:"ChatContainer"},o.default.createElement(b.CurrentUploadProgress.Provider,{value:L},o.default.createElement(T,{showHeaderText:p,showBody:v,canRenderCall:n}))),(()=>{if(!n)return null;const e=(0,u.default)({[m.default.loadingWrap]:!0,[m.default.__mobile]:d.default.mobile()||(0,g.isChatPage)()});return o.default.createElement(s.default,{allowedRoutes:w,currentRoute:E,name:"CallContainer"},o.default.createElement(o.default.Suspense,{fallback:o.default.createElement("jdiv",{className:e},(0,c.l10n)("cb_loading"))},o.default.createElement(C,{route:E,showBody:v})))})())};O.propTypes={needRenderCloseBtn:a.default.bool.isRequired,needRenderCallContainer:a.default.bool.isRequired,needRenderDrag:a.default.bool.isRequired,showCloseButton:a.default.bool.isRequired,showHeaderText:a.default.bool.isRequired,showBody:a.default.bool.isRequired,route:a.default.string.isRequired,onCloseButtonClick:a.default.func.isRequired,callbackEnabled:a.default.bool,isStatic:a.default.bool};var S=o.default.memo(O);t.default=S},19270:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.DataProvider=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(4855)),s=n(50789),l=n(56348),u=i(n(4867)),c=n(87252);const d=a.default.name("ApiInvitations.DataProvider");let f=function(){function e(t,n){(0,r.default)(this,e),this.userToken=t,this.manager=n,this.timer=new c.Timer(this.update.bind(this)),this.store=new l.InvitationsStore({type:"default",name:"api_invites",itemClass:u.default,keys:{id:null,text:null,ruleName:null,read:null,isPopup:null,isMarkdown:null,prechat:null}}),this.update()}return(0,o.default)(e,[{key:"update",value:function(){d.log("Update invitations"),this.getInvitationsFromApi();const e=Math.floor(120*Math.random()+90);this.timer.start(60*e*1e3)}},{key:"getInvitationsFromApi",value:function(){d.log("Getting invitations from Api"),s.ApiProvider.getCustomerIoInvites(this.userToken,((e,t)=>{e?d.error("Bad request",e.status,e.statusText):t.data?t.data&&t.data.ok&&(this.store.save(t.data.invitations),d.log("Invitations are up to date"),this.manager.addInvitationsToChat()):d.warn("No response data")}))}},{key:"hasInvitations",value:function(){return this.store.length()||!1}},{key:"getInvitations",value:function(){return this.store.getAll()}},{key:"markInvitationsRead",value:function(){this.store.markInvitationsRead()}}]),e}();t.DataProvider=f},56348:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationsStore=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=i(n(34973)),c=n(54415),d=n(83170),f=n(44145);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}const g=i(n(4855)).default.name("ApiInvitations.InvitationsStore");let h=function(e){(0,a.default)(n,e);var t=p(n);function n(e){return(0,r.default)(this,n),t.call(this,e)}return(0,o.default)(n,[{key:"save",value:function(e){g.log("Storing invitations",e),this.store.length?this.merge(e):e.forEach((e=>{this.add(e)}))}},{key:"merge",value:function(e){g.log("Merging invitations",e),this.deleteUnreads(),e.forEach((e=>{this.findById(e.invitation_id)||this.add(e)}))}},{key:"deleteUnreads",value:function(){g.log("Deleting unread invitations");this.store.filter((e=>!e.get("read"))).forEach((e=>{e.destroy()}))}},{key:"add",value:function(e){g.log("Adding invitation",e);const t=e.text,n=e.rule_name,i=e.invitation_id,r=e.is_popup,o=e.prechat,a=(0,f.getClient)();this.push({text:t,ruleName:n,id:i,read:!1,isPopup:r||null,prechat:o||null}),c.Monitoring.telemetry(d.TelemetryName.RECEIVE_API_INVITATION,{param1:n,param2:i,param3:a.email})}},{key:"findById",value:function(e){return this.store.find((t=>t.get("id")===e))}},{key:"length",value:function(){return this.store.length}},{key:"markInvitationsRead",value:function(){this.store.filter((e=>!e.get("read"))).forEach((e=>{e.set("read",!0)}))}}]),n}(u.default);t.InvitationsStore=h},78692:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiInvitationsManager=void 0;var r=i(n(61125)),o=i(n(33119)),a=i(n(92664)),s=n(73727),l=n(40694),u=i(n(71277)),c=i(n(14264)),d=i(n(2833)),f=i(n(26754)),p=n(81152),g=n(54415),h=n(83170),_=n(26932),m=n(65465),v=n(21476),y=n(47060),b=n(20361),E=n(44145),C=n(44145),T=n(43914),D=i(n(4855)),w=n(91225),O=n(19270);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=D.default.name("ApiInvitationsManager");const k=new(function(){function e(){(0,o.default)(this,e),this.userToken=null,this.initialized=!1,this.dataProvider=null,this.needToSendTelemetry={[h.TelemetryName.ANSWER_API_INVITATION]:!0,[h.TelemetryName.READ_API_INVITATION]:!0,[h.TelemetryName.CLICK_LINK_API_INVITAION]:!0},this.invitationsCount=0,this.needToOpenChat=!0,this.needToShowPopup=!1,this.needToShowPrechat=!1}return(0,a.default)(e,[{key:"initialize",value:function(e){this.initialized||(this.dataProvider=new O.DataProvider(e,this),this.userToken=e,this.initialized=!0,v.Router.on("route_change",(e=>{(0,w.isChatInputRoute)(e)&&this.markInvitationsRead()})))}},{key:"isInitialized",value:function(){return this.initialized}},{key:"hasInvitations",value:function(){return this.initialized&&this.dataProvider&&this.dataProvider.hasInvitations()}},{key:"saveUnreadInvitations",value:function(){if(!this.initialized)return;c.default.getUnreadApiInvitations().forEach((e=>{delete e.get("body").unsave;const t=Object.assign({},e.toJSON());t.status=p.MessageStatus.READ,_.messagesDispatchers.addMessage(t),e.destroy()})),this.dataProvider.markInvitationsRead()}},{key:"sendUrlClickTelemetry",value:function(){this.initialized&&this._sendInvitationsTelemetry(h.TelemetryName.CLICK_LINK_API_INVITAION)}},{key:"markInvitationsAnswered",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(h.TelemetryName.ANSWER_API_INVITATION))}},{key:"markInvitationsRead",value:function(){if(!this.initialized)return;this.dataProvider.markInvitationsRead();c.default.getUnreadApiInvitations().forEach((e=>e.set("status",p.MessageStatus.READ))),this._sendInvitationsTelemetry(h.TelemetryName.READ_API_INVITATION)}},{key:"_sendInvitationsTelemetry",value:function(e){if(!this.initialized)return;const t=this.getCurrentInvitations(),n=(0,C.getClient)();t&&this.needToSendTelemetry[e]&&(t.forEach((t=>{g.Monitoring.telemetry(e,{param1:t.get("ruleName"),param2:t.get("id"),param3:n.email})})),this.needToSendTelemetry[e]=!1)}},{key:"addInvitationsToChat",value:function(){if(!this.initialized)return;I.log("addRulesToChat",this.store);const e=this.dataProvider.getInvitations(),t=(0,C.getClient)();let n,i;d.default.getActiveAgent((r=>{const o=c.default.getUnreadApiInvitations(),a=o.length;if(o.forEach((e=>{e.destroy()})),this.invitationsCount=0,e.forEach((e=>{if(!e.get("read")&&!(0,E.getApp)().chatStarted){I.log("Active agent:",r),r&&(Object.assign(f.default,r),_.agentsDispatchers.addAgent((0,l.agentToReduxFormat)(r)),r.bot_id||t.priorityAgentId&&t.priorityAgentId===r.agent_id||_.clientDispatchers.setPaId(r.agent_id),_.chatsDispatchers.setJoinedAgents([r]));const o=e.get("text");n=e.get("ruleName"),i=e.get("id");const a=A(A({},r||null),{},{customerIO:!0,is_markdown:!0,unsave:!0,invitationId:i}),s={type:p.MessageType.MESSAGE,from:p.MessageInitiator.AGENT,from_id:r&&r.agent_id,text:o,body:a};_.messagesDispatchers.addMessage(s),this.invitationsCount++,this.needToShowPopup=e.get("isPopup")||!1,this.needToShowPrechat=e.get("prechat")||!1}})),this.invitationsCount!==a){if(u.default.play("notification"),this.needToOpenChat&&this.needToShowPopup?(v.Router.next(y.RouterEvent.ToLabelInvitation),g.Monitoring.telemetry(h.TelemetryName.API_INVITATION_OPEN_CHAT,{param1:n,param2:i,param3:t.email}),this.needToOpenChat=!1):(v.Router.next(y.RouterEvent.ToChat),_.transitionDispatchers.startTransition(b.ScriptName.OPEN_WIDGET),(0,T._callUserFunction)("onMessageReceived")),this.needToShowPrechat&&this.needToShowPrechat.length){const e=this._formatInvitationPrechats(this.needToShowPrechat);m.messageActions.deletePrechatMsg(),(0,s.setConfigParam)("prechat",e),(0,s.setConfigParam)("enable_prechat",1),_.featuresDispatchers.enablePrechat(!0),_.userDispatchers.setPrechat(e),m.messageActions.pushPrechat(e)}k.markInvitationsRead()}}))}},{key:"_formatInvitationPrechats",value:function(e){return e.map(((e,t)=>({id:t,text:e})))}},{key:"getCurrentInvitations",value:function(){return this.initialized?this.dataProvider.getInvitations():null}}]),e}());t.ApiInvitationsManager=k},87252:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=i(n(33119)),o=i(n(92664));let a=function(){function e(t){(0,r.default)(this,e),this.timerId=null,this.cb=t||null}return(0,o.default)(e,[{key:"setCallback",value:function(e){this.cb=e}},{key:"start",value:function(e){clearTimeout(this.timerId),this.timerId=setTimeout(this.cb,e)}},{key:"stop",value:function(){clearTimeout(this.timerId)}}]),e}();t.Timer=a},35802:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(98661)),s=i(n(98661)),l=i(n(4855)),u=n(62096),c=i(n(73727)),d=n(26932),f=n(21951),p=n(69882),g=n(47060),h=n(22932),_=n(23336),m=i(n(91275)),v=i(n(45430)),y=n(99012),b=n(22618),E=n(74603),C=n(97615),T=i(n(75686)),D=n(47245),w=n(43914),O=i(n(34137)),S=n(53182),A=n(15688),I=n(58164);const k=l.default.name("Jivo Widget");let M=null;var P=function(){function e(){if((0,r.default)(this,e),M)return M;M=this,this.config=c.default,this.managers={sound:null,connection:null,environment:null,eula:null,history:null,loaderContext:null,pageVisibility:null,position:null,ref:null,rule:null,title:null,transition:null,windowResize:null},this.stores={app:null,client:null,agent:null,agents:null,history:null,local:null,proactive:null,session:null,messages:null,temp:null},this.integrations={},this.utils={},this.rootContainer=null,this.devTools=null,this.reduxStore=u.reduxStore,this.initialize(),this.sendInitialTelemetry()}return(0,o.default)(e,[{key:"initialize",value:function(){(0,_.initializePolyfills)(),this.initStories(),this.initUtils(),this.initManagers(),this.initIntegrations(),this.initPublicApi(),(0,_.subscribeToPageVisibilityChanges)(this)}},{key:"initStories",value:function(){k.log("Initializing stories"),(0,_.generateVisitorId)(),(0,_.initializeSession)(),m.default.initializeReduxStores(),(0,_.initializeDeprecatedStores)(this)}},{key:"initManagers",value:function(){k.log("Initializing managers"),this.managers.ref=T.default,(0,_.initializeLoaderContextManager)(this),(0,_.initializeDebugDataCollector)(),(0,_.initializeAbTestManager)(this),(0,_.initializeMonitoring)(),(0,_.initializeWindowResizeManager)(this),(0,_.initializeConnection)(this),v.default.run(),(0,_.initializeDevTools)()}},{key:"initIntegrations",value:function(){k.log("Initializing integrations"),(0,_.initializeRecaptcha)(this),(0,y.initCallTouch)(),(0,b.initVideoForce)(),(0,_.initializeCobrowse)(),(0,_.initializeAnalytics)(),m.default.requestCWAvailable(),(0,p.deleteNonce)()}},{key:"initUtils",value:function(){k.log("Initializing utils"),(0,_.initializeUtils)(this)}},{key:"initPublicApi",value:function(){k.log("Initializing public api"),(0,_.exposeJivoVersion)(),(0,_.exposeApi)(),(0,E.designerApiInit)(),(0,S.initPopupAPI)(),(0,A.initExtensionsAPI)(),(0,I.initCampaignWidgetConstructorAPI)()}},{key:"sendInitialTelemetry",value:function(){(0,_.sendLoadTimeTelemetry)(),(0,_.sendLoadedInIframeTelemetry)()}},{key:"start",value:function(){k.warn("start"),(0,p.isAppCobrowse)()||((0,_.resetAgents)(),this.renderApp())}},{key:"renderApp",value:function(){this.render(),d.appDispatchers.setAppStarted(!0),(0,_.initializeRuleManager)(this),(0,_.sendBundleLoadedTelemetry)(),(0,_.handleChatPageStart)()}},{key:"stop",value:function(){k.warn("stop"),(0,_.stop)()}},{key:"render",value:function(){if(k.log("Rendering"),(0,w._callUserFunction)("onInitCallback"),C.EnvironmentManager.isDevelopment()){n(14369),n(67665);const e=n(6400),t=e.options,i=e.Fragment,r=e.Component;window.parent.__PREACT_DEVTOOLS__&&window.parent.__PREACT_DEVTOOLS__.attachPreact("10.11.2",t,{Fragment:i,PreactComponent:r})}const e=(0,h.getPageWindow)(),t=e.document.body;this.rootContainer=e.document.createElement("jdiv"),(0,f.addListener)(e,"jBeforeunload",this.unmount.bind(this)),t.appendChild(this.rootContainer);const i=this.stores.app,r=i.is_online,o=i.chat_started,l=!(!r&&this.config.hide_offline&&o);k.log("RENDER",l),l&&!this.isBot&&(s.default.render(a.default.createElement(O.default,{ref:e=>{T.default.set(D.Component.ROOT_COMPONENT,e)}}),this.rootContainer),(0,_.initializeSoundManager)(this)),this.stores.app.route===g.Route.HIDDEN&&k.warn("Widget is hidden."),(0,w._callUserFunction)("onLoadCallback")}},{key:"unmount",value:function(){k.log("Unmounting");const e=(0,h.getPageWindow)(),t=e.document.body;this.rootContainer&&(a.default.unmountComponentAtNode(this.rootContainer),this.rootContainer=null);const n=e.document.querySelectorAll("body > jdiv");n.length>0&&n.forEach((e=>t.removeChild(e))),(0,f.removeEvent)(e,"jBeforeunload",this.unmount.bind(this)),(0,w._callUserFunction)("onWidgetDestroy")}}],[{key:"getInstance",value:function(){return M}}]),e}();t.default=P},23336:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToPageVisibilityChanges=t.stop=t.setOfflineIntroduced=t.sendLoadedInIframeTelemetry=t.sendLoadTimeTelemetry=t.sendBundleLoadedTelemetry=t.resetAgents=t.reportCampaignContactsStat=t.needIntroduceInOffline=t.initializeWindowResizeManager=t.initializeUtils=t.initializeSoundManager=t.initializeSession=t.initializeRuleManager=t.initializeRecaptcha=t.initializePolyfills=t.initializePermissionManager=t.initializeMonitoring=t.initializeLoaderContextManager=t.initializeDevTools=t.initializeDeprecatedStores=t.initializeDebugDataCollector=t.initializeConnection=t.initializeCobrowse=t.initializeAnalytics=t.initializeAbTestManager=t.handleChatPageStart=t.generateVisitorId=t.exposeJivoVersion=t.exposeApi=void 0;var r=i(n(26754)),o=n(44145),a=i(n(55908)),s=i(n(22866)),l=i(n(66547)),u=i(n(73687)),c=i(n(91275)),d=i(n(95003)),f=i(n(14762)),p=i(n(19955)),g=i(n(138)),h=i(n(14264)),_=i(n(16818)),m=n(21476),v=n(47060),y=i(n(71277)),b=i(n(5735)),E=i(n(50216)),C=i(n(47914)),T=i(n(74890)),D=i(n(16500)),w=i(n(22541)),O=i(n(3415)),S=i(n(8117)),A=i(n(6987)),I=i(n(51094)),k=n(43914),M=n(42908),P=i(n(73727)),R=n(62096),x=n(26932),N=n(69882),L=n(16016),F=n(83170),j=n(54415),B=i(n(45493)),W=n(97615),U=i(n(4855)),H=n(25528),z=n(49963),G=i(n(73439)),V=i(n(40426)),$=i(n(34783)),q=n(27586),Z=n(22932),K=n(68403),Y=n(44145),J=n(74619);const X=U.default.name("Jivo Widget Utils");t.resetAgents=()=>{X.log("resetting agents"),(0,o.getApp)().chatStarted||x.chatsDispatchers.setNoJoinedAgents()};t.exposeJivoVersion=()=>{X.log("exposeJivoVersion"),(0,Z.getPageWindow)().jivo_version=W.EnvironmentManager.getVersion()};t.exposeApi=()=>{X.log("exposeApi"),(0,Z.getPageWindow)().jivo_api=M.api};t.subscribeToPageVisibilityChanges=e=>{X.log("subscribeToPageVisibilityChanges"),D.default.subscribe((t=>{t&&(w.default.stopBlinking(),ee(e)),(0,N.isAppCobrowse)()||(c.default.reloadStories(),c.default.initializeReduxStores())}))};t.generateVisitorId=()=>{const e=(0,o.getClient)();e.visitorId?X.log("Visitor id already exists:",e.visitorId):(e.visitorId=(0,L.generateGUIDCount)(4),X.log("New visitor id:",e.visitorId))};const Q=()=>{const e=(0,o.getApp)(),t=(0,o.getClient)();return!e.isOnline&&!(t.email||t.phone||t.name||t.displayName)};t.needIntroduceInOffline=Q;t.setOfflineIntroduced=()=>{Q()&&x.clientDispatchers.setIsIntroduced(!1)};t.sendBundleLoadedTelemetry=()=>{X.log("sendBundleLoadedTelemetry"),setTimeout((()=>{var e;j.Monitoring.telemetryWithProbability(F.TelemetryName.BUNDLE_LOADED,{param1:W.EnvironmentManager.getVersion(),param2:window.loaderContext.store.isNewCode?"newCode":"oldCode",param3:window.navigator.language,param4:(e=window.loaderContext.scriptSrc,(null==e?void 0:e.replace(/\/([A-Za-z0-9]{10})$/,""))||"")},15)}),1e3)};t.sendLoadedInIframeTelemetry=()=>{X.log("sendLoadedInIframeTelemetry"),window.parent.window!=window.top&&(0,o.getApp)().route!==v.Route.HIDDEN&&j.Monitoring.telemetryWithProbability(F.TelemetryName.IN_IFRAME_STARTED,{},10)};t.sendLoadTimeTelemetry=()=>{X.log("sendLoadTimeTelemetry");const e=B.default.getInstance();if(e&&p.default.supportsLocalStorage()){const t=e.store.loadTime;t&&(j.Monitoring.telemetry(F.TelemetryName.CDN_LOAD_TIME,{param1:parseInt(t)}),e.setInStore("loadTime",null))}};t.initializeDebugDataCollector=()=>{X.log("initializeDebugDataCollector");const e=(0,o.getApp)(),t=(0,o.getClient)();new s.default(e,P.default,t,r.default,R.reduxStore,h.default)};t.initializeSoundManager=e=>{X.log("initializeSoundManager"),e.managers.sound=y.default,(0,H.isSoundPlayerDisabled)()||y.default.initSoundPlayer()};t.initializeRuleManager=e=>{e.managers.rule=b.default,P.default.campaigns||(0,K.isPaidCustomer)()?(b.default.init(),X.log("initializeRuleManager success")):X.log("initializeRuleManager failure")};t.initializeAnalytics=()=>{(0,K.isPaidCustomer)()?(X.log("initializeAnalytics success"),g.default.init()):X.log("initializeAnalytics failure")};t.initializeLoaderContextManager=e=>{X.log("initializeLoaderContextManager"),e.managers.loaderContext=new B.default(P.default.widget_id,d.default)};t.initializeRecaptcha=()=>{if((0,Y.getFeatures)().recaptcha){X.log("initializeRecaptcha");new E.default(P.default.recaptcha).addRecaptchaToPage()}};t.initializeWindowResizeManager=e=>{X.log("initializeWindowResizeManager");e.managers.windowResize=new C.default((e=>{(0,k._callUserFunction)("onResizeCallback",e)}))};t.initializeMonitoring=()=>{X.log("initializeMonitoring"),j.Monitoring.init()};t.initializePolyfills=()=>{X.log("initializePolyfills"),T.default.init()};t.initializeCobrowse=()=>{(0,Z.getPageWindow)()==window.top||(0,N.isWixIframe)()||(X.log("initializeCobrowse"),O.default.init());const e=(0,Z.getPageWindow)().location.hash.split("jvhs_")[1];if(void 0!==e){const t=h.default.getCobrowseByHash(e);let n=null,i=null;if(X.log("cobrowse from init",t),t){const e=f.default.getAgentById(t.get("from_id"));e&&(n=e.toJSON()),i=t.get("body.text"),X.log("cobrowse agentData",n)}setTimeout((()=>{O.default.getCobrowseData(e,null,i,n)}),1e3)}};t.initializeSession=()=>{X.log("initializeSession");const e=l.default.get("enter_ts"),t=(0,o.getClient)();if(!e){l.default.set("enter_ts",(new Date).getTime());const e=u.default.get("visits_count");u.default.set("visits_count",e?e+1:1,31556952);try{S.default.setUTM({href:(0,Z.getPageWindow)().location.href,refer:(0,Z.getPageWindow)().document.referrer,setterFn:x.clientDispatchers.setUTM})}catch(e){e.message+=" setUTM",j.Monitoring.reportException(e),j.Monitoring.telemetry(F.TelemetryName.SET_UTM_ERROR,{param1:JSON.stringify({href:(0,Z.getPageWindow)().location.href,refer:(0,Z.getPageWindow)().document.referrer}),param2:e.message})}}if(P.default.campaigns&&P.default.campaigns.length){if(d.default.route===v.Route.HIDDEN)return;const e=P.default.campaigns.reduce(((e,t)=>{const n=q.StatsManager.get(t.campaign_id);return n||(q.StatsManager.create(t),e.push(t.campaign_id)),n&&!n.isSubmitted&&e.push(t.campaign_id),e}),[]);e.length&&q.StatsManager.send({campaignIds:e},"visit")}const n=()=>{X.warn("pushHistory"),_.default.push({url:(0,N.getCurrentPage)().url,title:(0,N.getCurrentPage)().title})};t.sessionId||(n(),(0,Y.getFeatures)().enableSpaNavigate&&new J.Observer({onUrlChange:n}))};t.initializeDevTools=()=>{W.EnvironmentManager.isProduction()||W.EnvironmentManager.isPartnerApp()||(async()=>{(new(0,(await n.e(308).then(n.bind(n,10517))).default)).installOnPage(),(0,k._callUserFunction)("onDevToolsInit")})()};t.stop=()=>{x.appDispatchers.setAppRoute(v.Route.HIDDEN),y.default.disableSoundPlayer()};const ee=()=>{const e=(0,o.getClient)(),t=(0,Y.getFeatures)().recaptcha;if(X.warn("initializeConnection"),z.connectionAdapter.getInstance()||z.connectionAdapter.setConnectionInstance(new G.default(V.default,$.default)),t&&!e.captchaToken)return void X.warn("Wait for captcha to connect");const n=!!h.default.getClientSendedMessages().length,i=(0,o.getApp)(),r=!i.maintenance&&(i.isOnline&&n||e.sessionId||!i.isOnline&&i.chatStarted);X.warn("needToConnect",r),r&&!z.connectionAdapter.isConnected()&&z.connectionAdapter.openConnect()};t.initializeConnection=ee;t.initializeDeprecatedStores=e=>{e.stores.app=d.default,e.stores.agent=r.default,e.stores.agents=f.default,e.stores.history=_.default,e.stores.messages=h.default,e.stores.session=l.default,e.stores.temp=u.default};t.initializeAbTestManager=()=>{new a.default};t.initializeUtils=e=>{e.utils=A.default};t.handleChatPageStart=()=>{(0,N.isChatPage)()&&(x.appDispatchers.setAppIsFocused(!0),m.Router.next(v.RouterEvent.Navigate),setTimeout((()=>{c.default.addMessagesOnOpen()}),50))};t.initializePermissionManager=e=>{P.default.enable_webrtc_calls&&(e.managers.permission=new I.default)};t.reportCampaignContactsStat=()=>{const e=(0,o.getProactive)().campaignId,t=(0,o.getClient)(),n=t.isIntroduced,i=t.eulaAccepted;if(e&&!n){if(P.default.eula&&!i)return;q.StatsManager.send({campaignId:e},"contacts_fill")}}},48553:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664));var a=function(){function e(t,n){(0,r.default)(this,e),this.doc=t,this.cssURL=n,this.loaded=!1,this.failed=!1,this.loadCss()}return(0,o.default)(e,[{key:"loadCss",value:function(){const e=this.doc.head||this.doc.getElementsByTagName("head")[0];if(e&&e.querySelector(`link[href="${this.cssURL}"]`))return this.loaded=!0,void(this.onLoadCallback&&this.onLoadCallback());const t=this.doc.createElement("link");t.rel="stylesheet",t.href=this.cssURL,t.className="jv-css",window.parent.jivo_cspNonce&&t.setAttribute("nonce",window.jivo_cspNonce),t.addEventListener("load",(e=>{this.loaded=!0,this.onLoadCallback&&this.onLoadCallback()})),t.addEventListener("error",(e=>{this.failed=!0,this.onFailedCallback&&this.onFailedCallback()})),e.appendChild(t)}},{key:"setOnLoadedCallback",value:function(e){this.loaded?e&&e():this.onLoadCallback=e}},{key:"setOnFailedCallback",value:function(e){this.failed?e&&e():this.onFailedCallback=e}},{key:"subscribe",value:function(e,t){this.setOnLoadedCallback(e),this.setOnFailedCallback(t)}}]),e}();t.default=a},31984:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.callWidgetPing=function(e,t){if(T.warn("callWidgetPing",t),(0,c.isEmpty)(o.default.callback_settings)||(0,y.isAppCobrowse)()||u.isDesignerEditor)return void T.log("callback disabled");const n=d.default.get("callback_ping_response");if(n)e(n);else{const n=(0,f.getClient)(),i=t&&n.clientId?n.clientId.split(".")[0]:"0";v.xhrRequest.get(D("/sites/"+o.default.site_id+"/widgets/"+o.default.widget_id+"/clients/"+i+"/telephony/callback"),((t,n)=>{if(t)return T.error("in request"),e({});let i=n.data;i||(i={ok:!1});const r=i.work_time;let o;r?("cw_connected"!==(0,f.getCallback)().status&&(0,l.onDelayedCallAvailable)(r),i.ok=!0):i.ok&&(0,l.resetDelayedCallStatus)(),o=i.ok||i.error_list&&"time_not_in_range"===i.error_list[0]?60:20,d.default.set("callback_ping_response",i,o),e(i)}))}},t.checkPhoneLength=function(e,t,n){const i=e.length,r=t.length;if(["EG"].indexOf(n)>=0)return i>=r-5&&i<=r+1;if(["NZ","RS"].indexOf(n)>=0)return i>=r-2&&i<=r+1;return["BR","BG","MX","DE","AT","KH","CH","IL","NZ"].indexOf(n)>=0?i>=r-1&&i<=r+1:i===r},t.checkStartCall=async function(e,t){T.warn("checkStartCall",e);const n=e.phone,i=e.invitationText,a=e.clientToken,s=e.requestGRecaptchaToken?await E.default.getInstance().getGRecaptchaToken({action:"callback"}):null;if(!a)return T.warn("checkStartcall",`client_id is ${a}`),g.callbackDispatchers.setCallbackAvailable(!0),g.callbackDispatchers.setCallbackStatus(h.CallStatus.ERROR),g.callbackDispatchers.setCallbackError((0,b.getCallDefaultError)()),void m.Monitoring.telemetry(_.TelemetryName.CALL_ERROR,{param1:"startup_error_client_id"});const l=a.split(".")[0],u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({phone:n,invitation_text:null!=i?i:""},s&&{callback_token:s});v.xhrRequest.post(D("/sites/"+o.default.site_id+"/widgets/"+o.default.widget_id+"/clients/"+l+"/telephony/callback"),t,{headers:{"Content-Type":p.CONTENT_TYPE.X_WWW_FORM},body:u})},t.detectPriorityCountry=w,t.getMaskedPhone=function(e){if(!e)return e;const t=S(e);if(!t)return e;return"+"+t.phoneCode+" "+A(t.innerNumber,t.phoneFormat)},t.getMaskedValue=A,t.getPhoneInfo=O,t.getPhoneNumberInfo=S,t.telephonyUrl=D;var r=i(n(61125)),o=i(n(73727)),a=i(n(5798)),s=i(n(4855)),l=n(33069),u=n(52028),c=n(92560),d=i(n(73687)),f=n(44145),p=n(31343),g=n(26932),h=n(47138),_=n(83170),m=n(54415),v=n(95911),y=n(69882),b=n(41168),E=i(n(50216));function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const T=s.default.name("CallUtils","color: grey");function D(e){if(o.default.tel_host)return"https://"+o.default.tel_host+"/api/1"+e}function w(e){if(T.log("detectPriorityCountry",e),!e)return null;const t={UA:{codes:["38"]},KZ:{codes:["77"]},RU:{codes:["79"]},CA:{codes:["1204","1226","1236","1249","1250","1289","1306","1343","1365","1403","1416","1418","1431","1437","1438","1450","1506","1514","1519","1548","1579","1581","1587","1600","1604","1613","1639","1647","1705","1709","1778","1780","1782","1807","1819","1825","1867","1873","1902","1905"]},DO:{codes:["1809"]},PR:{codes:["1787","1939"]}};for(const n in t)if({}.hasOwnProperty.call(t,n)){const i=t[n],r=e.substr(0,i.codes[0].length);if(i.codes.indexOf(r)>=0)return T.log("codeFound",n),{code:n}}return null}function O(e,t){const n="+"===t[0]?e.phone_code.length+1:e.phone_code.length,i=t.slice(n);return{countryCode:e.code,countryName:e.name,phoneCode:e.phone_code,phoneFormat:e.phone_format,innerNumber:i,number:t}}function S(e){T.log("getPhoneNumberInfo",e);let t=e.replace(/\D+/g,"");const n=o.default.callback_settings.countries;let i,r="";let a="";if(o.default.geoip&&(a=o.default.geoip.split(";")[0]),t.length<9||t.length>15)return null;for(let e=0;e<t.length;e++)if(!i)if(r=t.slice(0,e+1),i=n.filter((e=>e.phone_code===r.toString())),i.length>0){const e=w(t);if(e)i=i.filter((t=>t.code===e.code));else{const e=i.filter((e=>e.code===a));e.length&&(i=e)}}else i=null;return i||(i=n.filter((e=>e.code===a)),i&&"RU"==a&&(13==t.length&&(t=t.replace("8","+7")),10==t.length&&(t="+7"+t))),i&&i.length?(i=i[0],O(i,t)):null}function A(e,t){return a.default.toPattern(e,t)}},53182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPopupAPI=void 0;var i=n(75998),r=n(45948);const o=window.parent||window;let a=!1;const s={updateConfig(e){i.campaignPopupDispatch.updateCampaignPopup(e)},setActiveScreen(e){i.campaignPopupDispatch.updateCampaignPopup({activeScreen:e})},setRenderTarget(e){i.campaignPopupDispatch.updateCampaignPopup({target:e,previewTargetDesktop:"",previewTargetMobile:"",isGalleryView:!1})},setRenderPreviewTarget(e,t){i.campaignPopupDispatch.updateCampaignPopup({previewTargetDesktop:e,previewTargetMobile:t,target:"",isGalleryView:!1})},setMobileView(e){i.campaignPopupDispatch.updateCampaignPopup({isMobileView:e})},showPopupGalleryPreview(e){if(a)return;a=!0,i.campaignPopupDispatch.setDisplay(!1);const t=setTimeout((()=>{Object.assign(e,{target:"",previewTargetDesktop:"",previewTargetMobile:"",isGalleryView:!0}),i.campaignPopupDispatch.updateCampaignPopup(e),i.campaignPopupDispatch.setDisplay(!0),clearTimeout(t)}),300),n=setTimeout((()=>{a=!1,clearTimeout(n)}),550)}};t.initPopupAPI=()=>{r.isPopupConstructor&&(o._popupAPI=s)}},45948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPopupConstructor=void 0;const i=n(97615).EnvironmentManager.isPopupConstructor();t.isPopupConstructor=i},48999:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.formatProactiveContent=function(e){var t;const n=["top","top_width"].includes(null==e?void 0:e.img_position),i=!(null==e||!e.img_src)&&(r=e.img_src,`\n\n![](${r})\n\n`);var r;let o="";i&&n&&(o+=i);null!=e&&e.title&&""!==e.title.trim()&&(o+=`# ${e.title}\n`);o+=null!==(t=null==e?void 0:e.text)&&void 0!==t?t:null==e?void 0:e.message,i&&!n&&(o+=i);return o},t.sendCampaignData=t.getCampaignContentSettigns=t.getCampaignById=void 0;var r=i(n(73727)),o=n(83170),a=i(n(86961)),s=n(54415);const l=e=>{var t;return null===(t=r.default.campaigns)||void 0===t?void 0:t.filter((t=>t.campaign_id===e))[0]};t.getCampaignById=l;t.getCampaignContentSettigns=e=>{var t,n,i;const r=l(e);return r&&(null!==(t=null===(n=r.content)||void 0===n?void 0:n.widget_settings)&&void 0!==t?t:null===(i=r.rules)||void 0===i?void 0:i.commands[0].params)};t.sendCampaignData=(e,t)=>{a.default.postCampaignData(e,((n,i)=>{var r,a;i&&(null==t||t(null===(r=i.data)||void 0===r||null===(a=r.result)||void 0===a?void 0:a.client_answer_id),s.Monitoring.telemetry(o.TelemetryName.SEND_CAMPAIGN_DATA_SUCCESS,{param1:JSON.stringify(null==i?void 0:i.data)}));n&&(null==t||t(null),s.Monitoring.telemetry(o.TelemetryName.SEND_CAMPAIGN_DATA_ERROR,{param1:JSON.stringify(e),param2:n.status}))}))}},81722:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getLastAgent=function(){const e=a.default.getLastMessage();if(!e||e.get("from")!==l.MessageInitiator.AGENT&&"bot"!==e.get("from")||e.get("type")!==l.MessageType.MESSAGE)return!1;{const t=e.get("from_id");let n=c.default.getAgentById(t);return"bot"===e.get("from")&&(n=c.default.getBotById(t)),!!n&&n.toJSON()}},t.getLastMessageHeight=C,t.getMaxWidgetHeightForProactive=function(){if(!u.default.desktop()||(0,v.isChatPage)())return;if(a.default.getClientMessages().length)return;const e=(0,m.getProactive)(),t=y.default.get(h.Component.MESSAGES_CONTAINER),n=null==t?void 0:t.clientHeight,i=e.text.includes("[]("),r=!!e.prechats&&e.prechats>=3,o=i&&r?_.DEFAULT_WIDGET_HEIGHT+300:_.DEFAULT_WIDGET_HEIGHT;if(n){const e=(0,b.getPageWindow)().innerHeight-s.HEADER_HEIGHT,t=n+s.HEADER_HEIGHT+s.INPUT_HEIGHT,i=t>e?e:t;return t<o?`${o}px`:`${i}px`}return`${o}px`},t.isLastAgentMessage=T,t.isOfflineCanSend=function(){if((0,g.isAssistantBot)())return!1;const e=(0,f.getClient)();return!(0,m.getApp)().isOnline&&!e.isIntroduced&&!r.default.enable_bot_offline&&a.default.getClientMessages().length&&(a.default.getOfflineTmpMessage()||a.default.getFormMessage().length)},t.isProactivePrechat=function(){const e=(0,m.getProactive)().text,t=(0,m.getMessages)();if(!e||t.length>2)return!1;const n=a.default.getFirstMessage(),i=a.default.getLastMessage();return a.default.getMessagesByType(l.MessageType.PRECHAT)&&i&&i.get("type")==l.MessageType.PRECHAT&&n&&n.get("type")==l.MessageType.PROACTIVE},t.isValidEmail=function(){const e=(0,f.getClient)();return e.email&&o.default.email(e.email)},t.setLastAgentScroll=function(e){if(!e)return!1;const t=T(),n=e.base;if(!n)return!1;const i=(0,m.getProactive)().text,r=C(n),o=n.offsetHeight;E.log("setLastAgentScroll",t,r,o);const s=i?1:0,c=a.default.getLastMessage(),d=a.default.getFirstMessage();if(n&&r&&s&&d&&!d.get("msg_id")&&c&&c.get("type")==l.MessageType.PRECHAT)return e.scrollToTop(),!1;if(t&&r&&o&&r>o){e.setIgnore(!0);const t=u.default.mobileOrTablet()?80:50,n=e.getScrollHeight()-r-t;return s&&1==a.default.getAgentMessages().length?e.scrollToTop():e.scrollTop(n),!0}return!1};var r=i(n(73727)),o=i(n(98960)),a=i(n(14264)),s=n(52274),l=n(81152),u=i(n(19955)),c=i(n(14762)),d=i(n(32138)),f=n(44145),p=i(n(4855)),g=n(54346),h=n(47245),_=n(52274),m=n(44145),v=n(69882),y=i(n(75686)),b=n(22932);const E=p.default.name("ChatUtils");function C(e){if(!e)return 0;const t=e.querySelectorAll("."+d.default.text);if(t.length){const e=t[t.length-1].clientHeight;return e?e+s.HEADER_HEIGHT+10:0}return 0}function T(){const e=a.default.getLastMessage();return!!e&&(e.isAgentMessage()&&-1==[l.MessageType.FORM,l.MessageType.PREFORM].indexOf(e.get("type")))}},22866:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(87144),s=n(7547),l=n(97615),u=i(n(73727)),c=i(n(4855));c.default.name("DebugDataCollector");let d=null,f=function(){function e(t,n,i,o,l,u){(0,r.default)(this,e),this.webSocketEventsStore=null,this.viSocketEventsStore=null,this.exceptionsStore=null,this.initialized=!1,this.messagesFormatter=new s.MessagesFormatter(u),this.messageHistory={},this.appStore=t,this.widgetConfig=n,this.clientStore=i,this.agentStore=o,this.reduxStore=l,this.webSocketEventsStore=new a.EventStore,this.viSocketEventsStore=new a.EventStore,this.exceptionsStore=new a.EventStore,this.actionsStore=new a.EventStore,this.initialized=!0,d=this}return(0,o.default)(e,[{key:"isInitialized",value:function(){return this.initialized}},{key:"saveSocketEvent",value:function(e){this.webSocketEventsStore.save(e)}},{key:"saveViEvent",value:function(e){this.viSocketEventsStore.save(e)}},{key:"saveException",value:function(e){this.exceptionsStore.save(e)}},{key:"saveReduxAction",value:function(e){this.actionsStore.save(e)}},{key:"saveMessageHistory",value:function(e,t){this.messageHistory[e]=t}},{key:"pageHasErrors",value:function(){return this.exceptionsStore.length()>0}},{key:"exportData",value:function(){return JSON.stringify({agentStore:this.agentStore,appStore:this.appStore,clientStore:this.clientStore,config:this.widgetConfig,exceptionsStore:this.exceptionsStore.getAll(),messagesStore:this.messagesFormatter.toDebugLog(),messageHistory:this.messageHistory,reduxStore:this.reduxStore.getState(),userAgent:navigator.userAgent,version:l.EnvironmentManager.getVersion(),visitorsInsightEventsStore:this.viSocketEventsStore.getAll(),webSocketEventsStore:this.webSocketEventsStore.getAll(),actionsStore:this.actionsStore.getAll(),lastLog:c.default.lastLog.join("\r\n"),configLogs:{lastStatus:u.default.lastStatus}})}}],[{key:"getInstance",value:function(){return d}}]),e}();t.default=f},87144:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.EventStore=void 0;var r=i(n(33119)),o=i(n(92664));let a=function(){function e(){(0,r.default)(this,e),this.events=[]}return(0,o.default)(e,[{key:"save",value:function(e){this.events.push(e)}},{key:"getAll",value:function(){return this.events||null}},{key:"length",value:function(){return this.events.length}}]),e}();t.EventStore=a},7547:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesFormatter=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(22932),s=n(52161),l=n(44145),u=i(n(4855)),c=n(36874);const d=u.default.name("MessagesFormatter");let f=function(){function e(t){(0,r.default)(this,e),this.messagesStore=t}return(0,o.default)(e,[{key:"toTxt",value:function(){d.log("toTxt")}},{key:"getMessagesAsHTML",value:function(){try{const e=this.toHTML(),t=new Blob([e],{type:"text/html"}),n=window.parent.URL.createObjectURL(t);return{url:n,fileName:`${(new Date).toISOString()}_${(0,a.getPageWindow)().location.host}_chat_log.html`}}catch(e){return{url:null,fileName:null}}}},{key:"toHTML",value:function(){d.log("toHTML");let e="";this.messagesStore.store.forEach((t=>{const n=t.store;let i;if("client"===n.from)i="you";else{if("agent"!==n.from&&"bot"!==n.from)return;{let e=n.from_id&&(0,l.getAgentById)(+n.from_id);"bot"===n.from&&(e=n.from_id&&(0,l.getBotById)(+n.from_id)),i=e?`${e.name} (${e.title})`:"agent"}}let r=n.text;if(!r||"form"===n.type||"botsystem"===n.type)return;if("media"===n.type&&n.body&&n.body.file_url){const e=n.body.name||n.body.file_name,t=n.body.file_url||n.body.file;r=`<a target="_blank" rel="nofollow noopener" href="${encodeURI(t)}">${e}</a>`}const o="cobrowse"===n.type&&n.body&&n.body.address;if(o){const e=n.body.text||"",t=`${n.body.url}#jvhs_${n.body.address}`;r=`<a target="_blank" rel="nofollow noopener" href="${encodeURI(t)}">${(0,s.escape)(e).trim()}</a>`}let a=r?(0,s.escape)(r).trim():"";o&&(a=r);const u=new Date(n.created_ts),c=u.toLocaleDateString(),d=u.toLocaleTimeString();e+=`<div class="message ${n.from}MessageWrap">\n                <span class="messageInfo">${c} ${d}, ${i}</span>\n                <br>\n                <span>${a}</span>\n            </div>\n            <br>`}));return`<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>Chat log from ${(0,a.getPageWindow)().location.host}</title>\n            <style>\n                * {\n                    font-family: sans-serif;\n                }\n                a {\n                    color: #0044d3 !important;\n                }\n                h1 {\n                    display: block;\n                    margin: 15px auto;\n                    text-align: center;\n                    width: 600px;\n                }\n                .wrap {\n                    display: flex;\n                    flex-direction: column;\n                    width: 600px;\n                    margin: 0 auto;\n                }\n                .wrap .message {\n                    display: block;\n                    max-width: 100%;\n                    min-width: 40px;\n                    margin-bottom: 2px;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    text-indent: 0;\n                    user-select: text;\n                    border-radius: 5px;\n                }\n                .message a {\n                    color: inherit;\n                }\n                .messageInfo {\n                    opacity: 0.7;\n                    font-size: 14px;\n                }\n                .clientMessageWrap {\n                    background-color: ${c.colorsFromFigma.GREEN_80};\n                    color: white;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 0 0 auto;\n                }\n                .agentMessageWrap,\n                .botMessageWrap {\n                    background-color: #f1f0f0;\n                    color: #222d38;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 auto 0 0;\n                }\n                .printButton {\n                    position: fixed;\n                    top: 13px;\n                    right: 30px;\n                    background-color: ${c.colorsFromFigma.GREEN_80};\n                    color: white;\n                    width: 80px;\n                    height: 40px;\n                    border-radius: 5px;\n                    font-size: 20px;\n                    box-shadow: none;\n                    border: none;\n                }\n                .printButton:hover {\n                    background-color: ${c.colorsFromFigma.GREEN_90};\n                    cursor: pointer;\n                }\n                @media print {\n                    .printButton {\n                        display: none;\n                    }\n                }\n            </style>\n        </head>\n        <body>\n            <h1>Chat log from ${(0,a.getPageWindow)().location.host}</h1>\n            <button class="printButton" onclick="window.print()">Print</button>\n            <div class="wrap">\n                ${e}\n            </div>\n        </body>\n        </html>`}},{key:"toDebugLog",value:function(){return d.log("toDebugLog"),this.messagesStore.store}}]),e}();t.MessagesFormatter=f},33069:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.formatLabelText=void 0,t.formatPeriodsToSelectModel=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map(((n,i)=>{const r=e[i+1],o=P(n,r,t);return o?{label:o,value:n}:o})).filter((e=>(0,b.isObject)(e)))},t.formatPeriodsToUserStoreModel=I,t.formatWorkTimeToServerModel=A,t.isErrorStatusCode=function(e){return[g.DelayedCallStatus.MAX_REQUESTS_LIMIT,g.DelayedCallStatus.NOT_WORK_TIME,g.DelayedCallStatus.BAD_CALLBACK_TIME,g.DelayedCallStatus.BLOCKED,g.DelayedCallStatus.BAD_DIRECTION].some((t=>e===t))},t.onDelayedCallAvailable=O,t.redirectAfterRequestDelayedCall=function(){const e=n(21476).Router,t=n(47060).RouterEvent;e.next(t.ToCall)},t.removePeriod=S,t.requestDelayedCall=async function(e){const t=e.dateTime,n=e.phone,i=n.replace(/( |\-)/gi,"").replace(/\D+/g,""),r=A(t),m=r.date,b=r.time,w=(0,_.getClient)(),I=(0,E.getFeatures)(),k=w.clientId?w.clientId.split(".")[0]:"0",M=`/sites/${s.default.site_id}/widgets/${s.default.widget_id}/clients/${k}/telephony/callback/delayed`,R=I.recaptcha?await C.default.getInstance().getGRecaptchaToken({action:"delayedCallback"}):null,x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({phone:i,callback_date:m,callback_time:b},R&&{callback_token:R});u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.WAIT),u.clientDispatchers.setClientPhone(`+${i}`),y.xhrRequest.post((0,c.telephonyUrl)(M),((e,i)=>{if(e||i&&!i.data)return!e&&u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.NOT_WORK_TIME),p.Monitoring.telemetry(f.TelemetryName.DELAYED_ERR,{param1:null!=e?e:"No data"});const r=i.data,o=r.work_time,s=r.error_list;if(r.ok){const e="as_soon_as_possible"===b&&r.callback_started,i={asSoonAsPossibleMessage:`${(0,a.l10n)("cw_call_to")} ${(0,c.getMaskedPhone)(n)}`,defaultMessage:`${(0,a.l10n)("callback_delayed_submit_success")}\n${P(t)}`};e&&(u.callbackDispatchers.setCallbackIsDelayed(!1),u.callbackDispatchers.setCallbackStatus(g.CallStatus.WAIT),l.messageActions.handleContactsForm()),l.messageActions.systemCallMessage(e?i.asSoonAsPossibleMessage:i.defaultMessage,v.MessageName.DELAYED_CALL_SUCCESS),u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.SUCCESS),d.default.trackCallWidgetRequested()}if(o&&O(o),s){const e=(0,_.getCallback)();s.includes("max_requests_limit")&&u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.MAX_REQUESTS_LIMIT),s.includes("bad_callback_time")&&(u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.BAD_CALLBACK_TIME),S(x.callback_date+D+x.callback_time));const t=s.some((e=>/client_blacklist|global_blacklist|rate_limiter/.test(e)));t&&u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.BLOCKED),e.delayedStatus===g.DelayedCallStatus.WAIT&&u.callbackDispatchers.setDelayedCallbackStatus(g.DelayedCallStatus.NOT_WORK_TIME),u.callbackDispatchers.setCallbackStatus(!1)}}),{headers:{"Content-Type":h.CONTENT_TYPE.X_WWW_FORM},body:x})},t.resetDelayedCallStatus=function(){u.callbackDispatchers.setDelayedTimezone(null),u.callbackDispatchers.setDelayedPeriods([]),u.callbackDispatchers.setCallbackIsDelayed(null),u.callbackDispatchers.setDelayedCallbackStatus(null)};var r=i(n(67375)),o=i(n(61125)),a=n(20344),s=i(n(73727)),l=n(65465),u=n(26932),c=n(31984),d=i(n(138)),f=n(83170),p=n(54415),g=n(47138),h=n(31343),_=n(44145),m=i(n(4855)),v=n(81152),y=n(95911),b=n(46322),E=n(44145),C=i(n(50216));function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}m.default.name("DelayedCall");const D="|";const w="function"==typeof(new Date).toLocaleString&&function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}();function O(e){u.callbackDispatchers.setCallbackAvailable(!0),u.callbackDispatchers.setDelayedTimezone(e.timezone_diff),u.callbackDispatchers.setCallbackIsDelayed(!0),u.callbackDispatchers.setDelayedPeriods(I(e.schedule))}function S(e){const t=(0,_.getCallback)();if(t.delayedPeriods&&t.delayedPeriods.length){const n=t.delayedPeriods;u.callbackDispatchers.setDelayedPeriods(n.filter((t=>t!==e)))}}function A(e){const t=e.split(D),n=(0,r.default)(t,2);return{date:n[0],time:n[1]}}function I(e){const t=[];return e.forEach((e=>{const n=e.date;e.intervals.forEach((e=>{t.push(`${n}|${e}`)}))})),t}u.callbackDispatchers.setDelayedCallbackStatus(null);const k=e=>{const t=e.replace(/\-/g,"/"),n=new Date(t).getTime();if(isNaN(n))return e;const i=(0,_.getCallback)(),r=-(new Date).getTimezoneOffset(),o=i.delayedTimezone,a=60*(r-o)*1e3;const s=new Date(n+a),l=s.getHours(),u=s.getMinutes(),c=s.getDate(),d=s.getMonth(),f=e=>e>9?e:`0${e}`,p=f(u);let g=`${f(l)}:${p}`;w&&"en"==M()&&(g=s.toLocaleString(M(),{hour:"numeric",minute:"numeric",hour12:!0}));return{time:g,date:c,month:d,dateDetail:s}};function M(){const e=s.default.locale;return"no"==e?"nb":e.search("_")?e.split("_")[0]:e}const P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{month:"long",day:"numeric",hour:"numeric",minute:"numeric"};const i=new Date,o=i.getDate(),s=(0,a.l10n)("today"),l=new Date((new Date).setDate(o+1)).getDate(),u=(0,a.l10n)("callback_delayed_period_tomorrow"),c=(0,a.l10n)("callback_delayed_period_as_possible").toLowerCase(),d="as_soon_as_possible",f=",",p=t.split(D),g=(0,r.default)(p,2),h=g[1],_=e.split(D),m=(0,r.default)(_,2),v=m[0],y=m[1],b=y===d,E=h&&h!==d,C=b&&E?h:y,T=`${v} ${C}`,O=k(T),S=O.time,A=O.date,I=O.month,P=O.dateDetail;if(b)return c.charAt(0).toUpperCase()+c.slice(1);if(w&&A!==o&&A!==l){return P.toLocaleString(M(),n)}{const e=`${f} ${S}`;return A===o?`${s}${e}`:A===l?`${u}${e}`:`${A}.${I} ${e}`}};t.formatLabelText=P},74603:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.designerApiInit=function(){v.isDesignerEditor&&(C._dAPI=w)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(73727)),o=n(42908),a=i(n(14264)),s=i(n(14762)),l=i(n(27104)),u=i(n(26754)),c=i(n(75686)),d=n(47245),f=n(26932),p=n(65465),g=n(31694),h=i(n(4855)),_=n(81152),m=n(44145),v=n(52028),y=n(22932);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const E=h.default.name("DesignerApi"),C=(0,y.getPageWindow)(),T=(e,t)=>{window.parent._desingerConfig[e]=t},D=()=>{const e=c.default.getComponent(d.Component.ROOT_COMPONENT);e&&e.forceUpdate()},w={showChat(){E.log("showChat"),o.api.open()},showLabel(){E.log("closeChat"),o.api.close()},setAgent(e){E.log("setAgent",{params:e}),s.default.destroy(),s.default.push({agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl,body:{state:"join",unsave:!0}}),Object.assign(u.default,{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}),f.agentsDispatchers.addAgent({id:1,name:e.name,title:e.title,avatarUrl:e.avatarUrl,isBot:!1}),f.chatsDispatchers.setJoinedAgents([{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}]),f.chatsDispatchers.addJoinedAgent(1),D()},addMessages(e){E.log("addMessages",{messages:e});const t=[];e.forEach((e=>{t.push({from:e.from,from_id:"agent"===e.from?1:null,text:e.text,type:"message",status:"read",created_ts:(new Date).getTime(),body:{unsave:!0}})})),f.messagesDispatchers.addMessages(t)},updateAgent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;E.log("updateAgent",{params:e,id:t}),Object.assign(u.default,{agent_id:t,display_name:e.name,title:e.title,avatar_url:e.avatarUrl});const n=s.default.getAgentById(t);n&&(n.set("display_name",e.name),n.set("title",e.title),n.set("avatar_url",e.avatar_url)),f.agentsDispatchers.updateAgent({id:t,name:e.name,title:e.title,avatarUrl:e.avatarUrl})},editLastMessage(e){E.log("editLastMessage",{text:e});const t=a.default.getAgentMessages();if(t.length){t[t.length-1].set("text",e);const n=c.default.getComponent(d.Component.SCROLL_CONTAINER);n&&n.forceUpdate()}},cleanMessages(){E.log("cleanMessages"),a.default.destroy(),a.default.trigger("update")},setWidgetColor(e,t){E.log("setWidgetColor",{color:e,color2:t}),f.userDispatchers.setWidgetColor(e),f.userDispatchers.setWidgetColor2(t),D()},setDesktopSettings(e){E.log("setDesktopSettings",e),f.userDispatchers.setPowerGradient(e)},setMobileWidgetColor(e){E.log("setMobileWidgetColor",e),f.userDispatchers.setPowerButtonColor(e)},setCallbackColor(e){E.log("setCallbackColor",{color:e}),(0,r.setConfigParam)("callback_btn_color",e),f.userDispatchers.setCallbackButtonColor(e),D()},setBubbleColor(e){E.log("setBubbleColor",{color:e}),f.userDispatchers.setBubbleColor(e),(0,r.setConfigParam)("bubble_color",e),(0,v.runBind)("setBubbleColor"),D()},setPattern(e){E.log("setPattern",{pattern:e}),f.userDispatchers.setPattern(e),(0,r.setConfigParam)("pattern",e),D()},setWidgetPosition(e,t){E.log("setWidgetPosition",{orientation:e,padding:t});const n=+t;f.userDispatchers.setWidgetOrientation(e),f.userDispatchers.setWidgetPadding(n),(0,r.setConfigParam)("widget_orientation",e),(0,r.setConfigParam)("widget_padding",n),(0,v.runBind)("setWidgetPosition",{orientation:e,padding:n}),D()},setMobileWidgetOrientation(e){E.log("setMobileWidgetOrientation",e),f.userDispatchers.setWidgetMobileOrientation(e)},setMobileBottomOffset(e){E.log("setMobileBottomOffset",e);const t=e||null;f.userDispatchers.setMobileOffsetBottom(t)},setFontColor(e){E.log("setFontColor",{type:e}),"auto"===e&&(e=l.default.isLightColor(r.default.widget_color)?"dark":"light"),(0,r.setConfigParam)("widget_font_color",e),f.userDispatchers.setWidgetFontColor(e),D()},setFontSize(e){E.log("setFontSize",{size:e}),f.userDispatchers.setWidgetFontSize(e),(0,r.setConfigParam)("font_size",e),D()},setFontFamily(e){E.log("setFontFamily",{family:e}),f.userDispatchers.setWidgetFontFamily(e),(0,r.setConfigParam)("font_family",e),D()},setFontType(e){E.log("setFontType",{type:e}),f.userDispatchers.setWidgetFontType(e),(0,r.setConfigParam)("font_type",e),D()},setLabelBubble(e){E.log("setLabelBubble",{bool:e});const t=e?1:0;f.userDispatchers.setWidgetLabelBubble(t),(0,r.setConfigParam)("label_bubble",t)},setOnlineText(e){E.log("setOnlineText",{text:e}),f.userDispatchers.setOnlineLabel(e),(0,r.setConfigParam)("online_widget_label",e),(0,v.runBind)("setOnlineText",e)},setLabelText(e){E.log("setLabelText",{text:e}),"online"===r.default.chat_mode?(f.userDispatchers.setOnlineLabel(e),(0,r.setConfigParam)("online_widget_label",e)):(f.userDispatchers.setOfflineLabel(e),(0,r.setConfigParam)("offline_widget_label",e)),(0,v.runBind)("setLabelText",e)},setOfflineFormText(e){E.log("setOfflineFormText",{text:e});const t=(0,m.getLastMessageByType)(_.MessageType.FOR_TEST);t&&(f.messagesDispatchers.updateMessage({privateId:t.private_id},{text:e}),f.userDispatchers.setOfflineFormText(e),(0,r.setConfigParam)("offline_form_text",e),(0,v.runBind)("setOfflineFormText",e))},setChatOnline(){E.log("setChatOnline"),T("chat_mode","online"),(0,r.setConfigParam)("chat_mode","online"),(0,v.runBind)("setChatOnline"),D()},setChatOffline(){E.log("setChatOffline"),T("chat_mode","offline"),(0,r.setConfigParam)("chat_mode","offline"),(0,v.runBind)("setChatOffline"),D()},addPrechat(e){w.cleanPrechat(),E.log("addPrechat",{prechats:e}),(0,r.setConfigParam)("prechat",e),(0,r.setConfigParam)("enable_prechat",1),p.messageActions.pushPrechat(),f.featuresDispatchers.enablePrechat(!0),f.userDispatchers.setPrechat(e)},updatePrechats(e){if(E.log("updatePrechats",{prechats:e}),!e)return;c.default.getComponent(d.Component.PRECHAT)&&g.PrechatEmitter.emit("updatePrechatText",e)},cleanPrechat(){E.log("cleanPrechat"),p.messageActions.deletePrechatMsg(),a.default.trigger("update")},setMobileView(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).target;e?f.designerDispatchers.updateDesignerSettings({isMobileView:e,mobileRenderTarget:t}):f.designerDispatchers.updateDesignerSettings({isMobileView:!1,mobileRenderTarget:""})}}},52028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.designerBind=function(e,t){if(!o)return;void 0!==r[e]||(r[e]=[]),r[e].push(t)},t.isDesignerEditor=void 0,t.runBind=function(e,t){void 0!==r[e]&&r[e].forEach((e=>{e(t)}))};var i=n(97615);const r={},o=i.EnvironmentManager.isDesignerEditor();t.isDesignerEditor=o},19955:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664));i(n(4855)).default.name("Device");let a=function(){function e(t){(0,r.default)(this,e),this.userAgent=t,this._find=function(e){const t={};return function(){const n=arguments.length<=0?void 0:arguments[0];if(n in t)return t[n];{const i=e(n);return t[n]=i,i}}}(this._find.bind(this)),this.initialize(),this.initializeSupportedFeatures()}return(0,o.default)(e,[{key:"initialize",value:function(){this.isWindows=this._find("windows"),this.isOpera=this._find("opera")||this._find("opr")||this._find("presto"),this.isOperaMini=this.isOpera&&(this._find("mini")||this._find("opios")),this.isFirefox=this._find("firefox"),this.isChrome=this._find("chrome"),this.isChromeIOS=this._find("crios"),this.isHeyTap=this._find("heytapbrowser"),this.isSafari=this._find("safari")&&!this.isChrome&&!this.isChromeIOS&&!this.isHeyTap,this.isEdge=this._find("edge"),this.isIe=this._find("msie")||this._find("trident")||this.isEdge,this.isIeOrEdge=this.isIe||this._find("lumia"),this.isIpod=this._find("ipod"),this.isIpad=this._find("ipad")||this._find("macintosh")&&"ontouchend"in window,this.isIphone=!this.isWindows&&this._find("iphone"),this.isIos=this.isIphone||this.isIpod||this.isIpad,this.isAndroid=!this.isWindows&&this._find("android"),this.isAndroidPhone=this.isAndroid&&this._find("mobile"),this.isAndroidTablet=this.isAndroid&&!this._find("mobile"),this.isBlackberry=this._find("blackberry")||this._find("bb10")||this._find("rim"),this.isBlackberryPhone=this.isBlackberry&&!this._find("tablet"),this.isBlackberryTablet=this.isBlackberry&&this._find("tablet"),this.isWindowsPhone=this.isWindows&&this._find("phone"),this.isWindowsTablet=this.isWindows&&this._find("touch")&&!this.isWindowsPhone&&!this._find("trident"),this.isMobile=this.isAndroidPhone||this.isIphone||this.isIpod||this.isWindowsPhone||this.isBlackberryPhone,this.isTablet=this.isIpad||this.isAndroidTablet||this.isBlackberryTablet||this.isWindowsTablet,this.isMobileOrTablet=this.isMobile||this.isTablet,this.isDesktop=!this.isMobile&&!this.isTablet,this.isYandexBot=-1!==this.userAgent.search(/\+http:\/\/yandex\.com\/bots/gi),this.isGoogleBot=-1!==this.userAgent.search(/google/gi),this.isOperaMobile=this.isOperaMini||this.isOpera&&this.isMobileOrTablet;let e=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);e||(e=/version\/(\d+).(\d+)?/.exec(this.userAgent)),this.iosVer=e?parseFloat(e[1]+"."+e[2]):null,this.isMac=window.navigator.platform.includes("Mac");let t=/OS X (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);window.navigator.oscpu&&(t=/OS X (\d+)[._](\d+)([._])?(\d+)?/.exec(window.navigator.oscpu)),this.macVer=t?parseFloat(t[1]+"."+t[2]):null,this.device=null,this.isDesktop?this.device="desktop":this.isMobile?this.device="mobile":this.isTablet&&(this.device="tablet")}},{key:"initializeSupportedFeatures",value:function(){try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),this.isLocalStorageSupported=!0}catch(e){this.isLocalStorageSupported=!1}try{new File([],""),this.isImageResizeSupported="FileReader"in window&&"File"in window&&"Blob"in window}catch(e){this.isImageResizeSupported=!1}this.isCssVariablesSupported=window.CSS&&CSS.supports&&CSS.supports("color","var(--fake-var)")||!1,this.isWebAnimationApiSupported=!!window.KeyframeEffect,this.isPassiveListenersSupported=!1;try{var e=Object.defineProperty({},"passive",{get:()=>(this.isPassiveListenersSupported=!0,this.isPassiveListenersSupported)});window.addEventListener("test",null,e)}catch(e){this.isPassiveListenersSupported=!1}}},{key:"operaMini",value:function(){return this.isOperaMini}},{key:"firefox",value:function(){return this.isFirefox}},{key:"safari",value:function(){return this.isSafari}},{key:"chrome",value:function(){return this.isChrome}},{key:"ieOrEdge",value:function(){return this.isIeOrEdge}},{key:"ie",value:function(){return this.isIe}},{key:"edge",value:function(){return this.isEdge}},{key:"ios",value:function(){return this.isIos}},{key:"ipad",value:function(){return this.isIpad}},{key:"chromeIOS",value:function(){return this.isChromeIOS}},{key:"android",value:function(){return this.isAndroid}},{key:"windowsPhone",value:function(){return this.isWindowsPhone}},{key:"mobile",value:function(){return this.isMobile}},{key:"tablet",value:function(){return this.isTablet}},{key:"mobileOrTablet",value:function(){return this.isMobileOrTablet}},{key:"desktop",value:function(){return this.isDesktop}},{key:"iosVersion",value:function(){return this.iosVer}},{key:"macVersion",value:function(){return this.macVer}},{key:"getDevice",value:function(){return this.device}},{key:"supportsPassiveListeners",value:function(){return this.isPassiveListenersSupported}},{key:"supportsCssVariables",value:function(){return this.isCssVariablesSupported}},{key:"supportsWebAnimationApi",value:function(){return this.isWebAnimationApiSupported}},{key:"supportsImageResize",value:function(){return this.isImageResizeSupported}},{key:"supportsLocalStorage",value:function(){return this.isLocalStorageSupported}},{key:"supportsIMessage",value:function(){return(this.ios()||this.ipad())&&this.iosVersion()>=11.3}},{key:"isMacintosh",value:function(){return this.isMac}},{key:"supportsAbc",value:function(){return this.isMacintosh()&&this.macVersion()>=10.15}},{key:"yandexBot",value:function(){return this.isYandexBot}},{key:"googleBot",value:function(){return this.isGoogleBot}},{key:"isPointerEnabled",value:function(){return"PointerEvent"in window}},{key:"isTouchEnabled",value:function(){return"ontouchstart"in window}},{key:"_find",value:function(e){return-1!==this.userAgent.indexOf(e)}}]),e}();var s=new a(window.navigator.userAgent.toLowerCase());t.default=s},26411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(97615).EnvironmentManager.getAllowedFileTypes();var r=i&&i.length?i:[{extension:"rar",mimeType:"application/vnd.rar"},{extension:"tar",mimeType:"application/x-tar"},{extension:"7z",mimeType:"application/x-7z-compressed"},{extension:"djvu",mimeType:"image/vnd.djvu"},{extension:"json",mimeType:"application/json"},{extension:"log",mimeType:"text/plain"},{extension:"ppt",mimeType:"application/vnd.ms-powerpoint"},{extension:"xls",mimeType:"application/vnd.ms-excel"},{extension:"doc",mimeType:"application/msword"},{extension:"docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:"rtf",mimeType:"application/rtf"},{extension:"ttf",mimeType:"font/ttf"},{extension:"psd",mimeType:"image/vnd.adobe.photoshop"},{extension:"odt",mimeType:"application/vnd.oasis.opendocument.text"},{extension:"pdf",mimeType:"application/pdf"},{extension:"aac",mimeType:"audio/aac"},{extension:"avi",mimeType:"video/x-msvideo"},{extension:"csv",mimeType:"text/csv"},{extension:"epub",mimeType:"application/epub+zip"},{extension:"gz",mimeType:"application/gzip"},{extension:"gif",mimeType:"image/gif"},{extension:"ics",mimeType:"text/calendar"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"mp3",mimeType:"audio/mpeg"},{extension:"mpeg",mimeType:"video/mpeg"},{extension:"oga",mimeType:"audio/ogg"},{extension:"ogv",mimeType:"video/ogg"},{extension:"png",mimeType:"image/png"},{extension:"svg",mimeType:"image/svg+xml"},{extension:"txt",mimeType:"text/plain"},{extension:"vsd",mimeType:"application/vnd.visio"},{extension:"wav",mimeType:"audio/wav"},{extension:"weba",mimeType:"audio/webm"},{extension:"webm",mimeType:"video/webm"},{extension:"webp",mimeType:"image/webp"},{extension:"zip",mimeType:"application/zip"},{extension:"zip",mimeType:"application/x-zip-compressed"},{extension:"mp4",mimeType:"application/mp4"},{extension:"mp4",mimeType:"video/mp4"},{extension:"mp4a",mimeType:"audio/mp4"},{extension:"mov",mimeType:"video/quicktime"},{extension:"html",mimeType:"text/html"},{extension:"htm",mimeType:"text/html"},{extension:"css",mimeType:"text/css"},{extension:"ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:"odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:"pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];t.default=r},2439:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(73727)),s=n(12494),l=n(52274),u=n(21434),c=i(n(26411));let d=function(){function e(t){(0,r.default)(this,e),this.file=t,this.fileExtension=(0,u.fileName)(t.name).ext,this.fileMimeType=t.type,this.fileSize=t.size,this.reason=null,this.isExtendedEnabled=Boolean(a.default.enable_extended_file_transfer)}return(0,o.default)(e,[{key:"isValid",value:function(){return this.isAllowedFileSize()&&this.isAllowedExtensionAndMime()}},{key:"getReason",value:function(){return this.reason}},{key:"isAllowedExtensionAndMime",value:function(){if(!this.fileExtension)return this.reason=s.FileUploadError.NO_EXTENSION,!1;for(let e=0;e<c.default.length;e++){const t=c.default[e];if(t.extension===this.fileExtension.toLowerCase()&&t.mimeType===this.fileMimeType)return!0}return this.reason=s.FileUploadError.RESTRICTED_FILE_TYPE,!1}},{key:"isAllowedFileSize",value:function(){return!(this.fileSize>(this.isExtendedEnabled?l.MAX_EXTENDED_FILE_SIZE:l.MAX_FILE_SIZE))||(this.reason=s.FileUploadError.FILE_SIZE_EXCEEDED,!1)}}]),e}();t.default=d},69625:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.mediaUploader=void 0;var r=i(n(61125)),o=i(n(33119)),a=i(n(92664)),s=i(n(73727)),l=n(54415),u=n(83170),c=n(52274),d=n(44145),f=i(n(2439)),p=n(12494),g=n(83778),h=n(58271),_=n(53489),m=n(21434),v=n(20344),y=n(77294),b=n(81152),E=n(26932),C=n(95911);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w=i(n(4855)).default.name("MediaUploader");const O=new(function(){function e(){(0,o.default)(this,e),this.mediaMessage=null,this.sign=null,this.file_name=null,this.client_id=(0,d.getClient)().clientId?(0,d.getClient)().clientId.split(".")[0]:0,this.site_id=(0,d.getSystemSettings)().siteId,this.public_id=(0,d.getSystemSettings)().widgetId,this.currentQuery=null}return(0,a.default)(e,[{key:"getSignUrl",value:function(){return(0,y.getApiHost)().replace("code","auth")+"/api/1.0/auth/media/sign/put"}},{key:"getSign",value:async function(){w.warn("getSign");return await C.promisedRequest.get(this.getSignUrl(),{timeout:3e4,params:{file_name:this.file_name,client_id:(0,d.getClient)().clientId?(0,d.getClient)().clientId.split(".")[0]:0,site_id:this.site_id,public_id:this.public_id}}).then((e=>{const t=e.data;return this.metadata=t.metadata,this.sign=t.sign,this.ts=t.ts,this.media_server_url=t.url,l.Monitoring.telemetry(u.TelemetryName.MEDIA_SIGN,{param1:JSON.stringify(D(D({},t),{},{sign:t.sign[0]})),param2:this.file_name||"none"}),t})).catch((e=>{w.error("Upload file error",e),l.Monitoring.telemetry(u.TelemetryName.MEDIA_SIGN_ERROR),this.setMessageError(p.FileUploadError.REQUEST_FAILED)}))}},{key:"onUploadProgress",value:function(){const e=this.mediaMessage;var t;e&&(e.body.status===b.MediaStatus.ERROR&&(null===(t=this.currentQuery)||void 0===t||t.call(this)))}},{key:"uploadFile",value:async function(e,t){var n;w.warn("uploadFile");const i=(0,h.bytesToMB)(null!==(n=this.file.size)&&void 0!==n?n:5),r=3e4*Math.ceil(i),o=C.xhrRequest.put(`${this.media_server_url}/${this.file_name}?ts=${this.ts}&sign=${this.sign}&public`,((t,n)=>{if(w.warn("onLoad",t,n),t)return void this.setMessageError(p.FileUploadError.REQUEST_FAILED);const i=n.headers.location||n.headers.Location,r=this.mediaMessage;if(E.messagesDispatchers.updateMessage({privateId:r.private_id},{body:D(D({},r.body),{},{unsave:null})}),!i)return e(0),E.messagesDispatchers.updateMessage({privateId:r.private_id},{body:D(D({},r.body),{},{status:b.MediaStatus.ERROR,error:(0,v.l10n)("file_upl_error")})}),void l.Monitoring.telemetry(u.TelemetryName.FILE_UPLOAD_NO_LOCATION,{param1:this.file_name,param2:JSON.stringify(n.headers),param3:n.status});this.onSuccess({fullUrl:this.media_server_url+n.headers.location})}),{timeout:r,headers:{"Content-Type":this.file.type,"X-Metadata":this.metadata},body:this.file,onUpload:t=>{w.warn("onUpload",t.loaded),e&&e(t.loaded),this.onUploadProgress()}});this.currentQuery=()=>{null==o||o.abort(),null==t||t()}}},{key:"getError",value:function(e){if(e){let t=(0,v.l10n)("file_upl_error"),n=null;switch(e){case p.FileUploadError.FILE_SIZE_EXCEEDED:t=(0,v.l10n)("file_upl_error_max_size").replace("_FILESIZE_",(0,h.fileSize)(s.default.enable_extended_file_transfer?c.MAX_EXTENDED_FILE_SIZE:c.MAX_FILE_SIZE)),n={param1:p.FileUploadError.FILE_SIZE_EXCEEDED};break;case p.FileUploadError.UPLOAD_CANCELED:t=(0,v.l10n)("file_upl_cancel"),n={param1:p.FileUploadError.UPLOAD_CANCELED};break;case p.FileUploadError.NO_EXTENSION:t=(0,v.l10n)("file_upl_error_no_ext"),n={param1:p.FileUploadError.NO_EXTENSION};break;case p.FileUploadError.RESTRICTED_FILE_TYPE:t=(0,v.l10n)("file_upl_error"),n={param1:(0,m.fileName)(this.file.name).ext,param2:p.FileUploadError.RESTRICTED_FILE_TYPE};break;case p.FileUploadError.REQUEST_FAILED:n={param1:p.FileUploadError.REQUEST_FAILED}}return n&&l.Monitoring.telemetry(u.TelemetryName.FILE_UPLOAD_ERROR,n),t}}},{key:"setMessageError",value:function(e){const t=this.getError(e),n=this.mediaMessage;n&&E.messagesDispatchers.updateMessage({privateId:n.private_id},{body:D(D({},n.body),{},{status:b.MediaStatus.ERROR},t&&{error:t}),status:b.MessageStatus.DELIVERED})}},{key:"checkIfFileReadIsNeeded",value:function(e){if(w.warn("checkIfFileReadIsNeeded",e.type),"photo"===(0,g.detectType)(e.type)&&"FileReader"in window)try{return this.readFileContent(e),!0}catch(e){return this.setMessageError(),!1}}},{key:"checkFileInfo",value:function(e){const t=new f.default(e);if(t.isValid())return this.checkIfFileReadIsNeeded(e),!0;{const e=t.getReason();return this.setMessageError(e),!1}}},{key:"readFileContent",value:function(e){const t=new FileReader;t.onload=function(){const n=new Image;n.onload=function(){e.width=n.width,e.height=n.height,w.warn("readFileContent",e)},n.onerror=e=>{w.log("FileReader error",e),l.Monitoring.telemetry(u.TelemetryName.FILE_UPLOAD_ERROR,{param1:"image_generate_failed"})},n.src=t.result},t.onprogress=function(){},t.readAsDataURL(e)}},{key:"startUpload",value:async function(e,t,n,i,r){if(!t)return!1;if(this.file=t,this.file_name=(0,_.sanitize)(t.name),this.onSuccess=n,this.mediaMessage=e,this.checkFileInfo(t)){await this.getSign()&&await this.uploadFile(i,r)}}}]),e}());t.mediaUploader=O},99012:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.initCallTouch=function(){if(r.default.enable_calltouch){const e=(0,o.getPageWindow)(),t=(0,a.getClient)();if("function"==typeof e.ct){s.log("init");try{const n=e.ct("calltracking_params");n&&n.length&&n.forEach((n=>{const i=`{"site_id": ${r.default.site_id}, "widget_id": "${r.default.widget_id}", "visitor_id": "${t.visitorId}"}`;s.log("set attr:",i),e.ct(n.modId,"set_attrs",i)}))}catch(e){s.error("Fail to sync with calltouch",e)}}}};var r=i(n(73727)),o=n(22932),a=n(44145);const s=i(n(4855)).default.name("CallTouch","color: grey")},22618:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.initVideoForce=function(){const e=r.default.integrations;if(e&&e.videoforce){const t="https://widget.videoforce.io/";try{const n=document.createElement("script");n.src=t+e.videoforce,n.crossorigin="anonymous",n.async="true";const i=(0,o.getPageWindow)().jivo_cspNonce;i&&n.setAttribute("nonce",i);const r=(0,o.getPageWindow)().document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}catch(e){a.Monitoring.reportException(e)}}};var r=i(n(73727)),o=n(22932),a=n(54415)},55908:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(44733),s=n(99040);const l=i(n(4855)).default.name("AbTestManager");let u=null,c=function(){function e(){if((0,r.default)(this,e),u)return u;this.activeTest=null,this.storeName="abTests",this._initialize(),this._cleanUp(),u=this}return(0,o.default)(e,[{key:"testIsActive",value:function(e){return this.activeTest&&this.activeTest.name===e}},{key:"getActiveTest",value:function(){return this.activeTest?this.activeTest:null}},{key:"getGroup",value:function(e){return this.testIsActive(e)?this.activeTest.chosenGroup:null}},{key:"getNumberOfGroupsInTest",value:function(e){return this.testIsActive(e)?this.activeTest.numberOfGroups:null}},{key:"isInTestGroup",value:function(e,t){return this.getGroup(e)===t}},{key:"getActiveTestAsString",value:function(){return this.activeTest?`${this.activeTest.name},${this.activeTest.chosenGroup}`:null}},{key:"getActiveTestName",value:function(){return this.activeTest?this.activeTest.name:null}},{key:"getActiveTestGroup",value:function(){return this.activeTest?this.activeTest.chosenGroup:null}},{key:"_initialize",value:function(){if(s.ACTIVE_TEST){const e=this._getSavedTestGroup(s.ACTIVE_TEST.name);this.activeTest={name:s.ACTIVE_TEST.name,numberOfGroups:s.ACTIVE_TEST.groups,chosenGroup:e||this._getRandomGroupNumber(s.ACTIVE_TEST.groups)},a.StorageProvider.set(this.storeName,this.activeTest),l.log("Ab-testing is ebabled.",`TestName: ${this.getActiveTestName()}.`,`Group: ${this.getActiveTestGroup()}.`)}}},{key:"_getRandomGroupNumber",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"_getSavedTestGroup",value:function(e){const t=a.StorageProvider.get(this.storeName);return t&&t.name===e?t.chosenGroup:null}},{key:"_cleanUp",value:function(){this.activeTest||a.StorageProvider.remove(this.storeName)}}],[{key:"getInstance",value:function(){return u}}]),e}();t.default=c},97615:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentManager=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(87884),s=n(68403);const l=new(function(){function e(){(0,r.default)(this,e),this.env="production",this.version="137.10.0",this.loaderVersion="0.1",this.branch="HEAD_b6062c4",this.allowedFiles=JSON.parse('[{"extension":"7z","mimeType":"application/x-7z-compressed"},{"extension":"aac","mimeType":"audio/aac"},{"extension":"aiff","mimeType":"audio/aiff"},{"extension":"amr","mimeType":"audio/amr"},{"extension":"avi","mimeType":"video/avi"},{"extension":"avi","mimeType":"video/x-msvideo"},{"extension":"css","mimeType":"text/css"},{"extension":"csv","mimeType":"text/csv"},{"extension":"djvu","mimeType":"image/vnd.djvu"},{"extension":"doc","mimeType":"application/msword"},{"extension":"docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"extension":"epub","mimeType":"application/epub+zip"},{"extension":"gif","mimeType":"image/gif"},{"extension":"gz","mimeType":"application/gzip"},{"extension":"heic","mimeType":"image/heic"},{"extension":"heif","mimeType":"image/heif"},{"extension":"htm","mimeType":"text/html"},{"extension":"html","mimeType":"text/html"},{"extension":"ics","mimeType":"text/calendar"},{"extension":"ico","mimeType":"image/x-icon"},{"extension":"jpeg","mimeType":"image/jpeg"},{"extension":"jpg","mimeType":"image/jpeg"},{"extension":"json","mimeType":"application/json"},{"extension":"log","mimeType":"text/plain"},{"extension":"mid","mimeType":"audio/midi"},{"extension":"mov","mimeType":"video/quicktime"},{"extension":"mp3","mimeType":"audio/mpeg"},{"extension":"mp4","mimeType":"application/mp4"},{"extension":"mp4","mimeType":"video/mp4"},{"extension":"mp4a","mimeType":"audio/mp4"},{"extension":"mpeg","mimeType":"video/mpeg"},{"extension":"odp","mimeType":"application/vnd.oasis.opendocument.presentation"},{"extension":"ods","mimeType":"application/vnd.oasis.opendocument.spreadsheet"},{"extension":"odt","mimeType":"application/vnd.oasis.opendocument.text"},{"extension":"oga","mimeType":"audio/ogg"},{"extension":"ogg","mimeType":"audio/ogg"},{"extension":"ogv","mimeType":"video/ogg"},{"extension":"ogg","mimeType":"video/ogg"},{"extension":"ogg","mimeType":"application/ogg"},{"extension":"opus","mimeType":"audio/ogg"},{"extension":"pdf","mimeType":"application/pdf"},{"extension":"ai","mimeType":"application/pdf"},{"extension":"png","mimeType":"image/png"},{"extension":"pkpass","mimeType":"application/vnd.apple.pkpass"},{"extension":"ppt","mimeType":"application/vnd.ms-powerpoint"},{"extension":"pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"extension":"psd","mimeType":"image/vnd.adobe.photoshop"},{"extension":"rar","mimeType":"application/vnd.rar"},{"extension":"rar","mimeType":"application/x-rar-compressed"},{"extension":"rtf","mimeType":"application/rtf"},{"extension":"stl","mimeType":"application/vnd.ms-pki.stl"},{"extension":"stl","mimeType":"application/x-navistyle"},{"extension":"svg","mimeType":"image/svg+xml"},{"extension":"tar","mimeType":"application/x-tar"},{"extension":"ttf","mimeType":"font/ttf"},{"extension":"tgs","mimeType":"application/x-gzip"},{"extension":"txt","mimeType":"text/plain"},{"extension":"usdz","mimeType":"model/vnd.usdz+zip"},{"extension":"vsd","mimeType":"application/vnd.visio"},{"extension":"wav","mimeType":"audio/wav"},{"extension":"wav","mimeType":"audio/wave"},{"extension":"weba","mimeType":"audio/webm"},{"extension":"webm","mimeType":"video/webm"},{"extension":"webp","mimeType":"image/webp"},{"extension":"wmv","mimeType":"video/x-ms-wmv"},{"extension":"xls","mimeType":"application/vnd.ms-excel"},{"extension":"xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{"extension":"xml","mimeType":"text/xml"},{"extension":"zip","mimeType":"application/x-zip-compressed"},{"extension":"zip","mimeType":"application/zip"},{"extension":"yml","mimeType":"application/x-yaml"},{"extension":"yaml","mimeType":"application/x-yaml"},{"extension":"tiff","mimeType":"image/tiff"},{"extension":"tif","mimeType":"image/tiff"},{"extension":"cdr","mimeType":"image/cdr"},{"extension":"eps","mimeType":"image/x-eps"}]')||null,this.isDesigner=this._checkIfDesignerEditor(),this.isCampaignPopupConstructor=this._checkIfCampaignPopupConstructor(),this.isCampaignWidgetConstructor=this._checkIfCampaignWidgetConstructor(),this.isExtensions=this._checkIfWidgetExtensions()}return(0,o.default)(e,[{key:"isProduction",value:function(){return this.env===a.Environment.PRODUCTION}},{key:"isTesting",value:function(){return this.env===a.Environment.TESTING}},{key:"isDevelopment",value:function(){return this.env===a.Environment.DEVELOPMENT}},{key:"isSelfhosted",value:function(){return Boolean(!1)}},{key:"getVersion",value:function(){return this.version}},{key:"getLoaderVersion",value:function(){return this.loaderVersion}},{key:"getBranch",value:function(){return this.branch}},{key:"getAllowedFileTypes",value:function(){return this.allowedFiles}},{key:"getWindow",value:function(){return window.parent||window}},{key:"isPartnerApp",value:function(){return this.getWindow().jivo_partner||!1}},{key:"isDesignerEditor",value:function(){return this.isDesigner}},{key:"isPopupConstructor",value:function(){return this.isCampaignPopupConstructor}},{key:"isWidgetConstructor",value:function(){return this.isCampaignWidgetConstructor}},{key:"isExtensionsEnable",value:function(){return this.isExtensions}},{key:"isApp",value:function(){return new RegExp(/^(app|app3|app3alpha|app3beta)\.(jivosite\.com|jivo\.ru)$/i).test(this.getPageHost())}},{key:"getPageHost",value:function(){return this.getWindow().location.host}},{key:"isSignUpPage",value:function(){return new RegExp(/.*\/signup\.html/i).test(this.getWindow().location.pathname)}},{key:"isRegPage",value:function(){return this.isProduction()?this.isApp()&&this.isSignUpPage():this.isSignUpPage()}},{key:"isDesignerPage",value:function(){return this.getWindow()._jivoDesigner}},{key:"isCampaignPopupConstructorPage",value:function(){return this.getWindow()._jivoCampaignPopupConstructor}},{key:"isCampaignWidgetConstructorPage",value:function(){return this.getWindow()._jivoCampaignWidgetConstructor}},{key:"isExtensionsPage",value:function(){return this.getWindow()._jivoWidgetExtensions}},{key:"isJsApiAvaiable",value:function(){return!!(0,s.isPaidCustomer)()||(this.isApp()||this.isRegPage()||this.isSignUpPage()||this.isDesignerEditor()||this.isPopupConstructor()||this.isPartnerApp())}},{key:"_checkIfCampaignPopupConstructor",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isCampaignPopupConstructorPage())&&(t||!e)}},{key:"_checkIfCampaignWidgetConstructor",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isCampaignWidgetConstructorPage())&&(t||!e)}},{key:"_checkIfWidgetExtensions",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isExtensionsPage())&&(t||!e)}},{key:"_checkIfDesignerEditor",value:function(){const e=this.isProduction(),t=e&&this.isApp();return!(!this.isDesignerPage()||!t&&e&&!this.isSelfhosted())}}]),e}());t.EnvironmentManager=l},71323:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(19955)),s=n(54415),l=n(83170),u=n(26932),c=i(n(4855)),d=n(41504),f=i(n(73727)),p=n(49963);c.default.name("EulaManager");var g=new(function(){function e(){(0,r.default)(this,e),this.context=null,this.eulaLink=null}return(0,o.default)(e,[{key:"showEula",value:function(e,t,n){f.default.eula&&(u.appDispatchers.setShowEula(e),t&&(this.eulaLink=t),a.default.desktop()&&document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),n&&(this.context=n,s.Monitoring.telemetry(l.TelemetryName.EULA_SHOWN,{param1:n})))}},{key:"acceptEula",value:function(){if(u.clientDispatchers.setEulaAccepted(!0),"cb"===this.context){const e=new d.AcceptEula;p.connectionAdapter.isConnected()&&p.connectionAdapter.sendEvent(e)}s.Monitoring.telemetry(l.TelemetryName.EULA_ACCEPTED,{param1:this.context})}}]),e}());t.default=g},45493:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(19955));i(n(4855)).default.name("LoaderContextManager");let s=null;var l=function(){function e(t,n){if((0,r.default)(this,e),s)return s;this.appStore=n,this.appStore.addListener((()=>{this.updateChatStarted()})),this.storeName="jv_loader_info_"+t,this.store={},a.default.supportsLocalStorage()&&(this.store=JSON.parse(localStorage.getItem(this.storeName))||{}),s=this}return(0,o.default)(e,[{key:"setInStore",value:function(e,t){this.store[e]=t,this.saveStore()}},{key:"saveStore",value:function(){a.default.supportsLocalStorage()&&localStorage.setItem(this.storeName,JSON.stringify(this.store))}},{key:"updateChatStarted",value:function(){this.store.isChatStarted!==this.appStore.chat_started&&(this.store.isChatStarted=this.appStore.chat_started,this.saveStore())}}],[{key:"getInstance",value:function(){return s}}]),e}();t.default=l},74619:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(22932),s=i(n(4855)),l=n(21951);const u=s.default.name("ObserverManager");let c=function(){function e(t){(0,r.default)(this,e),"function"==typeof MutationObserver&&(this.currentTitle=this.getTitle(),this.currentHref=this.getHref(),this.currentPath=this.getPathName(),this.observer=new MutationObserver((()=>{var e,n;this.getTitle()!==this.currentTitle&&(this.currentTitle=this.getTitle(),u.log("title changed",this.currentTitle),null===(e=t.onTitleChange)||void 0===e||e.call(t));this.getPathName()!==this.currentPath&&(this.currentHref=this.getHref(),this.currentPath=this.getPathName(),u.log("location also changed",this.currentHref,this.currentPath),null===(n=t.onUrlChange)||void 0===n||n.call(t))})),this.observer.observe((0,a.getPageWindow)().document,{subtree:!0,childList:!0}),(0,l.addListener)(window,"beforeunload",this.disconnect),(0,l.addListener)(window,"jBeforeunload",this.disconnect))}return(0,o.default)(e,[{key:"getTitle",value:function(){return(0,a.getPageWindow)().document.title}},{key:"getHref",value:function(){return(0,a.getPageWindow)().location.href}},{key:"getPathName",value:function(){return(0,a.getPageWindow)().location.pathname}},{key:"disconnect",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}}]),e}();t.Observer=c},16500:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(21951),s=n(32183);const l=i(n(4855)).default.name("PageVisibilityManager");var u=new(function(){function e(){(0,r.default)(this,e),this.pageVisible=(0,s.pageVisible)(),this.subscribers=[],(0,a.listenVisibility)((()=>{this.pageVisible=(0,s.pageVisible)(),l.log("Page visibility changed to:",this.pageVisible),this.fireSubscriptions(this.pageVisible)}))}return(0,o.default)(e,[{key:"fireSubscriptions",value:function(e){this.subscribers.forEach((t=>{t(e)}))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((t=>{if(t!==e)return t}))}}]),e}());t.default=u},51094:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(26932),s=n(62168);const l=i(n(4855)).default.name("PermissionManager");var u=function(){function e(){(0,r.default)(this,e),this.allowedMics=[],this.allMics=[],this.allSpeakers=[],this.getAllDevices()}return(0,o.default)(e,[{key:"checkAudio",value:async function(){if(!navigator.mediaDevices)return l.warn("can't check mic access - old browser"),a.permissionsDispatchers.updatePermission(s.Permission.AUDIO,s.PermissionStatus.BLOCKED),s.PermissionStatus.BLOCKED;{await this.getAllDevices(),l.log("start check mic access");let e=null;try{e=await navigator.mediaDevices.getUserMedia({audio:!0}),l.log("mic is allowed");const t=e.getTracks();return t.forEach((e=>e.stop())),this.allowedMics=t,a.permissionsDispatchers.updatePermission(s.Permission.AUDIO,s.PermissionStatus.ALLOWED),s.PermissionStatus.ALLOWED}catch(e){return l.warn("mic is not allowed",e),a.permissionsDispatchers.updatePermission(s.Permission.AUDIO,s.PermissionStatus.BLOCKED),s.PermissionStatus.BLOCKED}}}},{key:"getAllDevices",value:async function(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){const e=await navigator.mediaDevices.enumerateDevices();this.allMics=e.filter((e=>"audioinput"===e.kind)),this.allSpeakers=e.filter((e=>"audiooutput"===e.kind))}}}]),e}();t.default=u},50216:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(73727),s=n(83170),l=i(n(4855)),u=n(26932),c=n(64123),d=n(95911),f=n(22932),p=n(62096),g=n(54415),h=n(49963);const _=l.default.name("RecaptchaManager");let m=null,v=function(){function e(t){(0,r.default)(this,e),this.token=t,this.recaptchaWidgetIndex=null,this.grecaptcha=null,this.blocked=null,m=this}return(0,o.default)(e,[{key:"isBlocked",value:function(){return this.blocked}},{key:"addRecaptchaToPage",value:function(){_.log("Insertion of reCaptcha code",this.token);const e=(0,f.getPageWindow)(),t=e.document.head,n=e.document.createElement("script");n.async=!0,n.src="//google.com/recaptcha/api.js?render=explicit&onload=jivo_onRecaptchaLoadCallback",e.jivo_onRecaptchaLoadCallback=this.onLoadCallback.bind(this),t.appendChild(n)}},{key:"onLoadCallback",value:function(){_.log("onLoadCallback"),this.grecaptcha=(0,f.getPageWindow)().grecaptcha,this.recaptchaWidgetIndex=this.grecaptcha.render({sitekey:this.token,badge:"bottomleft"}),h.connectionAdapter.openConnect()}},{key:"getGRecaptchaToken",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.action;return _.log("getGRecaptchaToken: request token"),this.grecaptcha.execute(this.recaptchaWidgetIndex,{action:t})}},{key:"getJivoAntispamToken",value:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"startup";_.log("getJivoAntispamToken",n),this.grecaptcha.ready((()=>{_.log("GRECAPTCHA READY: Request token"),this.getGRecaptchaToken({action:n}).catch((e=>{this.onTokenFailure(e,t)})).then((n=>{this.onTokenSuccess(n,e,t)}))}))}},{key:"getRecaptchaHandleUrl",value:function(e){const t=p.reduxStore.getState(),n=(0,a.getConfig)(),i=n.base_url,r=n.widget_id;return(0,f.getProtocol)()+i+`/script/recaptcha-token/${encodeURIComponent(r)}?visitor_id=${encodeURIComponent(t.client.visitorId)}&token=${encodeURIComponent(e)}`}},{key:"onTokenSuccess",value:function(e,t,n){e&&(_.log("JivoAntispamToken REQUEST SUCCESS: GRecaptcha token received",e),d.xhrRequest.get(this.getRecaptchaHandleUrl(e),((e,i)=>{if(e)return g.Monitoring.telemetry(s.TelemetryName.RECAPTCHA_ERROR,{param1:"Server error: "+JSON.stringify(e)});const r=i.data;return r.ok&&r.token?(u.clientDispatchers.setCaptchaToken(r.token),g.Monitoring.telemetry(s.TelemetryName.RECAPTCHA_SUCCESS,{param1:r.score}),_.log("Recaptcha request is successful"),t&&t()):r.ok?void 0:(g.Monitoring.telemetry(s.TelemetryName.RECAPTCHA_FAILURE,{param1:r.score,param2:null===(o=r.reason)||void 0===o?void 0:o.join(",")}),_.log("Recaptcha request is unsuccessful"),this.block(),setTimeout((()=>{(0,c.enableRecaptchaAntispam)()}),1500),n&&n());var o})))}},{key:"onTokenFailure",value:function(e,t){_.log("Execution error",e),g.Monitoring.telemetry(s.TelemetryName.RECAPTCHA_ERROR,{param1:"Client error: "+JSON.stringify(e)}),t&&t(e)}},{key:"block",value:function(){this.blocked=!0}}],[{key:"getInstance",value:function(){return m}}]),e}();var y=v;t.default=y},75686:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664));var a=new(function(){function e(){(0,r.default)(this,e),this.refs={},this.observers={}}return(0,o.default)(e,[{key:"set",value:function(e,t){e&&t&&(this.refs[e]=t,this._fire(e))}},{key:"get",value:function(e){if(e&&this.refs[e])return this.refs[e].base?this.refs[e].base:this.refs[e]}},{key:"getComponent",value:function(e){return this.refs[e]}},{key:"subscribe",value:function(e,t){this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t)}},{key:"unsubscribe",value:function(e,t){this.observers[e]=this.observers[e].filter((e=>{if(e!==t)return e}))}},{key:"_fire",value:function(e){this.observers[e]||(this.observers[e]=[]),this.observers[e].forEach((e=>{e()}))}}]),e}());t.default=a},46902:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioBufferStore=void 0;var r=i(n(33119)),o=i(n(92664));const a=new(function(){function e(){(0,r.default)(this,e),this.audioBuffers={},this.mp3BuffersLengths={notification:5808,agent_message:3760,outgoing_message:5014},this.oggBufferLengths={notification:6140,agent_message:6464,outgoing_message:7165}}return(0,o.default)(e,[{key:"set",value:function(e,t){this.audioBuffers[e]=t}},{key:"get",value:function(e){return this.audioBuffers[e]||null}},{key:"getReadyAudioBuffersCount",value:function(){return Object.keys(this.audioBuffers).length}},{key:"getReferenceBufferLength",value:function(e,t){switch(t){case"mp3":return this.mp3BuffersLengths[e];case"ogg":return this.oggBufferLengths[e]}}}]),e}());t.AudioBufferStore=a},39933:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLAudioSoundManager=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(7819)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=n(14433),d=n(21951),f=n(54415),p=i(n(19955)),g=i(n(75686)),h=n(47245);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}const m=i(n(4855)).default.name("HTMLAudioSoundManager");let v=function(e){(0,s.default)(n,e);var t=_(n);function n(e){var i;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.default)(this,n),(i=t.call(this,e,o)).touchListenerTimeout=null,i.soundNodes={},i._windowOnClicked,i._mobileHackHandler=i._mobileHackHandler.bind((0,a.default)(i)),i}return(0,o.default)(n,[{key:"initSoundPlayer",value:function(){m.log("Initialization started"),this.disabled||(this.soundNodes={agent_message:g.default.get(h.Component.SOUND_AGENT_MESSAGE),notification:g.default.get(h.Component.SOUND_NOTIFICATION),outgoing_message:g.default.get(h.Component.SOUND_OUTGOING_MESSAGE)},p.default.mobileOrTablet()&&this._addHackListeners([window.parent,window],"click",this._mobileHackHandler))}},{key:"play",value:function(e,t){if(this.disabled)return void m.log(`Cannot play sound "${e}". SoundManager is disabled.`);const n=this.soundNodes[e];if(n&&void 0!==n.play)try{(p.default.ios()||p.default.safari())&&n.load();const i=n.play();this._promisesSupported(i)?t?i.then((()=>{this._pause(e)})):i.catch((t=>{this.touchListenerTimeout||(this._windowOnClicked=this._windowOnClicked.bind(this,e),p.default.mobileOrTablet()&&this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler),this._addHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=setTimeout((()=>{this._removeHackListeners([window.parent,window],"click",this._windowOnClicked)}),3e3))})).then():t&&this._pause(e)}catch(e){f.Monitoring.reportException(e)}}},{key:"_pause",value:function(e){if(this.disabled)return;const t=this.soundNodes[e];void 0!==t.pause&&t.pause()}},{key:"_promisesSupported",value:function(e){return("object"==typeof e||"function"==typeof e)&&e.then&&"function"==typeof e.then}},{key:"_windowOnClicked",value:function(e){this.play(e),clearTimeout(this.touchListenerTimeout),this._removeHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=null}},{key:"_mobileHackHandler",value:function(){this._mobileHack(),this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler)}},{key:"_mobileHack",value:function(){this.play(this.sounds[1],!0)}},{key:"_addHackListeners",value:function(e,t,n){e.forEach((e=>(0,d.addListener)(e,t,n)))}},{key:"_removeHackListeners",value:function(e,t,n){e.forEach((e=>(0,d.removeEvent)(e,t,n)))}}]),n}(c.SoundManagerBase);t.HTMLAudioSoundManager=v},21201:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundDownloader=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(83778),s=n(67597),l=n(54415),u=n(69479),c=n(46902),d=n(97615),f=n(95911);const p=i(n(4855)).default.name("SoundDownloader");let g=function(){function e(t){(0,r.default)(this,e),this.audioContext=t,this.soundValidator=new u.SoundValidator,this.exceptionReported=!1}return(0,o.default)(e,[{key:"downloadSounds",value:function(e,t){e.forEach((e=>{this.download(e,t)}))}},{key:"download",value:function(e,t){f.xhrRequest.get(this._getUrl(e,t),((n,i)=>{if(n)return this._handleDownloadError(n,e,t);const r=this.soundValidator.validate(e,t,i.data);if(r.success)this._decodeBuffer(i.data,e,t);else if(r.error){this._fallback(e,t)||(l.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"validation"},5),p.warn(r.error))}}),{responseType:"arraybuffer"})}},{key:"_getUrl",value:function(e,t){const n=(d.EnvironmentManager.isDevelopment()?"/public":"")+`/sounds/${e}.`;return(0,s.staticUrl)(n+t,!0)}},{key:"_decodeBuffer",value:function(e,t,n){this.audioContext.decodeAudioData(e,(e=>{c.AudioBufferStore.set(t,e)}),(e=>{this._handleDecodeBufferError(e,t,n)}))}},{key:"_handleDownloadError",value:function(e,t,n){this._fallback(t,n)||(l.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"download"},5),p.warn(`Error downloading arrayBuffer for sound "${t}.${n}". Reason: ${e.code} ${e.text}`))}},{key:"_handleDecodeBufferError",value:function(e,t,n){this._fallback(t,n)||(l.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"decode"},5),p.warn(`Error decoding arrayBuffer for sound "${t}.${n}". Reason: ${e}`))}},{key:"_fallback",value:function(e,t){const n=this._getFallbackExtension(t);return!!n&&(l.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"fallback"},5),this.download(e,n),!0)}},{key:"_getFallbackExtension",value:function(e){return"mp3"===e?"ogg":null}},{key:"_reportErrorMessageOnce",value:function(e){this.exceptionReported||((0,a.reportException)(e),this.exceptionReported=!0)}}]),e}();t.SoundDownloader=g},14433:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundManagerBase=void 0;var r=i(n(33119)),o=i(n(92664));const a=i(n(4855)).default.name("SoundManagerBase");let s=function(){function e(t,n){(0,r.default)(this,e),this.disabled=n,this.sounds=t}return(0,o.default)(e,[{key:"initSoundPlayer",value:function(){a.log("initSoundPlayer method is NOT implemented!")}},{key:"enableSoundPlayer",value:function(){this.disabled=!1}},{key:"disableSoundPlayer",value:function(){this.disabled=!0}},{key:"play",value:function(e){a.log("play method is NOT implemented!")}}]),e}();t.SoundManagerBase=s},69479:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundValidator=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(46902);let s=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"validate",value:function(e,t,n){let i;return n?n instanceof ArrayBuffer?this._isValidBufferLength(e,t,n)?{success:!0,error:null}:(i=new Error(`ArrayBuffer byteLength for sound "${e}.${t}" is ${n.byteLength}, should be ${a.AudioBufferStore.getReferenceBufferLength(e,t)}.`),{success:!1,error:i}):(i=new Error(`ArrayBuffer for sound "${e}.${t}" is not an instance of ArrayBuffer.`),{success:!1,error:i}):(i=new Error(`No arrayBuffer for sound "${e}.${t}"`),{success:!1,error:i})}},{key:"_isValidBufferLength",value:function(e,t,n){return n.byteLength===a.AudioBufferStore.getReferenceBufferLength(e,t)}}]),e}();t.SoundValidator=s},50725:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.WebAudioSoundManager=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=n(14433),c=n(54415),d=i(n(19955)),f=i(n(4855)),p=n(21201),g=n(46902);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}const _=f.default.name("WebAudioSoundManager");let m=function(e){(0,a.default)(n,e);var t=h(n);function n(e){var i;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.default)(this,n),(i=t.call(this,e,o)).audioContext=null,i.soundDownloader=null,i}return(0,o.default)(n,[{key:"initSoundPlayer",value:function(){if(_.log("Initialization started"),this.disabled||this._checkIfIsInitialized())return;const e=d.default.firefox()?"ogg":"mp3";this.audioContext=this._createAudioContext(),this.soundDownloader=new p.SoundDownloader(this.audioContext),this.soundDownloader.downloadSounds(this.sounds,e)}},{key:"play",value:function(e){!this.disabled&&this._checkIfIsInitialized()?(this.audioContext||(_.log("AudioContext was created on play"),this.audioContext=this._createAudioContext()),"suspended"===this.audioContext.state?this.audioContext.resume().then((()=>{_.log("AudioContext was resumed"),this._startBufferAudio(e)})):this._startBufferAudio(e)):_.log(`Cannot play sound "${e}". SoundManager is either disabled or is not initialized.`)}},{key:"_createAudioContext",value:function(){_.log("Creating AudioContext");try{let e=window.AudioContext||window.webkitAudioContext;if(e){return new e}}catch(e){let t=new Error(`Exception during the creation of audio context. ${e.message}`);return c.Monitoring.reportException(t),this.disableSoundPlayer(),null}}},{key:"_startBufferAudio",value:function(e){let t=g.AudioBufferStore.get(e);if(t){let n=this.audioContext.createBufferSource();if(n)n.buffer=t,n.connect(this.audioContext.destination),n.start();else{let t=new Error(`Error creating buffer source for sound "${e}".`);c.Monitoring.reportException(t),this.disableSoundPlayer()}}else{let t=new Error(`Error there is no audiobuffer for sound "${e}".`);c.Monitoring.reportException(t),this.disableSoundPlayer()}}},{key:"_checkIfIsInitialized",value:function(){return this.sounds.length===g.AudioBufferStore.getReadyAudioBuffersCount()&&(this.soundDownloader=null,!0)}}]),n}(u.SoundManagerBase);t.WebAudioSoundManager=m},25528:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isSoundPlayerDisabled=void 0;var r=i(n(73687)),o=n(47060),a=i(n(19955)),s=n(44145),l=n(97615);t.isSoundPlayerDisabled=()=>a.default.operaMini()||(0,s.getApp)().route===o.Route.HIDDEN||r.default.get("is_blacklisted")||l.EnvironmentManager.isWidgetConstructor()||(0,s.getFeatures)().disableSounds},71277:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isSoundDisabled=t.default=t.WebAudioDisabled=t.Sounds=void 0;var r=i(n(19955)),o=n(50725),a=n(39933),s=n(25528);const l=["agent_message","notification","outgoing_message"];t.Sounds=l;const u=!function(){if(!r.default.mobileOrTablet()||!window.AudioContext&&!window.webkitAudioContext||r.default.ieOrEdge())return!1;{const e=window.AudioContext||window.webkitAudioContext;try{return(new e).close(),!0}catch(e){return!1}}}();t.WebAudioDisabled=u;const c=(0,s.isSoundPlayerDisabled)();t.isSoundDisabled=c;var d=u?new a.HTMLAudioSoundManager(l,c):new o.WebAudioSoundManager(l,c);t.default=d},22541:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(22932),s=n(20344);const l=i(n(4855)).default.name("TitleManager");var u=new(function(){function e(t,n){(0,r.default)(this,e),this.originalTitle=t,this.jivoTitle=n,this.titleShown=!1,this.timer=null}return(0,o.default)(e,[{key:"getTitle",value:function(){return(0,a.getPageWindow)().document.title}},{key:"startBlinking",value:function(){clearInterval(this.timer),this.timer=setInterval((()=>{let e;this.titleShown?e=this.originalTitle:(this.originalTitle=this.getTitle(),e=this.jivoTitle),this.changeTitle(e),this.titleShown=!this.titleShown}),1e3)}},{key:"stopBlinking",value:function(){clearInterval(this.timer);const e=this.getTitle();e!==this.originalTitle&&e!==this.jivoTitle&&(this.originalTitle=e),this.changeTitle(this.originalTitle),this.titleShown=!1}},{key:"changeTitle",value:function(e){(0,a.getPageWindow)().document.title=e,l.log("Title changed to:",e)}}]),e}())((0,a.getPageWindow)().document.title,(0,s.l10n)("lblNewMessage"));t.default=u},40202:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(73727)),s=i(n(38121));i(n(4855)).default.name("TransitionManager");let l=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"getEmptyTransition",value:function(){return s.default.NoTransition}},{key:"getTransitionByName",value:function(e){return"function"==typeof s.default[e]?s.default[e]((()=>{let e=window.parent.document.getElementById("jvlabelWrap");if(e){if("bottom"===a.default.widget_orientation)return{marginRight:e.style.marginRight,width:e.offsetWidth,height:e.offsetHeight};if("right"===a.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth};if("left"===a.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth}}return 0})()):s.default[e]}}]),e}();t.default=l},47914:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(75686)),s=n(47245),l=n(2982),u=i(n(19955)),c=n(52274),d=i(n(4855)),f=n(73262),p=n(22932),g=n(21951),h=n(75998);const _=d.default.name("WindowResizeManager");let m=null,v=function(){function e(t){if((0,r.default)(this,e),m)return m;this.handler=(0,f.throttle)(this.resizeHandler.bind(this),100),(0,g.addListener)((0,p.getPageWindow)(),"resize",this.handler),m=this,this.onResize=t,this.lastHeight=null,this.container=null}return(0,o.default)(e,[{key:"destroy",value:function(){(0,g.removeEvent)((0,p.getPageWindow)(),"resize",this.handler)}},{key:"resizeHandler",value:function(){const e=a.default.get(s.Component.WIDGET_CONTAINER);if(_.log("resizeHandler"),!e)return;if(e&&!e.style)return;this.container=e;const t=parseInt((0,l.getProperty)("right",e))||0,n=parseInt((0,l.getProperty)("left",e))||0,i=parseInt((0,l.getProperty)("height",e))||0,r=t+n+c.CHAT_WIDTH+28,o=(0,p.getPageWindow)().document.body.clientWidth,d=(0,p.getPageWindow)().innerHeight-30;if(r>o)h.positionDispatch.initPositionStore({height:i>d?d<c.MINIMAL_WIDGET_HEIGHT?`${c.MINIMAL_WIDGET_HEIGHT}px`:`${d}px`:`${i}px`,left:this.getNewValue(n,r,o,40),right:this.getNewValue(t,r,o,30)});else if(i>d){const e=d<c.MINIMAL_WIDGET_HEIGHT?`${c.MINIMAL_WIDGET_HEIGHT}px`:`${d}px`;h.positionDispatch.setWidgetHeight(e)}if(this.onResize){const t=getComputedStyle(e);t&&this.lastHeight!==t.height&&(this.onResize({width:c.CHAT_WIDTH+"px",height:t.height}),this.lastHeight=t.height)}u.default.safari()&&!u.default.mobileOrTablet()&&(0,f.throttle)(this.updateKeyFrames,200)}},{key:"updateKeyFrames",value:function(){this.container&&(0,l.updateKeyframes)(this.container)}},{key:"getNewValue",value:function(e,t,n,i){if(!e)return null;let r=e-(t-n);return r<i&&(r=i),`${r}px`}}],[{key:"getInstance",value:function(){return m}}]),e}();t.default=v},49594:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMessagesFromHistory=b,t.getMsgHistory=y,t.updateEditedMessages=E,t.updateHistory=function(e){const t=(0,_.getApp)(),n=t.lastMsgId,i=t.started,o=!!e.jv_client_id,a=e.last_msg_id&&n!==e.last_msg_id;v.log("updateHistory",e),o&&a&&y(e,(()=>{}));i||r.cssLoader.subscribe((()=>{f.default.getInstance().start()}),(()=>{f.default.getInstance().stop()}))};var r=n(33180),o=i(n(4855)),a=n(96879),s=(n(47060),i(n(14264))),l=i(n(86961)),u=n(81152),c=n(54415),d=n(26932),f=i(n(35802)),p=i(n(19955)),g=n(83170),h=n(15787),_=n(44145),m=i(n(22866));const v=o.default.name("MessageHistory");function y(e,t){v.log("getMsgHistory",e);const n=(new Date).getTime();l.default.getHistoryMessages("messages",{},((i,r)=>{if(i)return function(e,t,n){v.log("handleError",e),t();const i=Math.round(((new Date).getTime()-n)/1e3);c.Monitoring.telemetry(g.TelemetryName.API_GET_MESSAGES_ERROR,{param1:i,param2:(0,_.getSystemSettings)().chatHost}),i>=3&&c.Monitoring.telemetry(g.TelemetryName.API_GET_MESSAGES_ERROR_TIMEOUT,{param1:i,param2:(0,_.getSystemSettings)().chatHost})}(i,t,n);const o=r.data;if(v.log("receive new history",o),m.default.getInstance().saveMessageHistory("lastMessageHistoryRequest",r),o.result){const n=o.result;l=n.chat_opened,v.log("setWidgetStatus",l),d.appDispatchers.setChatStarted(l||!1),l||(s.default.closeChat(),d.appDispatchers.setChatAccepted(!1),d.clientDispatchers.updateClient({departmentId:null})),function(e,t,n){if(v.log("handleMessages",e),e&&e.length){const i=function(){v.log("getLastMessage");const e=s.default.filter((e=>{const t=e.get("from");return(t===u.MessageInitiator.CLIENT||t===u.MessageInitiator.AGENT)&&e.get("msg_id")}));return e[e.length-1]}(),r=function(e){v.log("getLastMessageId",e);let t=e?e.get("msg_id"):null;e||(e=s.default.getLastProactive())&&(t=e.get("msg_id"));return t}(i),o=e.filter((e=>{const t=(0,a.filterMessage)(e);return e.type===u.MessageType.PROACTIVE&&i&&i.get("type")===u.MessageType.PROACTIVE&&i.destroy(),t&&r!==e.msg_id}));if(o.forEach((e=>{if(e.deleted)e.status=u.MessageStatus.DELETED;else{v.log("add item from history",e);const t=1e3*e.created_ts,n=1e3*e.updated_ts;e.created_ts=t,e.updated_ts&&(e.updated_ts=n),e.status=e.status?e.status:u.MessageStatus.DELIVERED,e.status===u.MessageStatus.SEEN&&(e.status=u.MessageStatus.READ),e.type===u.MessageType.EMAIL&&(e.type=u.MessageType.MESSAGE),e.media&&(e.media.status=u.MediaStatus.COMPLETE)}})),"resume_ok"===n&&!p.default.mobileOrTablet()&&o.length&&(0,h.openChatOnMessage)({fromHistory:!0}),d.messagesDispatchers.addMessages(o),t){const t=!!o.length;let n=(t?o:e).slice(-1)[0],i=n.chat_id,r=n.created_ts;t||(r*=1e3),(0,h.needToRateForm)(i,r)}c.Monitoring.telemetry(g.TelemetryName.API_GET_MESSAGES_RECEIVED,{param1:(0,_.getSystemSettings)().chatHost})}}(n.messages,n.chat_rate_requested,e.name),b(n.messages),E(n.messages),e&&d.appDispatchers.setLastMsgId(e.last_msg_id),t(n)}else v.error("Empty history data"),t();var l}))}function b(e){const t=e.filter((e=>e.deleted));t.length&&t.forEach((e=>{const t=s.default.getMessageById(e.msg_id);t&&t.set({status:u.MessageStatus.DELETED,type:u.MessageType.MESSAGE,body:null})}))}function E(e){const t=e.filter((e=>!e.deleted));t.length&&t.forEach((e=>{const t=s.default.getMessageById(e.msg_id);t&&e.updated_ts&&(v.warn("message edited: ",t.toJSON()),t.set({updated_ts:1e3*e.updated_ts,text:e.text}))}))}},82726:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addMessagesOnChatOpen=void 0,t.cleanTempProactive=function(){O.log("cleanTempProactive");const e=a.default.getTmpProactive(),t=a.default.getLastMessage(),n=t?t.get("from"):null,i=h.MessageInitiator.AGENT,r=h.MessageInitiator.CLIENT,o=h.MessageInitiator.FORM;t&&e&&e.get("body")&&e.get("body").unsave&&-1!==[i,r,o].indexOf(n)&&e!==t&&(e.destroy(),s.default.reload(),s.default.agent_id=0);(0,l.prechatEnabled)()&&a.default.getClientMessages()&&a.default.getClientMessages().length&&u.messageActions.deletePrechatMsg()},t.getMessagesGroup=S,t.getScrollToFormState=function(e){const t=(0,T.getFormMessage)(),n=(0,T.getFormIntroduceText)();if(t){if(n){const t=e?(0,r.l10n)("lblIntroduceRequest"):(0,r.l10n)("offlineIntroductionText");_.messagesDispatchers.updateMessage({privateId:n.private_id},{created_ts:(new Date).getTime(),text:t})}return _.messagesDispatchers.updateMessage({privateId:t.private_id},{created_ts:(new Date).getTime()}),a.default.sort(),c.Monitoring.telemetry(d.TelemetryName.CHAT_INTRODUCE,{param1:"btnform"}),{hideScrollButton:!0,messagesGroups:S()}}},t.onWrapTouch=function(e){if(o.default.mobileOrTablet()){if(o.default.safari())return;const t=(0,w.getPageWindow)().document.activeElement,n=p.Component.CHAT_INPUT,i=E.default.get(n);(0,b.isTextArea)(t)&&function(e){if(!e)return;return"none"!==e.style.display}(i)&&!(0,b.isParentA)(e)&&(O.log("onWrapTouch",t),setTimeout((()=>{t.blur()}),300))}},t.readMessages=void 0;var r=n(20344),o=i(n(19955)),a=i(n(14264)),s=i(n(26754)),l=n(55329),u=n(65465),c=n(54415),d=n(83170),f=n(9393),p=n(47245),g=i(n(4855)),h=n(81152),_=n(26932),m=n(79641),v=i(n(23116)),y=n(15787),b=n(32183),E=i(n(75686)),C=n(91225),T=n(44145),D=n(81722),w=n(22932);const O=g.default.name("MessagesMainUtils");function S(){const e=[];let t,n,i,r,o=0;if((0,f.each)(a.default.getAll(),(a=>{const s=a.toJSON(),l=new Date(s.created_ts);let u=!1;!n||n.getMonth()===l.getMonth()&&n.getDate()===l.getDate()||(u=!0),s.type!==h.MessageType.MESSAGE||s.type!==i||s.from!==t||s.from_id!==r||u?(u&&(e.push([{type:h.MessageType.SEPARATOR,time:l.getTime(),from:h.MessageInitiator.SYSTEM}]),o++),e.push([a])):e[e.length-1].push(a),t=s.from,i=s.type,r=s.from_id,n=l})),a.default.store.length>0&&e.length>0){const t=e[0][0].get("created_ts"),n=(s=t,Math.round(Math.abs((s-(new Date).getTime())/864e5)));(o>0||n>=1)&&e.unshift([{type:h.MessageType.SEPARATOR,time:t,from:h.MessageInitiator.SYSTEM}])}var s;return e}t.readMessages=()=>{if(v.default.isActive){const e=(0,T.getChats)(),t=e[e.length?e.length-1:0],n=(0,T.getUnreadMessages)(),i=(0,T.getSystemUnread)(),r=[];if(n.forEach((e=>{const t=e.msg_id;(0,m.isNumber)(t)&&!r.includes(t)&&r.push(t)})),r.length&&_.messagesDispatchers.updateMessages({messageIds:r},{status:h.MessageStatus.READ}),i.length){const e=i.map((e=>e.private_id));_.messagesDispatchers.updateMessages({privateIds:e},{status:h.MessageStatus.READ})}if(r.length&&(0,C.isChatInputRoute)((0,T.getApp)().route)){const e=t.id?t.id:r[0].chat_id;(0,y.agentMessageRead)(r,e)}}};t.addMessagesOnChatOpen=()=>{const e=(0,T.getApp)().maintenance;!e&&(0,D.isOfflineCanSend)()&&0===a.default.getFormMessage().length&&u.messageActions.startFormSequence((0,r.l10n)("offlineIntroductionText")),e&&u.messageActions.addMaintenanceMessage()}},54415:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Monitoring=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(75048),s=n(97615),l=n(67597),u=n(83170),c=n(44733);let d=function(){function e(){(0,r.default)(this,e),this.reportedTelemetry={},this.provider=new a.MonitoringProvider}return(0,o.default)(e,[{key:"init",value:function(){window.onerror=(e,t,n,i,r)=>{!r&&(r={}),(window||arguments||"function"==typeof this.reportException)&&this.reportException({message:e,lineNumber:n,fileName:(0,l.getBundleSrc)()+"&v="+s.EnvironmentManager.getVersion(),columnNumber:i,stack:JSON.stringify(r.stack||r.stacktrace||r)})};const e=t=>{const n=this.reportedTelemetry[u.TelemetryName.CHAT_INVITE]||this.reportedTelemetry[u.TelemetryName.OFFLINE_INVITE];t.persisted||!n||c.StorageProvider.get("hide_reported")||(c.StorageProvider.set("hide_reported",!0),this.telemetryOnce(u.TelemetryName.PAGE_HIDE,{param1:"has_proactive"})),window.removeEventListener("pagehide",e)};window.addEventListener("pagehide",e,!1)}},{key:"reportException",value:function(e){this.provider.reportException(e)}},{key:"telemetry",value:function(e,t){this.provider.telemetry(e,t),!0!==this.reportedTelemetry[e]&&(this.reportedTelemetry[e]=!0)}},{key:"telemetryOnce",value:function(e,t){!0!==this.reportedTelemetry[e]&&this.telemetry(e,t)}},{key:"telemetryWithProbability",value:function(e,t,n){this._invokeWithProbability((()=>{this.telemetry(e,t)}),n)}},{key:"_invokeWithProbability",value:function(e,t){Math.random()<=.01*t&&e()}},{key:"isTelemetryReported",value:function(e){return!0===this.reportedTelemetry[e]}},{key:"getTelemetryNames",value:function(){return u.TelemetryName}},{key:"reportStats",value:function(e,t){this.provider.reportStats(e,t)}}]),e}();const f=new d;t.Monitoring=f},75048:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MonitoringProvider=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(4855)),s=i(n(19955)),l=i(n(22866)),u=n(97615),c=n(44145),d=n(31343),f=n(95911),p=n(22932),g=i(n(73727)),h=i(n(55908)),_=n(21733),m=n(79225),v=i(n(138)),y=n(58345),b=n(6211);const E=a.default.name("MonitoringProvider");let C=function(){function e(){(0,r.default)(this,e),this.lastTelemetry=[],this.errorSentCnt=0}return(0,o.default)(e,[{key:"isNotSearchSpider",value:function(){const e=navigator.userAgent.toLowerCase();return-1==e.search(/google/gi)&&-1==e.search(/\+http:\/\/yandex\.com\/bots/gi)&&-1==e.search(/\+http:\/\/www\.cloudflare\.com\/always-online/gi)&&-1==e.search(/linespider\//gi)}},{key:"reportException",value:function(e){if(l.default.getInstance()&&l.default.getInstance().saveException(e),!g.default.disable_error_reporting&&this.isNotSearchSpider()){if(++this.errorSentCnt>3)return;try{this.reportError(e)}catch(e){E.error(e.message)}}else E.warn("REPORT",e)}},{key:"reportError",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=`${(0,p.getProtocol)()}//${g.default.err_host}/widget`,i=(0,c.getClient)(),r=i.clientId,o={body:{widget:"true",widget_id:g.default.widget_id,widget_version:u.EnvironmentManager.getVersion(),level:t,url:this.getUrl(),client_id:r?r.split(".")[0]:null,lineNumber:e.lineNumber,fileName:e.fileName,column:e.columnNumber,full_message:this.getStack(e.message,e.stack),short_message:e.message,device:s.default.getDevice(),shard:this.getShard()},headers:{"Content-Type":d.CONTENT_TYPE.APP_JSON},responseType:"json",monitoring:!0};this.ignoreMessage(o.body.full_message,["chrome://internal","chrome-extension://"])||f.xhrRequest.post(n,((e,t)=>{E.warn("Error reported:",e,t)}),o)}},{key:"ignoreMessage",value:function(e,t){return Boolean(t.filter((t=>e.includes(t))).length)}},{key:"getUrl",value:function(){const e=(0,p.getPageWindow)().location;return e.protocol+"//"+e.host+e.pathname}},{key:"telemetry",value:function(e,t){if(!e||!(0,_.isString)(e))return void E.warn("EventName is empty");if(e=(0,m.replaceAll)(e," ","_"),this.saveTelemetry(e),g.default.disable_telemetry||!this.isNotSearchSpider())return;"object"==typeof t&&t||(t={});const n=(0,c.getClient)();t.event=e,t.widget_id=g.default.widget_id,t.chat_mode=g.default.chat_mode,t.site_id=g.default.site_id,t.device=s.default.getDevice(),t.visitor_id=n.visitorId,t.widget_version=u.EnvironmentManager.getVersion(),t.shard=this.getShard();const i=h.default.getInstance();i&&i.getActiveTest()&&(t.abtest_name=i.getActiveTestName(),t.abtest_group=i.getActiveTestGroup()),n.clientId&&(t.client_id=parseInt(n.clientId.split(".")[0])||0);for(let e=1;e<5;e++){const n=t[`param${e}`];null!=n&&n.toString&&(t[`param${e}`]=n.toString())}E.log("TELEMETRY",t);try{let e=(0,p.getProtocol)();g.default.telemetry_host&&(e+="//"+g.default.telemetry_host+"/w"),window.navigator.sendBeacon&&navigator.sendBeacon(e,JSON.stringify(t))}catch(e){E.warn(e)}}},{key:"saveTelemetry",value:function(e){5===this.lastTelemetry.length&&this.lastTelemetry.shift(),this.lastTelemetry.push(e.substr(0,60))}},{key:"getStack",value:function(e,t){if("Script error."==e)return t;const n=a.default.lastLog.join("\r\n");return"{}"!=t&&""!=t&&t?"Uncaught TypeError: undefined is not a function"==e||"t.set is not a function"==e||"Uncaught TypeError: Cannot read property 'set' of undefined"==e?`${t} \r\n ${n}`:t.replace(/(?:\\[n])+/,"\r\n"):`Custom stack: \r\n${n}\r\n\r\n${this.lastTelemetry.join("\r\n")}`}},{key:"getShard",value:function(){return g.default.shard_id||"main"}},{key:"getStatsUrl",value:function(e,t,n){const i=(0,c.getSystemSettings)(),r=i.siteId,o=i.widgetId,a=i.baseUrl,s=n?"":`${t}/`;return`${(0,p.getProtocol)()}${a}/script/stat/campaign/${e}/${r}/${s}${o}`}},{key:"reportStats",value:function(e,t){if(e&&(0,_.isString)(e)){if(this.isNotSearchSpider()){E.log("stats",e,t);try{const n=["visit"].includes(e),i=this.getStatsUrl(e,t,n);if(n&&Array.isArray(t)){const n=t;(0,y.chunkArray)(n,b.Limits.STATS_CHUNK_LIMIT).forEach((e=>{this.postCampaignStats(i,e)})),"visit"===e&&n.forEach((t=>{v.default.reportCampaign(e,t)}))}else this.postCampaignStats(i,t),v.default.reportCampaign(e,t)}catch(e){E.warn(e)}}}else E.warn("EventName is empty")}},{key:"postCampaignStats",value:function(e,t){Array.isArray(t)&&(e+="?",t.forEach(((n,i)=>{e+=`ids[]=${n}`,t.length!==i+1&&(e+="&")}))),f.xhrRequest.get(e,(()=>{}),{responseType:"json"})}}]),e}();t.MonitoringProvider=C},74890:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(4855)).default.name("Polyfill");var r={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(window.document||window.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}};t.default=r},2833:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(4855)),s=n(54415),l=i(n(86961)),u=n(44145),c=n(83170),d=n(35967),f=n(73422);const p=a.default.name("Proactive");var g=new(function(){function e(){(0,r.default)(this,e),this.agents=null,this.departments=null,this.proactiveDepartmentId=null}return(0,o.default)(e,[{key:"getActiveAgent",value:function(e,t){p.log("getActiveAgent"),t&&(this.proactiveDepartmentId=t),l.default.getStatus(((t,n)=>{this.parseStatus(t,n,e)}))}},{key:"parseStatus",value:function(e,t,n){if(e)return s.Monitoring.telemetry(c.TelemetryName.WIDGET_STATUS,{param1:e.code}),this.agents=null,this.departments=null,n(!1);const i=(0,u.getClient)(),r=i.assignedAgentId||i.priorityAgentId;n(this.getAgent(t.data,r,this.proactiveDepartmentId))}},{key:"getAgent",value:function(e,t,n){const i=e.departments;if(p.log("parseStatus",e,t,n),e.bots)return e.bots[0];if(this.agents=e.bots||e.agents,this.departments=i,this.agents.length){if(n&&(0,f.isObject)(i)&&n in i){const e=this.departments[n],i=this.getOnlineAgentInDep(t,e.agents);if(i)return i;const r=this.getRandomOnlineAgentFromDep(e.agents);return r||(p.log("no online agents from proactive department."),!1)}const e=this.getAgentById(t);if(e)return e;const r=this.getRandomAgent(this.agents.length-1);return r||!1}return!1}},{key:"getRandomAgent",value:function(e){return this.agents[this.randomInt(0,e)]}},{key:"randomInt",value:function(e,t){const n=e+Math.random()*(t+1-e);return Math.floor(n)}},{key:"getAgentById",value:function(e){return this.agents.find((t=>t.agent_id===e))}},{key:"getRandomAgentIdByArray",value:function(e){return e[1===e.length?0:this.randomInt(0,e.length-1)]}},{key:"getOnlineIds",value:function(){return this.agents.map((e=>e.agent_id))}},{key:"getOnlineInDep",value:function(e){const t=this.getOnlineIds();return(0,d.intersection)(t,e)}},{key:"getOnlineAgentInDep",value:function(e,t){const n=this.getOnlineInDep(t);if(n.length&&-1!==n.indexOf(e))return this.getAgentById(e)}},{key:"getRandomOnlineAgentFromDep",value:function(e){const t=this.getOnlineInDep(e);if(t.length){const e=this.getRandomAgentIdByArray(t);return this.getAgentById(e)}return!1}}]),e}());t.default=g},90361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withLocator=void 0;var i=n(97615);t.withLocator=e=>e&&!i.EnvironmentManager.isProduction()?{"data-qa-id":e}:{}},21476:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var r=i(n(84633)),o=i(n(95003)),a=i(n(14264)),s=i(n(19955)),l=n(47060),u=n(80161),c=n(54415),d=n(83170),f=n(26932),p=i(n(47914)),g=i(n(75686)),h=n(2982),_=n(47245),m=i(n(71323)),v=n(47138),y=i(n(4855)),b=n(69882),E=n(44145),C=n(43914);const T=y.default.name("Router"),D=new r.default({namespace:"ROUTER",initialState:(0,E.getApp)().route||o.default.route||l.Route.LABEL,eulaContext:{},debugClicks:0,clickTimer:null,getCurrentRoute:function(){return this.state},getPrevRoute:function(){return this.priorState},setNext:function(e){T.warn("setNext route:",e),this.transition(e)},getPrevEvent:function(){return this._priorAction},next:function(e,t){T.warn("next",e,"from",this.state),e&&this.handle(e,t)},_navToChat:function(){if((0,E.getCallback)().status==v.CallStatus.WAIT)return void this.transition(l.Route.CHAT_CALL);(0,E.getApp)().isOnline;const e=u.RouterUtils.showDepartmentsIfPossible();e?this.transition(l.Route.DEPARTMENTS):this.transition(l.Route.CHAT)},_navToChatFromChatMin:function(){this.priorState===l.Route.CHAT_EULA&&!(0,E.getClient)().eulaAccepted?this.transition(l.Route.CHAT_EULA):this.transition(l.Route.CHAT)},_debugClicked:function(){clearTimeout(this.clickTimer),this.debugClicks++,this.debugClicks>7&&(this.debugClicks=0,this.transition(l.Route.DEBUG),c.Monitoring.telemetryOnce(d.TelemetryName.DEBUG_PANEL_OPENED)),this.clickTimer=setTimeout((()=>{this.debugClicks=0}),1e3)},states:{[l.Route.HIDDEN]:{_onEnter:function(){this.trigger("route_change",l.Route.HIDDEN);const e=p.default.getInstance();e&&e.destroy()}},[l.Route.LABEL]:{_onEnter:function(){this.trigger("route_change",l.Route.LABEL)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToCall]:function(){this.transition(l.Route.CALL)},[l.RouterEvent.ToChat]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.ApiOpen]:function(){this._navToChat()},[l.RouterEvent.Navigate]:function(){this._navToChat()},[l.RouterEvent.ToLabelInvitation]:function(){this.transition(l.Route.LABEL_INVITATION)},[l.RouterEvent.ToMobileMenu]:function(){this.transition(l.Route.MOBILE_MENU)},[l.RouterEvent.ToCallPopup]:function(){this.transition(l.Route.CALL_POPUP)},[l.RouterEvent.ToSocial]:function(){this.transition(l.Route.CHAT_SOCIAL)}},[l.Route.LABEL_INVITATION]:{_onEnter:function(){this.trigger("route_change",l.Route.LABEL_INVITATION)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToCall]:function(){this.transition(l.Route.CALL)},[l.RouterEvent.ApiOpen]:function(){this._navToChat()},[l.RouterEvent.Navigate]:function(){this._navToChat()},[l.RouterEvent.CloseWindow]:function(){this.transition(l.Route.LABEL)}},[l.Route.DEPARTMENTS]:{_onEnter:function(){this.trigger("route_change",l.Route.DEPARTMENTS)},[l.RouterEvent.CloseWindow]:function(){this.transition(l.Route.LABEL)},[l.RouterEvent.ToCall]:function(){s.default.mobileOrTablet()?this.transition(l.Route.CALL):this.transition(l.Route.CHAT_CALL),c.Monitoring.telemetry(d.TelemetryName.CW_ONLINE_HEADER_BUTTON)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.Navigate]:function(){u.RouterUtils.canShowIntroduceForm()&&0===a.default.store.length?this.transition(l.Route.INTRODUCE):this._navToChat()},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.INTRODUCE]:{_onEnter:function(){this.trigger("route_change",l.Route.INTRODUCE)},[l.RouterEvent.Submit]:function(){u.RouterUtils.needToShowEula()?this.transition(l.Route.CHAT_EULA):(this.transition(l.Route.CHAT),this.trigger("submit_eula_success",l.Route.INTRODUCE))},[l.RouterEvent.ToCall]:function(){(0,b.isChatPage)()?this.transition(l.Route.CHAT_CALL):this.transition(l.Route.CALL)},[l.RouterEvent.CloseWindow]:function(){this.transition(u.RouterUtils.getRouteChatMin())},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.MOBILE_MENU]:{_onEnter:function(){this.trigger("route_change",l.Route.MOBILE_MENU)},[l.RouterEvent.ToCall]:function(){this.transition(l.Route.CALL)},[l.RouterEvent.CloseWindow]:function(){this.transition(l.Route.LABEL)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToChat]:function(){this._navToChat()},[l.RouterEvent.Navigate]:function(){u.RouterUtils.canShowIntroduceForm()?this.transition(l.Route.INTRODUCE):u.RouterUtils.showDepartmentsIfPossible()?this.transition(l.Route.DEPARTMENTS):this.transition(l.Route.CHAT)}},[l.Route.CHAT]:{_onEnter:function(){this.trigger("route_change",l.Route.CHAT)},[l.RouterEvent.Submit]:function(e){e&&e.from&&e.from!==this.state||(u.RouterUtils.needToShowEula()?(e&&(this.eulaContext={link:e.link,context:e.context}),this.transition(l.Route.CHAT_EULA)):this.trigger("submit_success"))},[l.RouterEvent.ToCall]:function(){s.default.mobileOrTablet()?this.transition(l.Route.CALL):this.transition(l.Route.CHAT_CALL),c.Monitoring.telemetry(d.TelemetryName.CW_ONLINE_HEADER_BUTTON)},[l.RouterEvent.ToIntroduce]:function(){u.RouterUtils.canShowIntroduceForm()?this.transition(l.Route.INTRODUCE):this._navToChat()},[l.RouterEvent.ToSocial]:function(){this.transition(l.Route.CHAT_SOCIAL)},[l.RouterEvent.CloseWindow]:function(){this.transition(u.RouterUtils.getRouteChatMin())},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToEula]:function(e){e&&u.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(l.Route.CHAT_EULA))},[l.RouterEvent.ToDebug]:function(){this._debugClicked()},[l.RouterEvent.ToCallSetup]:function(){this.transition(l.Route.CHAT_SETUP_CALL)}},[l.Route.CHAT_MIN]:{_onEnter:function(){this.trigger("route_change",l.Route.CHAT_MIN)},[l.RouterEvent.ToChat]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.ToCall]:function(){this.transition(l.Route.CHAT_CALL)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ApiOpen]:function(){this._navToChatFromChatMin()},[l.RouterEvent.Navigate]:function(){this._navToChat()}},[l.Route.CHAT_EULA]:{_onEnter:function(){const e=this.eulaContext&&this.eulaContext.link?this.eulaContext.link:null,t=this.eulaContext&&this.eulaContext.context?this.eulaContext.context:"introduce";"cb"!==t&&D.getPrevRoute()!==l.Route.CHAT_CALL&&m.default.showEula(!0,e,t),this.eulaContext={},this.trigger("route_change",l.Route.CHAT_EULA)},[l.RouterEvent.Submit]:function(){const e=this.priorState;e?(this.trigger("submit_eula_success",D.getPrevRoute()),-1===[l.Route.INTRODUCE,l.Route.CHAT_MIN].indexOf(e)?this.transition(e):this.transition(l.Route.CHAT)):this.transition(l.Route.CHAT)},[l.RouterEvent.ToCall]:function(){s.default.mobileOrTablet()?this.transition(l.Route.CALL):this.transition(l.Route.CHAT_CALL)},[l.RouterEvent.Cancel]:function(){this.priorState&&this.priorState!==l.Route.CHAT_MIN?this.transition(this.priorState):this.transition(l.Route.CHAT)},[l.RouterEvent.CloseWindow]:function(){!s.default.mobileOrTablet()&&(0,E.getApp)().chatStarted&&(0,E.getApp)().isOnline?this.transition(l.Route.CHAT_MIN):this.transition(l.Route.LABEL)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.CHAT_SOCIAL]:{_onEnter:function(){this.trigger("route_change",l.Route.CHAT_SOCIAL)},[l.RouterEvent.Submit]:function(){this.transition(l.Route.LABEL)},[l.RouterEvent.ToChat]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.ToCall]:function(){this.transition(l.Route.CALL)},[l.RouterEvent.Cancel]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.CloseWindow]:function(){this.transition(u.RouterUtils.getRouteChatMin())},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToEula]:function(e){e&&u.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(l.Route.CHAT_EULA))},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.CHAT_CALL]:{_onEnter:function(){this.trigger("route_change",l.Route.CHAT_CALL)},[l.RouterEvent.Submit]:function(){u.RouterUtils.needToShowEula()?this.transition(l.Route.CHAT_EULA):this.trigger("submit_success")},[l.RouterEvent.ToCall]:function(){const e=D.getPrevRoute();e&&this.transition(-1===[l.Route.CHAT_MIN,l.Route.CHAT_EULA].indexOf(e)?e:l.Route.CHAT)},[l.RouterEvent.ToSocial]:function(){this.transition(l.Route.CHAT_SOCIAL)},[l.RouterEvent.Cancel]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.CloseWindow]:function(){this.transition(u.RouterUtils.getRouteChatMin())},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToChat]:function(){this._navToChat()},[l.RouterEvent.ToEula]:function(e){e&&u.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(l.Route.CHAT_EULA))},[l.RouterEvent.ToIntroduce]:function(){u.RouterUtils.canShowIntroduceForm()&&this.transition(l.Route.INTRODUCE)},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.CHAT_SETUP_CALL]:{_onEnter:function(){this.trigger("route_change",l.Route.CHAT_SETUP_CALL)},[l.RouterEvent.Cancel]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.Submit]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToDebug]:function(){this._debugClicked()},[l.RouterEvent.CloseWindow]:function(){u.RouterUtils.isChatMinAvailable()?this.transition(l.Route.CHAT_MIN):this.transition(l.Route.LABEL)}},[l.Route.CALL]:{_onEnter:function(){this.trigger("route_change",l.Route.CALL)},[l.RouterEvent.Submit]:function(){u.RouterUtils.needToShowEula()?this.transition(l.Route.CALL_EULA):this.trigger("submit_success")},[l.RouterEvent.ToEula]:function(){this.transition(l.Route.CALL_EULA)},[l.RouterEvent.CloseWindow]:function(){u.RouterUtils.isChatMinAvailable()?this.transition(l.Route.CHAT_MIN):this.transition(l.Route.LABEL)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToChat]:function(){this._navToChat()},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.CALL_EULA]:{_onEnter:function(){this.trigger("route_change",l.Route.CALL_EULA)},[l.RouterEvent.Submit]:function(){if(D.getPrevRoute()===l.Route.CALL)return this.transition(l.Route.CALL),void this.trigger("submit_eula_success",D.getPrevRoute());this.trigger("submit_success")},[l.RouterEvent.Cancel]:function(){f.appDispatchers.setShowEula(!1),this.transition(l.Route.CALL)},[l.RouterEvent.ToChat]:function(){this.transition(l.Route.CHAT)},[l.RouterEvent.CloseWindow]:function(){f.appDispatchers.setShowEula(!1),this.transition(l.Route.LABEL)},[l.RouterEvent.Hide]:function(){this.transition(l.Route.HIDDEN)},[l.RouterEvent.ToDebug]:function(){this._debugClicked()}},[l.Route.CALL_POPUP]:{_onEnter:function(){this.trigger("route_change",l.Route.CALL_POPUP)},[l.RouterEvent.Submit]:function(){this.transition(l.Route.CALL)},[l.RouterEvent.CloseWindow]:function(){u.RouterUtils.isChatMinAvailable()?this.transition(l.Route.CHAT_MIN):this.transition(l.Route.LABEL)}},[l.Route.DEBUG]:{_onEnter:function(){this.trigger("route_change",l.Route.DEBUG)},[l.RouterEvent.CloseWindow]:function(){this.transition(u.RouterUtils.getRouteChatMin())},[l.RouterEvent.ToChat]:function(){this._navToChat()},[l.RouterEvent.ToCall]:function(){s.default.mobileOrTablet()?this.transition(l.Route.CALL):this.transition(l.Route.CHAT_CALL),c.Monitoring.telemetry(d.TelemetryName.CW_ONLINE_HEADER_BUTTON)}}}});t.Router=D,D.on("route_change",(e=>{if(f.appDispatchers.setAppRoute(e),(0,C._callUserFunction)("onChangeState",e),s.default.safari()&&!s.default.mobileOrTablet()){const t=D.getPrevRoute();(e===l.Route.DEBUG&&t===l.Route.INTRODUCE||e===l.Route.INTRODUCE&&t===l.Route.DEBUG||e==l.Route.INTRODUCE&&t===l.Route.CHAT||t===l.Route.CHAT_EULA||e===l.Route.CHAT_EULA)&&setTimeout((()=>{const e=g.default.get(_.Component.WIDGET_CONTAINER);(0,h.updateKeyframes)(e,!0)}),50)}}))},80161:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.RouterUtils=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(26754)),s=i(n(19955)),l=n(47060),u=i(n(73727)),c=n(94537),d=n(47138),f=n(44145);const p=new(function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"showDepartmentsIfPossible",value:function(){const e=(0,f.getApp)(),t=(0,f.getClient)(),n=(0,f.getUserSettings)(),i=n.contactsAsk,r=n.departments,o=i==c.ContactsType.BEFORE_CHAT;return r&&!o&&!t.departmentId&&!a.default.agent_id&&!e.chatStarted&&e.isOnline}},{key:"needToShowEula",value:function(){return u.default.eula&&!(0,f.getClient)().eulaAccepted}},{key:"canShowIntroduceForm",value:function(){const e=(0,f.getApp)().isOnline,t=(0,f.getClient)().isIntroduced,n=(0,f.getUserSettings)().contactsAsk;return e&&!t&&n===c.ContactsType.BEFORE_CHAT}},{key:"getRouteChatMin",value:function(){return this.isChatMinAvailable()?l.Route.CHAT_MIN:(0,f.getCallback)().status===d.CallStatus.CONNECTED?l.Route.CALL:l.Route.LABEL}},{key:"callbackEnabled",value:function(){const e=u.default.callback_settings;return!!(e.time&&e.countries&&e.countries.length)}},{key:"isChatMinAvailable",value:function(){const e=(0,f.getUserSettings)().labelBubble,t=a.default.agent_id||a.default.bot_id,n="join"==a.default.state;return(0,f.getApp)().chatAccepted&&(0,f.getApp)().isOnline&&t&&n&&!s.default.mobileOrTablet()&&(0,f.getCallback)().status!==d.CallStatus.CONNECTED&&!e}}]),e}());t.RouterUtils=p},13077:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addPageView=function(){const e=o.default.get("pages_count");e?o.default.set("pages_count",parseInt(e)+1):o.default.set("pages_count",1)},t.checkCondition=O,t.checkTimeConditions=function(e,t,n){let i=!1;for(let r=0;r<e.length;r++)if(O(e[r],n))i=!0;else if("all"===t)return!1;return i},t.getCustomValue=t.getCondNames=void 0,t.getGoalValue=T,t.getPageUrlValue=w,t.getRuleLocal=y,t.getValue=C,t.hasOnceCondition=function(e){let t=!1;for(let n=0;n<e.length;n++){const i=e[n];if("once_a_day"==i.condition){t=i;break}}return t},t.initGoalClick=function(e){const t=(0,f.getPageWindow)().document;try{const n=t.querySelector(e);m.warn("initGoalClick",n);const i=()=>{const t=y("goalElementClick");m.warn("onGoalClick",t),t[window.btoa(e)]=e,b("goalElementClick",t)},r=s.default.mobileOrTablet()&&s.default.isTouchEnabled()?"touchstart":"click";n?(0,_.addListener)(n,r,i,!0):m.info(`Element with selector: "${e}" is not found on page.`)}catch(e){m.info("Error click element",e)}},t.isAllStaticChecked=function(e,t){const n=e.filter((e=>e.isChecked)),i=e.filter((e=>e.isStatic));return t===d.RuleType.ALL?i.length===n.length:Boolean(n.length)},t.isDefaultProactive=function(){if(!u.default.rules)return;const e=JSON.stringify([{value:!0,condition:d.RuleConditions.ONLINE},{value:10,condition:d.RuleConditions.TIME_ON_PAGE,comparator:"greater"},{value:120,condition:d.RuleConditions.TIME_AFTER_CLOSE,comparator:"greater"},{value:60,condition:d.RuleConditions.TIME_AFTER_INVITAION,comparator:"greater"}]);return u.default.rules.filter((t=>{if(t.conditions&&JSON.stringify(t.conditions)===e)return!0})).length>0},t.isGoalCondition=D,t.isPopupCommand=function(e){return-1!==[d.RuleTypes.PROACTIVE,d.RuleTypes.OPEN_OFFLINE,d.RuleTypes.SHOW_CALLFORM].indexOf(e)},t.isTimeCondition=function(e){return null==e?void 0:e.includes("time")},t.isYandexMarketClient=function(e){const t=1==a.default.get("visits_count"),n=o.default.get("pages_count")<10;return!s.default.mobileOrTablet()&&t&&n&&-1!==["market","YM"].indexOf(e.source)&&"cpc"==e.medium},t.setInvitationTime=function(){o.default.set("invitation_time",(new Date).getTime())},t.setRuleLocal=b,t.timeDiff=E;var r=n(4425),o=i(n(66547)),a=i(n(73687)),s=i(n(19955)),l=i(n(4855)),u=i(n(73727)),c=n(69882),d=n(83907),f=n(22932),p=n(73422),g=n(66139),h=n(44145),_=n(21951);const m=l.default.name("RuleManagerUtils"),v={scrollPosition:!1,movedToCloseButton:!1,firstMessageTime:null,pageEnterTime:(new Date).getTime(),prechatUseTime:null,lastUpdateProactiveEvent:null,lastContactApiData:null,sendStartupTime:null,isVisitorInvite:null,goalElementClick:{}};function y(e){if(e in v)return v[e]}function b(e,t){e in v&&(v[e]=t)}function E(e){return Math.round(((new Date).getTime()-e)/1e3)}function C(e){var t,n;const i=(0,c.getCurrentPage)().url,l=(new Date).getDay(),u=o.default.get("close_time"),f=o.default.get("invitation_time"),p=(0,h.getUserSettings)().chatMode,g=(0,h.getSystemSettings)().geoIp;switch(e){case d.RuleConditions.ONLINE:return p===r.ChatMode.ONLINE;case d.RuleConditions.PAGE_URL:return i.replace(/^http(s?):\/\//i,"");case d.RuleConditions.PAGE_TITLE:return(0,c.getCurrentPage)().title;case d.RuleConditions.HOUR:return(new Date).getHours();case d.RuleConditions.WEEK_DAY:return 0===l?7:l;case d.RuleConditions.TIME_AFTER_CLOSE:return u?E(u):Number.MAX_VALUE;case d.RuleConditions.TIME_AFTER_FIRST_MSG:return v.firstMessageTime?E(v.firstMessageTime.getTime()):NaN;case d.RuleConditions.TIME_AFTER_INVITAION:return null===f||""===f?Number.MAX_VALUE:E(f);case d.RuleConditions.TIME_ON_PAGE:return E(v.pageEnterTime);case d.RuleConditions.TIME_ON_SITE:return E(o.default.get("enter_ts"));case d.RuleConditions.NUMBER_OF_VISITS:return a.default.get("visits_count");case d.RuleConditions.PAGES_COUNT:return parseInt(o.default.get("pages_count"));case d.RuleConditions.COUNTRY:return null==g?void 0:g.split(";")[0];case d.RuleConditions.CITY:return(null==g?void 0:g.split(";")[2])||null;case d.RuleConditions.ONCE_A_DAY:return!0;case d.RuleConditions.UTM_SOURCE:return(null===(t=(0,h.getClient)().utm)||void 0===t||null===(n=t.source)||void 0===n?void 0:n.toLowerCase().trim().replace("/(|)/i",""))||d.UtmSource.DIRECT;case d.RuleConditions.DEVICE:return s.default.mobileOrTablet()?d.DeviceType.MOBILE:d.DeviceType.DESKTOP;default:return o.default.get(e)}}function T(e){const t=e.condition,n=e.value,i=e.attr;switch(t){case d.RuleConditions.GOAL_CLOSE:return v.movedToCloseButton;case d.RuleConditions.GOAL_SCROLL:return v.scrollPosition;case d.RuleConditions.GOAL_CLICK:return!!n&&v.goalElementClick[window.btoa(n)];case d.RuleConditions.GOAL_CUSTOM_ATTR:return!!n&&S(i)}}function D(e){return null==e?void 0:e.includes("goal")}function w(e){const t=e.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/gi);if(t&&t.length){const n={href:e,hostname:t[0]};e=(0,c.getUnicodeHref)(n).replace(/http(|s):\/\//,"")}else e=e.replace(/http(|s):\/\//,"");return e}function O(e,t){const n=D(e.condition)?T(e):C(e.condition);e.condition===d.RuleConditions.PAGE_URL&&(e.value=w(e.value)),e.condition===d.RuleConditions.PAGES_COUNT&&(e.value=parseInt(e.value));const i=(0,g.compareCondition)(n,e.value,e.comparator);let r=`${t||""}; ${i?"success":"failed"}`;return r+=` condition ${e.condition}; comparator=${e.comparator}`,m.info(`${r}; expected=${e.value}; actual=${n}`),"once_a_day"==e.condition||i}const S=e=>{const t=(0,h.getClient)().customData;if(!t)return;const n=t.find((t=>t.key===e));return null==n?void 0:n.content};t.getCustomValue=S;t.getCondNames=e=>(0,p.isArray)(e)?e.map((e=>e.condition)).join(","):e},79868:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(73727)),o=i(n(4855)),a=n(83170),s=n(26932),l=i(n(73687)),u=i(n(19955)),c=n(97615),d=n(54415),f=n(44145),p=n(67597),g=n(21951),h=n(16217);const _=o.default.name("Social"),m=new(0,n(89766).EventEmitter);let v={vk:!1,fb:!1,mode:!1},y=null,b=!1;const E={getSocial(){return y||v},setPopupMode(e){y=e,v.mode=y,s.socialDispatchers.initializeSocialStore(v),m.emit("update",v)},getPopupMode(){return y},setSocial(e){return v=e,v},isLoginned(){return v.vk||v.fb},getJoints(){let e=0;const t={};return(0,h.isCallbackEnabled)()?(t.callback=!0,e++):r.default.power_button_phone&&(t.cbUrl=r.default.power_button_phone,e++),r.default.joint?(r.default.joint.sb&&e++,r.default.joint.ig&&e++,r.default.joint.fb&&r.default.joint.fb.joint_id&&(t.fbUrl="https://m.me/"+r.default.joint.fb.joint_id,e++),r.default.joint.wa&&(t.waUrl=r.default.joint.wa.customUrl||"https://wa.me/"+r.default.joint.wa,e++),r.default.joint.vk&&(r.default.joint.vk.joint_id||r.default.joint.vk.customUrl)&&(t.vkUrl=r.default.joint.vk.customUrl?r.default.joint.vk.customUrl:"https://vk.me/club"+r.default.joint.vk.joint_id,e++),r.default.joint.vb&&r.default.joint.vb.botname&&(t.vbUrl="viber://pa?chatURI="+r.default.joint.vb.botname,e++),r.default.joint.tg&&(r.default.joint.tg.customUrl||r.default.joint.tg.botname)&&(t.tgUrl=r.default.joint.tg.customUrl?r.default.joint.tg.customUrl:(0,p.getTgLink)(r.default.geoip)+r.default.joint.tg.botname,e++),this.isImVersion()&&r.default.joint.im&&r.default.joint.im.joint_id&&(t.imUrl=`sms://open?service=iMessage&recipient=urn:biz:${r.default.joint.im.joint_id}&biz-intent-id=click_in_jivo`,e++),{links:t,count:e}):{links:t,count:e}},startSocials(){_.log("startSocials"),b||u.default.mobileOrTablet()||!r.default.joint||!r.default.joint.vk&&!r.default.joint.fb||l.default.get("is_blacklisted")||(b=!0,this.initSocial(),(0,g.addListener)(window,"message",this.checkLogin.bind(this),!1))},initSocial(){const e=this.checkSocial();if(_.log("initSocial",e),e){const t=this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+r.default.locale,n=document.createElement("iframe");n.src=t,n.className="iframe-social",n.title="JivoSocial",document.body.appendChild(n)}},checkSocial(){if(!r.default.joint)return;let e="check";r.default.joint.vk&&!r.default.joint.fb&&(e="checkvk"),r.default.joint.fb&&!r.default.joint.vk&&(e="checkfb");const t=document.getElementsByClassName("check-iframe");return!(t&&t.length>0)&&(!(!r.default.joint.vk&&!r.default.joint.fb)&&e)},genSocialIframeUrl(e){_.log("getnSocialIframeUrl",e);const t=["mode="+e],n=(0,f.getClient)();r.default.joint.vk&&(t.push("vk_app_id="+r.default.joint.vk.app_id),t.push("vk_joint_id="+r.default.joint.vk.joint_id),t.push("vk_key="+this.genVkRandomKey())),r.default.joint.fb&&(t.push("fb_app_id="+r.default.joint.fb.app_id),t.push("fb_joint_id="+r.default.joint.fb.joint_id),t.push("fb_key="+n.clientId+"_"+r.default.widget_id)),t.push("logs="+(r.default.logs||0));const i=c.EnvironmentManager.isDevelopment()?"/public/social.html?":"/social.min.html?";return(0,p.staticUrl)(i+t.join("&"),!0)},genVkRandomKey(){return((0,f.getClient)().clientId+"="+r.default.widget_id).replace(/./g,(function(e){return e.charCodeAt(0).toString(16)}))},getIframeUrl(e){return this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+r.default.locale},checkLogin(e,t){if(_.log("checkLogin",e,t),e&&"object"==typeof e){if(t&&(e={data:{social:t}}),e.data&&e.data.social){const t={},n=e.data.social;return n.fb&&(t.fb=!0,t.vk=!1,t.mode="fb",d.Monitoring.telemetryOnce(a.TelemetryName.SOCIAL_SHOW_FACEBOOK)),n.vk&&(t.vk=!0,t.fb=!1,t.mode="vk",d.Monitoring.telemetryOnce(a.TelemetryName.SOCIAL_SHOW_VK)),n.fb||n.vk||(t.vk=!1,t.fb=!1,t.mode="email"),v={vk:t.vk,fb:t.fb,mode:t.mode},m.emit("update",v),s.socialDispatchers.initializeSocialStore(v),t}}else _.log("postMessage from social failed: ",e)},isImVersion(){return(u.default.ios()||u.default.ipad())&&u.default.iosVersion()>=11.3},ifIMessageEnabled(){const e=this.getJoints();return!!(this.isImVersion()&&e.links&&e.links.imUrl)}};var C=Object.assign(m,E);t.default=C},44145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentById=s,t.getAgentIdsByStatus=function(e){return o().reduce(((t,n)=>(n.state===e&&t.push(n.id),t)),[])},t.getAgentMessages=d,t.getAgents=o,t.getApp=function(){return i.reduxStore.getState().app},t.getBotById=function(e){return a().find((t=>t.id===e&&t.isBot))},t.getBotIdsByStatus=function(e){return a().reduce(((t,n)=>(n.state===e&&t.push(n.id),t)),[])},t.getBots=a,t.getCallback=function(){return i.reduxStore.getState().callback},t.getCallbackSettings=function(){return i.reduxStore.getState().settings.user.callback},t.getCampaignWidgetSettings=function(){return i.reduxStore.getState().settings.campaignWidget},t.getChatById=function(e){return l().find((t=>t.id===e))},t.getChats=l,t.getClient=function(){return i.reduxStore.getState().client},t.getClientMessages=c,t.getFeatures=function(){return i.reduxStore.getState().settings.features},t.getFormIntroduceText=function(){return u().filter((e=>e.type===r.MessageType.PREFORM&&e.from===r.MessageInitiator.FORM))[0]},t.getFormMessage=function(){return f(u(),r.MessageType.FORM)[0]},t.getJoinedAgents=function(){const e=[],t=l();if(t&&t.length>0){const n=t[t.length-1];n.joinedAgents.forEach((t=>{e.push(s(t))}))}return e},t.getLastChatId=function(){const e=d(u()),t=c(u()),n=e.length?e[e.length-1].chat_id:null,i=t.length?t[t.length-1].chat_id:null;return i>n?i:n},t.getLastClientMessage=function(){const e=c(u());return e[e.length-1]},t.getLastMessageByName=function(e){const t=g(u(),e);return t[t.length-1]},t.getLastMessageByStatus=function(e){const t=p(u(),e);return t[t.length-1]},t.getLastMessageByType=function(e){const t=f(u(),e);return t[t.length-1]},t.getMessageById=function(e){return u().find((t=>t.msg_id===e))},t.getMessageByPrivateId=function(e){return u().find((t=>t.private_id===e))},t.getMessages=u,t.getMessagesByName=g,t.getMessagesByStatus=p,t.getMessagesByType=f,t.getPosition=function(){return i.reduxStore.getState().position},t.getProactive=function(){return i.reduxStore.getState().proactive},t.getRateFormMessage=function(){return f(u(),r.MessageType.RATE_FORM)[0]},t.getSettings=function(){return i.reduxStore.getState().settings},t.getState=function(){return i.reduxStore.getState()},t.getSystemSettings=function(){return i.reduxStore.getState().settings.system},t.getSystemUnread=function(){return u().filter((e=>e.from===r.MessageInitiator.AGENT&&e.status!==r.MessageStatus.READ&&h(e.type)))},t.getTransition=function(){return i.reduxStore.getState().transition},t.getUnreadMessages=function(){return u().filter((e=>[r.MessageInitiator.AGENT,r.MessageInitiator.AGENT_BOT].includes(e.from)&&e.status!==r.MessageStatus.READ&&e.status!==r.MessageStatus.DELETED&&!h(e.type)))},t.getUserSettings=function(){return i.reduxStore.getState().settings.user},t.getZoom=function(){return i.reduxStore.getState().zoom};var i=n(62096),r=n(81152);function o(){return i.reduxStore.getState().agents}function a(){return i.reduxStore.getState().bots}function s(e){return o().find((t=>t.id===e))}function l(){return i.reduxStore.getState().chats}function u(){return i.reduxStore.getState().messages}function c(e){return e.filter((e=>e.from===r.MessageInitiator.CLIENT))}function d(e){return e.filter((e=>e.from===r.MessageInitiator.AGENT))}function f(e,t){return e.filter((e=>e.type===t))}function p(e,t){return e.filter((e=>e.status===t))}function g(e,t){return e.filter((e=>{var n;return(null===(n=e.body)||void 0===n?void 0:n.name)===t}))}const h=e=>[r.MessageType.FOR_TEST,r.MessageType.WEB_RTC_CALL,r.MessageType.LISTPICKER].includes(e)},2982:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateKeyframes=t.setProperty=t.saveLabelPosition=t.jivoCustomCSSProperty=t.isFallbackNeeded=t.getSavedLabelPosition=t.getProperty=void 0;var r=i(n(61125)),o=i(n(4855)),a=i(n(19955)),s=n(21733);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const u=o.default.name("TransitionUtils"),c=e=>`--j${e}`;t.jivoCustomCSSProperty=c;const d=(e,t)=>t&&t.style?f()?t.style[e]:t.style.getPropertyValue(c(e)):null;t.getProperty=d;t.setProperty=(e,t,n)=>{f()?n.style[e]=t:n.style.setProperty(c(e),t)};t.updateKeyframes=(e,t)=>{if(a.default.supportsWebAnimationApi()){const n=d("height",e),i=d("left",e),r=d("right",e),o=e&&e.getAnimations()[0];if(a.default.safari()&&a.default.iosVersion()>="15.4"&&!o.effect.composite&&!t)return;const s=o&&o.effect.getKeyframes(),l=s&&s[s.length-1];u.log("updateKeyframes",o),l&&(l.height=n,l.left=i,l.right=r,o.effect.setKeyframes(s),o.currentTime=300)}};const f=()=>!a.default.supportsCssVariables()||a.default.ieOrEdge()||a.default.safari()&&(!a.default.supportsWebAnimationApi()||a.default.iosVersion()<15&&!a.default.mobileOrTablet());t.isFallbackNeeded=f;let p={};t.saveLabelPosition=e=>{p={right:e.right?e.right+"px":null,left:e.left?e.left+"px":null,offsetWidth:e.offsetWidth?e.offsetWidth+"px":null},(0,s.isString)(e.right)&&e.right.includes("%")&&(p.right=e.right)};t.getSavedLabelPosition=()=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p)},56026:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(54415),s=i(n(8117));let l=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"decode",value:function(e){try{return s.default.decodeString(e)}catch(e){e.message+=" UTMDecoder",a.Monitoring.reportException(e)}return e}}]),e}();t.default=l},66139:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareCondition=function(e,t,i){switch(i){case"contain":return n(e,t);case"greater":return e>t;case"greater_equal":return e>=t;case"lower":return e<t;case"lower_equal":return e<=t;case"not_contain":return!n(e,t);case"not_equal":return t!=e;case"regexp":return new RegExp(t,"i").test(e);default:return t==e}};const n=(e,t)=>!(!e||!t)&&-1!==(null==e?void 0:e.toLowerCase().indexOf(null==t?void 0:t.toLowerCase()))},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getZoom=void 0;var i=n(69882);t.getZoom=e=>(0,i.isChatPage)()?"none":(0,i.isWixContext)()?1:e},43914:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t._callUserFunction=function(e,t){if(l.log("_callUserFunction",e,t),e="jivo_"+e,"function"==typeof(0,s.getPageWindow)().window[e])try{l.log("JIVO: calling user function "+e),(0,s.getPageWindow)().window[e](t),l.log("JIVO: user function "+e+" returned"),a.Monitoring.telemetryWithProbability(e,{},r.RateLimit.Low)}catch(e){l.log("ERROR: _callUserFunction",e)}};var r=n(83170),o=i(n(4855)),a=n(54415),s=n(22932);const l=o.default.name("callParent")},6987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=_(n(83778)),r=_(n(16217)),o=_(n(31984)),a=_(n(81722)),s=_(n(32183)),l=_(n(49594)),u=_(n(82726)),c=_(n(90361)),d=_(n(80161)),f=_(n(13077)),p=_(n(44145)),g=_(n(2982));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var m={common:i,callback:r,call:o,chat:a,ConfigUtils:n(83425).ConfigUtils,dom:s,messageHistory:l,messagesMain:u,qa:c,router:d,ruleManager:f,store:p,transition:g};t.default=m},41168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCallDefaultError=void 0;var i=n(20344);t.getCallDefaultError=()=>`${(0,i.l10n)("cw_unableToConnect")}\n${(0,i.l10n)("cw_errInfoText")}`},91763:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.lazyLoaderFactory=void 0,t.lazyRetry=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise(((r,o)=>{t().then(r).catch((a=>{setTimeout((()=>{1!==n?e(t,n-1,i).then(r,o):o(a)}),i)}))}))};var r=i(n(67375)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(98661));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}const s=i(n(4855)).default.name("Lazy loader");t.lazyLoaderFactory=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};function i(i){const a=(0,o.useState)(!0),l=(0,r.default)(a,2),u=l[0],c=l[1],d=(0,o.useCallback)((()=>c(!0)),[]),f=(0,o.useMemo)((()=>o.default.lazy((()=>e().catch((e=>(s.error("Lazy error:",e),c(!1),()=>o.default.createElement(n,{onRetry:d}))))))),[u,d]);return f.displayName="LazyLoader",o.default.createElement(o.Suspense,{fallback:o.default.createElement(t,null)},o.default.createElement(f,i))}return i.displayName="LazyLoader",i}},21951:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=void 0,t.listenVisibility=function(e){const t=(0,o.debounce)(e,50);let n,i,a="hidden";void 0!==document.hidden?(a="hidden",i="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(a="mozHidden",i="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(a="msHidden",i="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(a="webkitHidden",i="webkitvisibilitychange",n="webkitVisibilityState");"addEventListener"in document&&void 0!==i&&(document.addEventListener(i,(0,r.bind)(t,this,n),!1),parent.document.addEventListener(i,(0,r.bind)(t,this,n),!1),parent.document.addEventListener("focus",(0,r.bind)(t,this,n),!1),parent.document.addEventListener("blur",(0,r.bind)(t,this,n),!1),parent.window.addEventListener("focus",(0,r.bind)(t,this,n),!1),parent.window.addEventListener("blur",(0,r.bind)(t,this,n),!1))},t.removeEvent=void 0;var r=n(32710),o=n(90991),a=i(n(19955));t.addListener=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r;e.addEventListener?e.addEventListener(t,n,!!a.default.supportsPassiveListeners()&&{passive:i}):e.attachEvent&&(e.attachEvent("on"+t,(r=e,function(){n.call(r,window.event)})),e=null)};t.removeEvent=(e,t,n)=>{if(window.removeEventListener)e.removeEventListener(t,n,!1);else{if(!window.detachEvent)return!1;{const i=function(){n.call(e)};e.detachEvent("on"+t,i)}}}},91225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMinRoute=t.isIntroduceRoute=t.isContainerRoute=t.isChatRoute=t.isChatInputRoute=t.isChatClosedRoute=void 0;var i=n(47060);t.isContainerRoute=e=>![i.Route.LABEL,i.Route.LABEL_INVITATION,i.Route.HIDDEN].includes(e);t.isChatClosedRoute=e=>[i.Route.LABEL,i.Route.CHAT_MIN].includes(e);t.isMinRoute=e=>e===i.Route.CHAT_MIN;t.isIntroduceRoute=e=>e===i.Route.INTRODUCE;t.isChatRoute=e=>-1!==[i.Route.CHAT,i.Route.INTRODUCE,i.Route.DEPARTMENTS].indexOf(e);t.isChatInputRoute=e=>[i.Route.CHAT,i.Route.CHAT_CALL].includes(e)},68403:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.showAd=t.isPaidCustomer=t.isJivoSite=t.isEmailOrPhoneRequired=t.isChatContactForm=t.isAnalyticsDisabled=t.hasIntegration=t.getJoinedAgents=t.fixOfflineSettings=void 0;var r=i(n(73727)),o=n(94537);t.showAd=()=>!(r.default.unverified||r.default.options&&r.default.hide_ad);t.isPaidCustomer=()=>16&r.default.options;t.hasIntegration=e=>-1!==["vk","fb","sb"].indexOf(e);t.fixOfflineSettings=e=>(!e.email.show&&e.phone.show?e.phone={show:!0,required:!0}:e.email={show:!0,required:!0},e);t.isEmailOrPhoneRequired=e=>{let t=!1;return e?((e.phone.show&&e.phone.required||e.email.show&&e.email.required)&&(t=!0),t):t};t.isChatContactForm=()=>-1!==[o.ContactsType.DURING_CHAT,o.ContactsType.DURING_CHAT_NO_CLOSE].indexOf(r.default.contacts_ask);t.getJoinedAgents=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length>t.length)return[];const i=[];return t.forEach((t=>{e.includes(t.id)&&t.isBot===n&&i.push(t)})),i};t.isAnalyticsDisabled=()=>!!r.default.disable_analytics;t.isJivoSite=()=>1===r.default.site_id},16016:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSubstrTitle=t.getRandomString=t.generateGUIDCount=t.generateGUID=t.formatTextLen=void 0;const n=()=>{const e=Math.floor(65536*Math.random()).toString(16);return 4===e.length?e:n()};t.getRandomString=n;t.generateGUID=()=>{const e=n;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.generateGUIDCount=e=>{let t="";for(;e--;)t+=n();return t};t.setSubstrTitle=e=>e.substring(0,255);t.formatTextLen=(e,t)=>e.length>t?e.substr(0,t)+"...":e},80598:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeColor=t.getTextSize=t.getTextColor=t.getPowerButtonDesktopPosition=t.getMobileBackgroundColor=t.getLineHeight=t.getBackground=void 0;var r=i(n(19955)),o=n(69882),a=i(n(27104)),s=n(36874);t.getTextSize=e=>{if(r.default.ios()&&(0,o.isWixContext)())return"normal";let t=null;return r.default.ios()?(1!==e&&(t=100*e+"%"),t||"none"):t};t.getLineHeight=(e,t)=>{let n=null;return 1!==t&&(n=(e||1.25)/t+"em"),n};t.getTextColor=e=>"dark"==e?"#222222":"#F0F1F1";t.getThemeColor=e=>{switch(e){case"grey":return s.colorsFromFigma.STEEL_80;case"blue":return s.colorsFromFigma.BLUE_90;default:return s.colorsFromFigma.GREEN_90}};t.getBackground=(e,t,n,i,r)=>{let o=a.default.getGradientBg(e,t);return r&&(o=l(n,i,o)),o};const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#44BB6E",n=arguments.length>2?arguments[2]:void 0;return e?n:t};t.getMobileBackgroundColor=l;t.getPowerButtonDesktopPosition=(e,t)=>{const n=+t;return"right"!==e&&"bottom"!==e||50!==n&&100!==n?"left":"right"}},67597:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomDataLink=t.trackCallLogo=t.staticUrl=t.replaceServicezoneURL=t.replaceServicezoneTitle=t.isValidHttpURL=t.isServicezoneURL=t.getUtmLink=t.getTgLink=t.getIMessageLink=t.getHostURL=t.getEulaLink=t.getCopyrightSiteByLocale=t.getBundleSrc=t.getAvatarUrl=t.getAvatarApiUrl=t.fixUrl=t.fixTitle=t.cdnLinkToEmoji=void 0;var r=n(22932),o=n(28008),a=n(55004),s=n(97615),l=i(n(73727)),u=i(n(19955)),c=n(22271),d=n(51542),f=n(68403);const p=(e,t)=>t?`${(0,r.getProtocol)()}${e}/avatars/${t}`:null;t.getAvatarUrl=p;t.getAvatarApiUrl=(e,t)=>{if(t)return t.includes("data:image")||t.includes("https://")?t:p(e,t)};t.getIMessageLink=e=>`sms://open?service=iMessage&recipient=urn:biz:${e}&biz-intent-id=click_in_jivo`;const g=()=>l.default.base_url;t.getHostURL=g;const h=(e,t)=>(t||(e+="?rnd="+(new Date).getTime()),s.EnvironmentManager.isDevelopment()?e:(0,r.getProtocol)()+g()+e);t.staticUrl=h;t.cdnLinkToEmoji=e=>h((s.EnvironmentManager.isDevelopment()?"/public":"")+"/images/emoji/"+e+".svg",!0);const _=(e,t)=>{const n=m(e);return!(0,o.isUndefined)(n)&&((0,a.isFunction)(t)?t(n):/^https?:$/.test(n.protocol))};t.isValidHttpURL=_;t.validateCustomDataLink=(e,t)=>_(e,(e=>{const n=m(t);return n&&e.origin.includes(n.origin)}));const m=e=>{let t;try{t=new URL(e)}catch(e){return}return t},v=()=>{const e=l.default.locale;let t="https://www.jivochat.com";-1!=["ru_RU","be","kk","uk"].indexOf(e)?t="https://www.jivo.ru":-1!=["pt","pt_BR"].indexOf(e)?t="https://www.jivochat.com.br":-1!=["es"].indexOf(e)?t="https://www.jivochat.es":-1!=["de"].indexOf(l.default.locale)?t="https://www.jivochat.de":-1!=["tr"].indexOf(l.default.locale)?t="https://www.jivochat.com.tr":-1!=["id"].indexOf(l.default.locale)&&(t="https://www.jivochat.co.id");const n=(0,r.getPageWindow)().location.hostname.split("."),i=n[n.length-1];return"de"===i?t="https://www.jivochat.de":"cl"===i?t="https://www.jivochat.cl":"bo"===i?t="https://www.jivochat.com.bo":"co"===i?t="https://www.jivochat.com.co":"ve"===i?t="https://www.jivochat.com.ve":"pe"===i?t="https://www.jivochat.com.pe":"mx"===i?t="https://www.jivochat.mx":"ar"===i&&(t="https://www.jivochat.com.ar"),t};t.getCopyrightSiteByLocale=v;t.getUtmLink=e=>{const t="logo_on_popup"===e?"from_popup":"from_widget";return"chat"===e&&(e=u.default.mobile()?"chat_mobile":"chat_desktop"),v()+"/i_sa/?utm_source="+encodeURIComponent((0,r.getPageWindow)().location.hostname)+`&utm_medium=link&utm_content=${e}`+`&utm_campaign=${t}`};t.trackCallLogo=()=>v()+"/calls?utm_source="+(0,r.getPageWindow)().location.host+"&utm_medium=link&utm_content=callback_popup&utm_campaign=self_ad";t.getBundleSrc=()=>(s.EnvironmentManager.isDevelopment()?"/public/js/bundle_":l.default.base_url+"/js/bundle_")+l.default.locale+".js?rand="+l.default.build_number;t.getEulaLink=(e,t)=>window.parent.location.protocol+e+"/script/eula/"+t;t.fixUrl=e=>{const t=l.default.shard_id;return(0,f.isJivoSite)()||!y(e)?e:t===d.Shards.SBER?b(e,"https://jivo.ru"):b(e,"https://jivochat.com")};t.fixTitle=(e,t)=>{const n=l.default.shard_id;return(0,f.isJivoSite)()||!y(t)?e:n===d.Shards.SBER?E(e,"Jivo"):E(e,"JivoChat")};const y=e=>c.Regexp.SERVICEZONE_DOMAIN.test(e);t.isServicezoneURL=y;const b=(e,t)=>e.replace(e,t);t.replaceServicezoneURL=b;const E=(e,t)=>e.replace(e,t);t.replaceServicezoneTitle=E;t.getTgLink=e=>{if(e){if("RU"===e.split(";")[0])return"tg://resolve/?domain="}return"https://t.me/"}},84727:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomData=t.validateClientAnswer=void 0;var r=i(n(15687)),o=i(n(4855)),a=i(n(98960)),s=n(67597);const l=o.default.name("validators:","color: grey");t.validateCustomData=(e,t)=>{if(!Array.isArray(e))return"Data must be array.";if(0===e.length)return"Data limit error, data length must be 1 to 10.";e.length>10&&(e.splice(10),l.warnParent("Data limit warning, data length must be 1 to 10."));const n=(e,t)=>{l.warnParent(`Item ${t} in setCustomData: ${e}.`)};return e.reduce(((e,i,o)=>{if("string"!=typeof i.content)return n("Property content must be string",o),e;i.link&&(t&&(0,s.isValidHttpURL)(i.link)?(0,s.validateCustomDataLink)(i.link,t)||(n("Such link is not allowed",o),delete i.link):(n("Safe url is not indicated",o),delete i.link));const a=((e,t)=>(i,r)=>{const o=e[i];return"string"==typeof o&&o.length>r?(n(`Max length for ${i} property is ${r}`,t),o.slice(0,r)):o})(i,o);return i.content=a("content",255),i.title=a("title",255),i.key=a("key",1e3),[].concat((0,r.default)(e),[i])}),[])};t.validateClientAnswer=(e,t)=>{if(!t||!e)return!1;const n=String(t).trim();return"email"==e?a.default.emailBot(n):"phone"==e?a.default.phone(n):"name"==e?a.default.name(n):void 0}},69882:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isWixIframe=t.isWixEditor=t.isWixContext=t.isTextEmojiDisabled=t.isCustomLabel=t.isChatPage=t.isAppCobrowse=t.getUnicodeHref=t.getCurrentPage=t.getChatPageToken=t.deleteNonce=void 0;var r=n(22932),o=i(n(50754)),a=n(67597);const s=()=>(0,r.getPageWindow)().jivo_chat_page||!1;t.isChatPage=s;t.isAppCobrowse=()=>"cobrowser-iframe"===(0,r.getPageWindow)().name;t.deleteNonce=()=>{(0,r.getPageWindow)().jivo_cspNonce&&delete(0,r.getPageWindow)().jivo_cspNonce};t.isWixIframe=()=>void 0!==(0,r.getPageWindow)().jivo_in_wix_iframe;const l=()=>{const e=(0,r.getPageWindow)().wix_context;return e&&e.Utils&&e.Utils.getViewMode()};t.isWixContext=l;t.isWixEditor=()=>{const e=l();return!!e&&-1!==["preview","editor"].indexOf(e)};t.isCustomLabel=()=>{try{return!(!(window&&window.parent)||"function"!=typeof window.parent.jivo_onLoadCallback)&&-1!=window.parent.jivo_onLoadCallback.toString().search(/jivo_custom_widget/gi)}catch(e){return!1}};const u=e=>{try{const t=e.hostname;return e.href.replace(t,o.default.toUnicode(t))}catch(t){return e.href}};t.getUnicodeHref=u;t.getCurrentPage=()=>{const e=(0,r.getPageWindow)();let t=e.location.href,n=e.document.title;const i=-1!==t.indexOf("about:");return""==n&&i&&(n=e.parent.document.title),t=u(i?e.parent.location:e.location),l()&&(t=e.wix_url||t,n=e.wix_title||n),{url:(0,a.fixUrl)(t),title:(0,a.fixTitle)(n.substring(0,255),t)}};t.isTextEmojiDisabled=()=>{const e=(0,r.getPageWindow)();return e._wpemojiSettings||e.twemoji};t.getChatPageToken=()=>{if(s()){let e=null;try{const t=new URLSearchParams((0,r.getPageWindow)().location.search).get("token");t&&(e=decodeURIComponent(t))}catch(e){console.error(e)}return e}return null}},45430:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=i(n(33119)),a=i(n(92664));n(95020);var s=n(73727),l=n(52274),u=i(n(95003)),c=n(20344),d=i(n(14264)),f=i(n(23116)),p=n(21951),g=n(69882),h=n(9393),_=n(90991),m=i(n(56026)),v=n(32183),y=n(52028),b=n(47060),E=n(54415),C=n(83170),T=n(26022),D=i(n(22866)),w=n(13077),O=i(n(66547)),S=i(n(73687)),A=n(26932),I=n(20361),k=n(44145),M=n(97615),P=i(n(35802)),R=i(n(4855)),x=n(41504),N=n(91225),L=n(49963),F=n(22932),j=n(74619),B=i(n(19955)),W=n(83425);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const z=R.default.name("VI"),G=["purl","ptitle","navcount","visible","status"];let V=function(){function e(){(0,o.default)(this,e),this.ifNeedConnect()?(A.appDispatchers.setVIReconnectTime(null),this.changeCurrentKeysFn=(0,_.debounce)(this.changeCurrentKeys.bind(this),100),(0,v.pageVisible)()?setTimeout(this.init.bind(this),1e3):(0,p.listenVisibility)(this.onVisibilityChange.bind(this))):z.log("not initialized"),this.inited=!1}return(0,a.default)(e,[{key:"onVisibilityChange",value:function(){(0,v.pageVisible)()&&!this.inited&&(this.changeCurrentKeysFn(),this.init(),this.inited=!0)}},{key:"ifNeedConnect",value:function(){const e=(0,k.getApp)(),t=e.isOnline,n=e.route,i=e.viReconnectTime,r=e.maintenance,o=(0,k.getSystemSettings)().botmode,a=(0,k.getUserSettings)().hideOffline,s=(0,k.getFeatures)(),l=s.newVisitorsInsight,u=s.disableMobile;return l&&!r&&!o&&!S.default.get("is_blacklisted")&&!(0,g.isWixEditor)()&&!y.isDesignerEditor&&!(0,g.isAppCobrowse)()&&!(!t&&a)&&!(n===b.Route.HIDDEN)&&!(u&&B.default.mobileOrTablet())&&(!i||(new Date).getTime()>i)}},{key:"init",value:function(){if(this.openConnection()){if(z.log("start init"),this.net.onopen=this.connectionOnOpen.bind(this),this.net.onget=this.onget.bind(this),this.net.onset=this.onset.bind(this),this.net.onclose=this.connectionOnClosed.bind(this),this.net.onerror=this.connectionOnError.bind(this),this.net.onfail=this.connectionOnFail.bind(this),this.net.ondrop=this.connectionOnDrop.bind(this),this.cacheCurrentKeys=this.getAllCurrentKeys(),u.default.addListener(this.changeCurrentKeysFn),P.default.getInstance().reduxStore.subscribe((()=>{(0,k.getApp)().route===b.Route.HIDDEN&&this.closeConnection(),this.changeCurrentKeysFn()})),d.default.on("create",this.changeCurrentKeysFn),f.default.addListener("update",(0,_.debounce)(this.checkClientAway.bind(this),l.AWAY_CLIENT_TIMEOUT)),(0,g.isWixContext)()){const e=(0,F.getPageWindow)().wix_context;e.addEventListener(e.Events.PAGE_NAVIGATION,this.changeCurrentKeysFn)}(0,p.listenVisibility)((()=>{this.changeCurrentKeysFn(),(0,v.pageVisible)()&&this.openConnection()})),(0,k.getFeatures)().enableSpaNavigate&&new j.Observer({onTitleChange:this.changeCurrentKeysFn,onUrlChange:this.changeCurrentKeysFn})}}},{key:"checkClientAway",value:function(){f.default.isActive||(0,v.pageVisible)()||!this.isConnected||this.net.close()}},{key:"getURL",value:function(){const e=(0,k.getClient)(),t=(0,k.getSystemSettings)().widgetId;return`${M.EnvironmentManager.isProduction()||"https:"===(0,F.getProtocol)()?"wss":"ws"}://${(0,s.getViHost)()}/${t}?${e.visitorId}`}},{key:"openConnection",value:function(){return this.isConnected||!this.ifNeedConnect()?(z.log("cant open connection"),!1):(this.net||(this.net=new ClientSocket),this.net.open(this.getURL()),!0)}},{key:"closeConnection",value:function(){z.log("close connection"),this.isConnected&&this.net&&this.net.close()}},{key:"connectionOnOpen",value:function(){z.log("connection open"),this.isConnected=!0,this.sendDynamicKeys(),this.changeCurrentKeysFn()}},{key:"connectionOnClosed",value:function(e){this.isConnected=!1,z.log("connection close: ",e)}},{key:"connectionOnError",value:function(e){z.error("connection error: ",e)}},{key:"connectionOnFail",value:function(e){E.Monitoring.telemetry(C.TelemetryName.VISITORS_FAIL,{param1:e})}},{key:"connectionOnDrop",value:function(e){0!==e&&(A.appDispatchers.setVIReconnectTime((new Date).getTime()+e),z.log("connection drop: ",e/1e3+"s"),setTimeout((()=>{W.ConfigUtils.reloadConfig(this.openConnection.bind(this))}),e))}},{key:"getKeys",value:function(e){const t=(0,F.getPageWindow)(),n=(0,k.getApp)(),i=(0,k.getClient)(),r={name:()=>i.name,phone:()=>i.phone,email:()=>i.email,desc:()=>i.description,purl:()=>(0,g.isWixContext)()?t.wix_url:(new m.default).decode((0,g.getCurrentPage)().url),ptitle:()=>{let e=(0,g.getCurrentPage)().title;return e===(0,c.l10n)("lblNewMessage")&&(e=this.cacheCurrentKeys&&this.cacheCurrentKeys.ptitle),(0,g.isWixContext)()?t.wix_title:e},cid:()=>i.clientId?i.clientId.split(".")[0]:null,utm:()=>{const e=H(H(H(H(H(H({},i.utm.campaign&&{campaign:i.utm.campaign}),i.utm.source&&{source:i.utm.source}),i.utm.medium&&{medium:i.utm.medium}),i.utm.keyword&&{keyword:i.utm.keyword}),i.utm.term&&{keyword:i.utm.term}),i.utm.content&&{content:i.utm.content});return JSON.stringify(e)},status:()=>{let e;const t=!d.default.getCurrentChatAgentMessages().length&&d.default.getCurrentClientMessages().length;e=n.chatStarted?n.chatAccepted?T.ClientStatus.ON_CHAT:n.isOnline?L.connectionAdapter.isConnected()&&t?T.ClientStatus.INVITE_SENT:T.ClientStatus.ON_SITE:L.connectionAdapter.isConnected()&&t&&n.lastChatOpened?T.ClientStatus.INVITE_SENT:T.ClientStatus.ON_SITE:(0,k.getProactive)().text?T.ClientStatus.PROACTIVE_SHOW:T.ClientStatus.ON_SITE;const i=(0,k.getCallback)().status;return i&&-1!==["cw_wait","cw_connecting","cw_connected"].indexOf(i)&&(e=T.ClientStatus.ON_CALL),e==T.ClientStatus.INVITE_SENT&&L.connectionAdapter.isConnected()&&!t&&E.Monitoring.telemetryOnce(C.TelemetryName.VI_STATUS_FAIL,{param1:"no_client_message",param2:n.chatAccepted?"1":"0"}),e},navcount:()=>O.default.get("pages_count"),visits:()=>S.default.get("visits_count"),chats:()=>d.default.getChatCounts(),visible:()=>(0,v.pageVisible)(),opened:()=>{const e=n.route;return!(0,N.isChatClosedRoute)(e)},agentids:()=>{const e=n.chatAccepted;return JSON.stringify(e?(0,k.getAgentIdsByStatus)("join"):[])},botids:()=>{const e=n.chatAccepted;return JSON.stringify(e?(0,k.getBotIdsByStatus)("join"):[])},pa_id:()=>i.priorityAgentId,avatar:()=>i.avatarUrl,wversion:()=>M.EnvironmentManager.getVersion(),cdata:()=>{const e=i.customData;return e?JSON.stringify(e):null}};return e?r[e]&&r[e]():Object.keys(r)}},{key:"getAllCurrentKeys",value:function(){const e={};return(0,h.each)(this.getKeys(),(t=>{e[t]=this.getKeys(t)})),e}},{key:"changeCurrentKeys",value:function(){const e=this.getAllCurrentKeys();this.isConnected&&JSON.stringify(this.cacheCurrentKeys)!==JSON.stringify(e)&&(0,h.each)(this.getKeys(),(t=>{const n=e[t];this.cacheCurrentKeys[t]!==n&&this.set(t,n)}))}},{key:"sendAllKeys",value:function(e,t){(0,h.each)(this.getKeys(),(n=>{this.cacheCurrentKeys[n]||(this.cacheCurrentKeys[n]=this.getKeys(n));const i=this.cacheCurrentKeys[n];i&&this.net.set({room:t,to:e,key:n,value:i})}))}},{key:"sendDynamicKeys",value:function(){(0,h.each)(G,(e=>{this.set(e,this.getKeys(e))}))}},{key:"set",value:function(e,t,n,i){if(this.isConnected&&null!=t){this.cacheCurrentKeys[e]=t;const r={key:e,value:t};i&&(r.room=i),n&&(r.to=n),D.default.getInstance().saveViEvent(r),this.net.set(r)}}},{key:"onget",value:function(e){D.default.getInstance().saveViEvent(e),"*"===e.key||"all"===e.key?(this.sendAllKeys(e.from,e.room),(0,h.each)({startsec:()=>{const e=O.default.get("enter_ts");return e&&(0,w.timeDiff)(e)}},((t,n)=>{t()&&this.set(n,t(),e.from,e.room)}))):this.getKeys(e.key)&&this.set(e.key,this.getKeys(e.key),e.from,e.room)}},{key:"onset",value:function(e){const t=(0,k.getApp)(),n=t.isOnline,i=t.route;D.default.getInstance().saveViEvent(e),"invite"!==e.key||this.isInvited||(n||(0,N.isChatClosedRoute)(i)&&(A.transitionDispatchers.startTransition(I.ScriptName.OPEN_WIDGET),A.appDispatchers.setAppRoute(b.Route.CHAT)),L.connectionAdapter.checkConnection((()=>L.connectionAdapter.sendEvent(new x.StartChat(e.value)))),this.isInvited=!0,setTimeout((()=>{this.isInvited=!1}),l.APP_INVITE_TIME),E.Monitoring.telemetry(C.TelemetryName.VISITORS_INVITE,{param1:parseInt(e.value)}),(0,w.setRuleLocal)("isVisitorInvite"))}}]),e}();var $={run:function(){const e=(0,k.getClient)();z.log("run",e.visitorId),0!=e.visitorId?new V:E.Monitoring.telemetry(C.TelemetryName.VISITORS_FAIL,{param1:"visitorId = 0"})}};t.default=$},95911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xhrRequest=t.promisedRequest=void 0;var i=n(31343),r=n(54415),o=n(80210),a=n(82956),s=n(73422);const l=(e,t)=>t&&(0,s.isObject)(t.params)?e+=`?${o.querystring.create(t.params)}`:e,u=e=>((e=Object.assign({},i.REQUEST_OPTIONS,e)).body&&(e.headers["Content-Type"]===i.CONTENT_TYPE.X_WWW_FORM?e.body=(0,s.isObject)(e.body)?o.querystring.create(e.body):JSON.stringify(e.body):e.headers["Content-Type"]===i.CONTENT_TYPE.APP_JSON&&(e.body=JSON.stringify(e.body))),e),c=(e,t,n)=>(i,o)=>{!i||"SyntaxError"!==i.name||null!=t&&t.monitoring||r.Monitoring.reportException(`Error parsing response from ${e}. ${i.message}`),n(i,o)},d=(e,t,n)=>({url:l(e,t),options:u(t),callback:n&&c(e,t,n)}),f=e=>(t,n,i)=>{const r=d(t,i,n);return(0,a.xhr)(r.url,e,r.options,r.callback)},p=e=>(t,n)=>{const i=d(t,n);return(0,a.xhrPromised)(i.url,e,i.options)},g={get:f(i.METHODS.GET),post:f(i.METHODS.POST),head:f(i.METHODS.HEAD),put:f(i.METHODS.PUT)};t.xhrRequest=g;const h={get:p(i.METHODS.GET),put:p(i.METHODS.PUT),head:p(i.METHODS.HEAD)};t.promisedRequest=h},98960:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={phone:e=>e.length>0&&e.trim().replace(/\D+/g,"").length>=5&&/^\+?[0-9() -]+$/i.test(e),client_name:e=>{const t=e.trim();return t.length>0&&t.length<100},name:e=>{const t=e.trim();return t.length>0&&t.length<100},email:e=>e.length>=4&&new RegExp(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i).test(e),emailBot:e=>e.length>=4&&new RegExp(/^([a-zA-Z\d\-_+!]+(\.[a-zA-Z\d\-_+!]+)*)@(([a-zA-Z\d-]+\.)+[a-zA-Z\d]{2,})$/i).test(e),message:e=>e.trim().length>0,description:e=>e.trim().length>0,textarea:e=>e.trim().length>0};t.default=n},74379:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(9393),s=n(32183),l=n(52274),u=i(n(4855)),c=n(73262),d=n(21951),f=n(69882),p=n(75998),g=n(20676),h=n(22932);const _=u.default.name("SiteConnector");var m=new(function(){function e(){(0,r.default)(this,e),this.window=(0,h.getPageWindow)(),this.screen=this.window.screen?this.window.screen:window.screen,this.document=this.window.document,this.bodyEl=this.document.body,this.documentEl=this.document.documentElement,this.scrollEl=this.document.scrollingElement||this.bodyEl,this.pageZoom=null,this.userZoom=null,this.appZoom=null,this.isSiteOptimizedForMobile=!1,this.isWidgetOnWix=!1,this.changeZoomSubscription=[],this.checkZoomsFn=(0,c.throttle)((()=>{this.checkZooms()}),200,{trailing:!0}),!g.platform.isMobileOrTablet||(0,f.isWixContext)()&&!g.platform.isAndroid||(this.checkViewport(),this.initListenChangeZooms())}return(0,o.default)(e,[{key:"initListenChangeZooms",value:function(){(0,d.addListener)(this.window,"scroll",this.checkZoomsFn,!0),(0,d.addListener)(this.window,"resize",this.checkZoomsFn,!0),(0,d.addListener)(this.window,"orientationchange",this.checkZoomsFn),this.window.visualViewport&&this.window.visualViewport.addEventListener&&((0,d.addListener)(this.window.visualViewport,"scroll",this.checkZoomsFn,!0),(0,d.addListener)(this.window.visualViewport,"resize",this.checkZoomsFn,!0))}},{key:"setZoomChangeIterval",value:function(e){e!==this.intervalTime&&(clearInterval(this.intervalId),this.intervalTime=e,this.intervalId=setInterval(this.checkZoomsFn,e))}},{key:"checkZooms",value:function(){const e=this.getUserZoom(),t=this.getPageZoom(),n=this.getAppZoom();e===this.userZoom&&t===this.pageZoom&&n===this.appZoom||(_.log("zoom:",e,t,n),this.userZoom=e,this.pageZoom=t,this.appZoom=n,p.zoomDispatch.setZoomSettings({user:this.userZoom,page:this.pageZoom,app:this.appZoom}),this.triggerChangeZoom())}},{key:"checkViewport",value:function(){const e=this.document.querySelector("meta[name=viewport]");if(e&&e.content){const t=e.getAttribute("content").toLowerCase().split(","),n=e.getAttribute("id");for(let e=0;e<t.length;e++){t[e]=t[e].replace(/^\s+/,"");const i=t[e].split("=");"width"==i[0]&&"device-width"===i[1]&&(this.isSiteOptimizedForMobile=!0),"width"!=i[0]||"device-width"===i[1]||"wixMobileViewport"!=n||this.window.isWixIframe||(this.isWidgetOnWix=!0)}}}},{key:"triggerChangeZoom",value:function(){(0,a.each)(this.changeZoomSubscription,(e=>{e({userZoom:this.userZoom,pageZoom:this.pageZoom,appZoom:this.appZoom})}))}},{key:"blockScroll",value:function(){(0,s.addClass)(this.bodyEl,"jivo-block-scroll"),(0,d.addListener)(this.window,"scroll",this.preventDefault),(0,d.addListener)(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(this.window.visualViewport.addEventListener("scroll",this.preventDefault),this.window.visualViewport.addEventListener("resize",this.preventDefault))}},{key:"unblockScroll",value:function(){(0,s.removeClass)(this.bodyEl,"jivo-block-scroll"),(0,d.removeEvent)(this.window,"scroll",this.preventDefault),(0,d.removeEvent)(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.removeEventListener&&(this.window.visualViewport.removeEventListener("scroll",this.preventDefault),this.window.visualViewport.removeEventListener("resize",this.preventDefault))}},{key:"addOverlay",value:function(){(0,s.addClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"removeOverlay",value:function(){(0,s.removeClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"blockSite",value:function(){void 0===this.blockState&&(this.resetScrollPositions(),(0,s.addClass)(this.documentEl,"jivo-site-full-block"),g.platform.isTablet&&setTimeout((()=>{(0,s.addClass)(this.documentEl,"jivo-tablet-overlay")}),300),this.blockState=!0)}},{key:"unblockSite",value:function(){(0,s.removeClass)(this.documentEl,"jivo-site-full-block"),(0,s.removeClass)(this.documentEl,"jivo-tablet-overlay"),this.restoreScrollPositions(),delete this.blockState}},{key:"resetScrollPositions",value:function(){this.scrollEl&&(this.originalScrollTop=this.scrollEl.scrollTop,this.originalScrollLeft=this.scrollEl.scrollLeft,this.scrollEl.scrollTop=0,this.scrollEl.scrollLeft=0)}},{key:"restoreScrollPositions",value:function(){(this.originalScrollTop||this.originalScrollleft)&&this.scrollEl&&(this.scrollEl.scrollTop=this.originalScrollTop,this.scrollEl.scrollLeft=this.originalScrollLeft,delete this.originalScrollTop,delete this.originalScrollLeft)}},{key:"preventDefault",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"getUserZoom",value:function(){let e=this.documentEl.clientWidth/this.window.innerWidth;const t=this.window.visualViewport;if(t&&1!==t.scale){const n=this.getPseudo().clientWidth;e=this.documentEl.clientWidth<n?n/t.width:this.documentEl.clientWidth/t.width}return!this.isSiteOptimizedForMobile&&e>=.97&&e<=l.MAX_ALLOWED_USER_ZOOM&&(e=1),e}},{key:"getPageZoom",value:function(){return this.screen?this.window.visualViewport?"landscape"===this.getOrientation()?this.screen.height/this.window.visualViewport.width:this.screen.width/this.window.visualViewport.width:"landscape"===this.getOrientation()?this.screen.height/this.window.innerWidth:this.screen.width/this.window.innerWidth:1}},{key:"getAppZoom",value:function(){return this.screen?this.window.visualViewport?"landscape"===this.getOrientation()&&g.platform.isIos?this.window.visualViewport.width/this.screen.height:this.window.visualViewport.width/this.screen.width:"landscape"===this.getOrientation()?this.window.innerWidth/this.screen.height:this.window.innerWidth/this.screen.width:1}},{key:"getTextSize",value:function(){if(g.platform.isIos&&(0,f.isWixContext)())return"normal";let e=null;if(!g.platform.isIos)return e;const t=this.getAppZoom();return 1!==t&&(e=100*t+"%"),e||"none"}},{key:"getLineHeight",value:function(e){let t=null;const n=this.getAppZoom();return 1!==n&&(t=(e||1.25)/n+"em"),t}},{key:"getOrientation",value:function(){let e,t=0;switch("number"==typeof this.window.orientation?t=this.window.orientation:this.window.screen&&this.window.screen.orientation&&(t=this.window.screen.orientation.angle),t){case-90:case 90:e="landscape";break;default:e="portrait"}return e}},{key:"getBodyOffset",value:function(){const e=this.getBodyPosition(),t=this.bodyEl.getBoundingClientRect(),n=this.documentEl.getBoundingClientRect();return{top:"static"===e?0:t.top-n.top,left:"static"===e?0:t.left-n.left}}},{key:"getBodyPosition",value:function(){return this.window.getComputedStyle(this.bodyEl).position}},{key:"getPseudo",value:function(){if(this.documentEl.querySelector){const e=this.documentEl.querySelector(".jv-pseudo-height");return e||0}return 0}},{key:"listenChangeZoom",value:function(e){this.changeZoomSubscription.push(e)}}]),e}());t.default=m},14762:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(44775)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=i(n(34973)),d=n(9393),f=n(42687);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}i(n(4855)).default.name("AgentsStore");let g=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"getAgentById",value:function(e){return e?this.store.find((t=>t.get("agent_id")===parseInt(e))):null}},{key:"getBotById",value:function(e){return e?this.store.find((t=>t.get("bot_id")===parseInt(e))):null}},{key:"getAgentsByStatus",value:function(e){return e?this.store.filter((t=>t.get("body.state")===e)):null}},{key:"cleanBotsUpdate",value:function(){const e="body.is_update_from_bot";return this.store.forEach((t=>{t.get("bot_id")&&t.get(e)&&(t.set(e,!1),t.set("body.state","left"))}))}},{key:"getAgentIdsByStatus",value:function(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&t.push(n.get("agent_id")||n.get("bot_id")),t)),[]):null}},{key:"getOnlyAgentIdsByStatus",value:function(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&n.get("agent_id")&&t.push(n.get("agent_id")),t)),[]):null}},{key:"getBotIdsByStatus",value:function(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&n.get("bot_id")&&t.push(n.get("bot_id")),t)),[]):null}},{key:"closeChat",value:function(){(0,d.each)(this.store,(e=>{e.set("body.state","left")}))}},{key:"updateAgentList",value:function(e,t){e&&e.length&&(1==e.length&&this.closeChat(),(0,d.each)(e,(e=>{let i;i=e.bot_id?this.getBotById(e.bot_id):this.getAgentById(e.agent_id),e.body={state:"join"},e=(0,f.omit)(e,["state","vox_name"]),null!=t&&t.is_update_from_bot&&(e.body.is_update_from_bot=!0),e.avatar_url||(e.avatar_url=null),i?i.set(e):(0,a.default)((0,u.default)(n.prototype),"push",this).call(this,e)})))}},{key:"toReduxFormat",value:function(){const e=[];return(0,d.each)(this.store,(t=>{var n,i;const r=t.toJSON(),o={avatarUrl:r.avatar_url||null,id:r.agent_id||r.bot_id,name:r.display_name||null,title:r.title||null,isBot:!!r.bot_id,state:(null==r||null===(n=r.body)||void 0===n?void 0:n.state)||null,type:r.type||null,isUpdateFromBot:(null===(i=r.body)||void 0===i?void 0:i.is_update_from_bot)||null};e.push(o)})),e}}]),n}(c.default);var h=new g({type:"default",name:"agents",keys:{type:null,agent_id:null,bot_id:null,display_name:null,title:null,avatar_url:null,body:{state:"join",is_update_from_bot:null}}});t.default=h},16818:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(44733),s=i(n(56026)),l=n(45950);i(n(4855)).default.name("HistoryStore");var u=new(function(){function e(){(0,r.default)(this,e),this.LS=a.StorageProvider}return(0,o.default)(e,[{key:"push",value:function(e){let t=this.get()||[];e=this.format(e);this.getHistoryByUrl(t,e.url).length?t=this.updateHistoryByUrl(t,e.url):(10===t.length&&(t=this.deleteOldestEntry(t)),e.time=(new Date).getTime(),t.push(e)),this.LS.set("history",t)}},{key:"get",value:function(){return this.LS.get("history")||[]}},{key:"destroy",value:function(){this.LS.remove("history")}},{key:"format",value:function(e){return e.url=this.subStr((new s.default).decode(e.url)),e.title=this.subStr(e.title),e}},{key:"subStr",value:function(e){return e.length>150?e.substr(0,150)+"...":e}},{key:"getHistoryByUrl",value:function(e,t){return e.filter((e=>e.url===t))}},{key:"updateHistoryByUrl",value:function(e,t){for(let n=0;n<e.length;n++)e[n].url===t&&(e[n].time=(new Date).getTime());return e}},{key:"deleteOldestEntry",value:function(e){const t=this.sortByTime(e);return t.shift(),t}},{key:"sortByTime",value:function(e){return(0,l.sortBy)(e,"time")}}]),e}());t.default=u},4867:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(84827)),s=i(n(85299)),l=i(n(55536)),u=i(n(6131)),c=n(81152);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.default)(this,n)}}let f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"isAgentMessage",value:function(){const e=this.store;return e.from===c.MessageInitiator.AGENT||"bot"===e.from}},{key:"unStorage",value:function(){var e,t,n,i,r;if(null!==(e=window)&&void 0!==e&&null!==(t=e.parent)&&void 0!==t&&t.window&&null!==(n=window)&&void 0!==n&&null!==(i=n.parent)&&void 0!==i&&null!==(r=i.window)&&void 0!==r&&r.isWixPreview)return!0;const o=this.store;return-1!==[c.MessageType.EMAIL,c.MessageType.SOCIAL,c.MessageType.PRECHAT].indexOf(o.type)||o.body&&o.body.unsave||!1}}]),n}(u.default);t.default=f},14264:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(15687)),o=i(n(33119)),a=i(n(92664)),s=i(n(44775)),l=i(n(84827)),u=i(n(85299)),c=i(n(55536)),d=i(n(4855)),f=n(44145),p=n(16016),g=n(9393),h=n(38392),_=n(45950),m=i(n(34973)),v=n(81152),y=i(n(4867));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.default)(this,n)}}const E=d.default.name("MessagesStore");var C=new(function(e){(0,l.default)(n,e);var t=b(n);function n(e){var i;return(0,o.default)(this,n),(i=t.call(this,e)).destroyDeletedMessages(),i.destroyErrorMediaMessages(),i.setTempMessagesForInit(),i}return(0,a.default)(n,[{key:"push",value:function(e){const t=this.formatMessage(e);return(0,s.default)((0,c.default)(n.prototype),"push",this).call(this,t)}},{key:"pushAll",value:function(e){(0,s.default)((0,c.default)(n.prototype),"pushAll",this).call(this,e)}},{key:"sort",value:function(){this.store=(0,_.sortBy)(this.store,(e=>e.get("created_ts")))}},{key:"formatMessage",value:function(e){var t=h.pick.apply(void 0,[e].concat(["private_id","msg_id","chat_id","created_ts","updated_ts","from","from_id","text","type","status","body","replied_message"]));const n=e.meta||e.body;if(void 0!==n&&"tinkoffInvoice"===n.type&&"SUCCESS"===n.status){const e=this.store.filter((function(e){return(e.get("body")?e.get("body").invoice_id:e.invoice_id)===n.invoice_id}));if(e.length){const t=e[0].get("body");t&&(t.status="SUCCESS",e[0].set("body",t))}}return e.type==v.MessageType.MESSAGE&&e.media&&(t.type=v.MessageType.MEDIA,t.body=e.media),t}},{key:"getLastMessage",value:function(){return this.store[this.store.length-1]||null}},{key:"getFirstMessage",value:function(){return this.store.length?this.store[0]:null}},{key:"getClientMessages",value:function(){return this.store.filter((e=>e.get("from")===v.MessageInitiator.CLIENT))}},{key:"getAgentMessages",value:function(){return this.store.filter((e=>e.get("from")===v.MessageInitiator.AGENT))}},{key:"getAgentTextMessages",value:function(){const e=this.getChatId();return e?this.store.filter((t=>t.get("chat_id")===e&&t.get("from")===v.MessageInitiator.AGENT&&t.get("type")===v.MessageType.MESSAGE)):[]}},{key:"getMessagesByType",value:function(e){return this.store.filter((t=>t.get("type")===e))}},{key:"getMessageById",value:function(e){return e?this.store.find((t=>t.get("msg_id")===e)):null}},{key:"getMessageByPrivateId",value:function(e){return e?this.store.find((t=>t.get("private_id")===e)):null}},{key:"closeChat",value:function(){const e=this.getLastMessage(),t=this.getLastProactive();t&&t.set("chat_id",e.get("chat_id"))}},{key:"getCurrentProactive",value:function(){const e=this.getLastProactive();let t=null;return(0,f.getApp)().chatStarted&&e&&!e.get("chat_id")&&(t=e),E.log("getCurrentProactive",t),t}},{key:"getLastProactive",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.PROACTIVE));return E.log("getLastProactive",e),e.length?e[e.length-1]:null}},{key:"getTmpProactive",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.PROACTIVE&&e.get("body")&&e.get("body").unsave));return E.log("getTmpProactive",e),e.length?e[e.length-1]:null}},{key:"destroyDeletedMessages",value:function(){const e=this.getDeletedMessages();(0,g.each)(e,(e=>{e.destroy()}))}},{key:"getDeletedMessages",value:function(){return this.store.filter((e=>e.get("status")==v.MessageStatus.DELETED))}},{key:"destroyErrorMediaMessages",value:function(){const e=this.getMediaErrors();(0,g.each)(e,(e=>{e.destroy()}))}},{key:"getMediaErrors",value:function(){return this.store.filter((e=>{if(!e)return!1;const t=e.toJSON();return t.type==v.MessageType.MEDIA&&t.body&&t.body.status&&t.body.status!==v.MediaStatus.COMPLETE&&t.body.status!==v.MediaStatus.EXPIRED}))}},{key:"getChatCounts",value:function(){let e,t=0;return(0,g.each)(this.store,(n=>{const i=n.get("chat_id");null!==i&&i!==e&&(e=i,t+=1)})),t}},{key:"getAllChatIds",value:function(){const e=[];return(0,g.each)(this.store,(t=>{t.get("chat_id")&&e.push(t.get("chat_id"))})),(0,r.default)(new Set(e))}},{key:"getChatId",value:function(){const e=this.getAgentMessages(),t=this.filter((e=>e.get("chat_id")&&e.get("from")===v.MessageInitiator.CLIENT));let n=e.length?e[e.length-1].get("chat_id"):null;const i=t.length?t[t.length-1].get("chat_id"):null;return i>n&&(n=i),n}},{key:"getChatMessages",value:function(e){return this.store.filter((t=>t.get("chat_id")===e&&t.get("type")!==v.MessageType.SYSTEM&&"bot"!==t.get("from")))}},{key:"getChatMessagesAfterId",value:function(e,t){return this.store.filter((n=>n.get("chat_id")===e&&n.get("type")!==v.MessageType.SYSTEM&&"bot"!==n.get("from")&&n.get("msg_id")>t))}},{key:"getCurrentChatMessages",value:function(){const e=this.getChatId();return e?this.getChatMessages(e):[]}},{key:"getAgentChatMessages",value:function(e){return this.store.filter((t=>{const n=[v.MessageInitiator.AGENT,v.MessageInitiator.AGENT_BOT],i=[v.MessageType.PROACTIVE,v.MessageType.FOR_TEST,v.MessageType.FORM,v.MessageType.PRECHAT];return t.get("chat_id")===e&&n.includes(t.get("from"))&&!i.includes(t.get("type"))}))}},{key:"getCurrentChatAgentMessages",value:function(){const e=this.getChatId();return this.getAgentChatMessages(e)}},{key:"getCurrentClientMessages",value:function(){return this.getChatMessages(this.getChatId()).filter((e=>e.get("from")===v.MessageInitiator.CLIENT))}},{key:"find",value:function(e){return this.store.find((t=>e(t)))}},{key:"filter",value:function(e){return this.store.filter((t=>e(t)))}},{key:"setTempMessagesForInit",value:function(){return(0,g.each)(this.store,(e=>{if(e&&e.get("from")===v.MessageInitiator.CLIENT&&e.get("status")===v.MessageStatus.SENT&&!e.get("chat_id")){((new Date).getTime()-e.get("created_ts"))/1e3>604800&&e.get("type")===v.MessageType.TEMPORARY&&(e.set("status",v.MessageStatus.NOT_DELIVERED),e.set("type",v.MessageType.MESSAGE)),e.get("type")===v.MessageType.MESSAGE&&e.set("status",v.MessageStatus.NOT_DELIVERED)}}))}},{key:"getClientSendedMessages",value:function(){return this.store.filter((e=>e.get("from")===v.MessageInitiator.CLIENT&&e.get("status")===v.MessageStatus.SENT&&!e.get("msg_id")&&e.get("type")===v.MessageType.MESSAGE))}},{key:"getFormMessage",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.FORM))}},{key:"getFormIntroduceText",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.PREFORM&&e.get("from")===v.MessageInitiator.FORM))}},{key:"getBotMessages",value:function(e){return this.store.filter((t=>t.get("chat_id")===e&&t.get("type")===v.MessageType.MESSAGE&&"bot"===t.get("from")))}},{key:"getTemporaryMessageWithText",value:function(e){const t=this.store.filter((t=>t.get("type")===v.MessageType.TEMPORARY&&t.get("text")===e));return t.length?t[t.length-1]:null}},{key:"getTemporaryMessages",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.TEMPORARY&&e.get("from")===v.MessageInitiator.CLIENT))||null}},{key:"getOfflineTmpMessage",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.TEMPORARY&&e.get("from")===v.MessageInitiator.CLIENT));return e.length?e[e.length-1]:null}},{key:"getLastUnreadApiInvitation",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO));return e.length?e[e.length-1]:null}},{key:"getUnreadApiInvitations",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO&&e.get("body").unsave))}},{key:"getSystemMessageByText",value:function(e){return this.store.filter((t=>t.get("type")===v.MessageType.SYSTEM&&t.get("text")===e))}},{key:"hasMessages",value:function(){return this.store.length>0}},{key:"getCobrowseByHash",value:function(e){if(e)return this.store.find((t=>{const n=t.toJSON();return n.type===v.MessageType.COBROWSE&&n.body&&n.body.type===v.MessageType.COBROWSE&&n.body.address===e}))}}]),n}(m.default))({type:"default",name:"messages",itemClass:y.default,keys:{private_id:function(){return(0,p.generateGUID)()},msg_id:null,chat_id:null,created_ts:function(){return(new Date).getTime()},updated_ts:null,from:v.MessageInitiator.EMPTY,from_id:null,text:null,type:v.MessageType.EMPTY,status:v.MessageStatus.SENT,body:{},replied_message:null}});t.default=C},23116:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(62096),o=i(n(4855)),a=i(n(19955)),s=n(21951),l=n(73262),u=n(32183),c=n(91225),d=n(35233);const f=n(89766).EventEmitter;let p=(new Date).getTime();const g=o.default.name("TabActiveManager"),h=Object.assign(new f,{isActive:null});let _;const m=(0,l.throttle)((()=>{p=(new Date).getTime(),(0,c.isChatRoute)(_)&&(0,u.pageVisible)()&&!0!==h.isActive&&(g.log("setActive"),h.isActive=!0,h.emit("update"))}),500),v=()=>{g.log("setNotActive"),h.isActive=!1,h.emit("update")};setInterval((()=>{!1!==h.isActive&&(new Date).getTime()-p>3e4&&v()}),15e3),a.default.desktop()?((0,s.addListener)(window.parent,"scroll",m,!0),(0,s.addListener)(window.parent,"mousemove",m,!0)):((0,s.addListener)(window.parent,"touchmove",m,!0),(0,s.addListener)(window.parent,"touchend",m,!0)),(0,s.listenVisibility)((()=>{(0,u.pageVisible)()?m():v()})),r.reduxStore.subscribe((()=>{const e=_;_=(0,d.selectRoute)(r.reduxStore.getState()),e!==_&&((0,c.isChatRoute)(_)?m():v())}));var y=h;t.default=y},11281:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(15687)),o=i(n(61125)),a=i(n(73727)),s=n(83425),l=n(16016),u=i(n(26754)),c=i(n(14264)),d=i(n(14762)),f=i(n(16818)),p=n(68403),g=i(n(35802)),h=n(20344),_=i(n(91275)),m=n(96879),v=n(33069),y=n(81152),b=n(65465),E=n(43914),C=n(55329),T=i(n(4855)),D=n(47138),w=i(n(22541)),O=i(n(73687)),S=n(28302),A=n(44145),I=i(n(71277)),k=i(n(19955)),M=i(n(138)),P=n(21476),R=n(47060),x=n(54415),N=n(83170),L=n(49594),F=n(26932),j=n(23336),B=n(94537),W=n(97939),U=n(41168),H=n(64123),z=n(80161),G=n(13077),V=n(34445),$=n(91442),q=n(49963),Z=n(54346),K=n(69882),Y=n(12398),J=n(75998),X=n(15787),Q=n(62162),ee=n(54346),te=n(95856);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const re=T.default.name("actions/connection");var oe={accept:e=>{const n=e.agent_info.bot_id,i=(0,A.getApp)(),r=(0,A.getClient)(),o=(0,A.getChats)(),a=o[o.length?o.length-1:0],s=(0,A.getUserSettings)();if(F.appDispatchers.setChatStarted(!0),F.appDispatchers.setChatAccepted(!0),F.appDispatchers.setLastChatOpened(!0),F.appDispatchers.setHiddenByRules(!1),F.chatsDispatchers.setChatEvaluated(!1),!i.isOnline){if(n||t.default.setOnline(),b.messageActions.deleteUnansweredOfflineSystemInvite(),z.RouterUtils.canShowIntroduceForm()){const e=c.default.getOfflineTmpMessage();e&&e.destroy(),P.Router.next(R.RouterEvent.ToIntroduce)}x.Monitoring.telemetry(N.TelemetryName.OFFLINE_AGENT_ACCEPT)}var l;n?(u.default.agent_id=0,u.default.type=e.agent_info.type||null,u.default.isUpdateFromBot=!(null===(l=e.state)||void 0===l||!l.is_update_from_bot)):(u.default.bot_id&&t.default.setOnline(),u.default.bot_id=0);F.chatsDispatchers.setNoJoinedAgents(),u.default.agent_id=e.agent_info.agent_id||null,u.default.bot_id=e.agent_info.bot_id||null,u.default.display_name=e.agent_info.display_name||null,u.default.title=e.agent_info.title||null,u.default.avatar_url=e.agent_info.avatar_url||null,u.default.typing=e.agent_info.typing||null,u.default.state="join";const f=u.default.toReduxFormat();n?(F.botsDispatchers.addBot(f),F.chatsDispatchers.setJoinedBots([u.default.bot_id]),d.default.updateAgentList([e.agent_info],e.state)):(F.agentsDispatchers.addAgent(f),F.chatsDispatchers.setJoinedAgents([e.agent_info]),F.chatsDispatchers.setJoinedBots([]),F.appDispatchers.setIsInputDisabled(!1)),n?F.messagesDispatchers.destroyByType(y.MessageType.RATE_FORM):(!r.isIntroduced&&i.isOnline&&b.messageActions.checkContactsForm(),F.clientDispatchers.setPaId(u.default.agent_id)),M.default.trackChatConnected(),(0,E._callUserFunction)("onAccept"),(0,Q.saveLastProactive)(),(0,X.openChatOnMessage)();const p=n?y.MessageType.BOT:y.MessageInitiator.AGENT;var g;(s.contactsAsk===B.ContactsType.BEFORE_CHAT&&x.Monitoring.telemetry(N.TelemetryName.CHAT_ACCEPTED_CONTACTS,{param1:p,param2:JSON.stringify({chat_id:a.id,department_id:r.departmentId,display_name:Boolean(r.displayName),name:Boolean(r.name),email:Boolean(r.email),is_introduced:r.isIntroduced,phone:Boolean(r.phone)})}),n)?x.Monitoring.telemetry(N.TelemetryName.CHAT_BOT_ACCEPTED,{param1:(0,ee.isAssistantBot)()?W.BotType.ASSISTANT:W.BotType.DEFAULT,param2:null!==(g=e.state)&&void 0!==g&&g.is_update_from_bot?"is_update_from_bot":"is_accept"}):x.Monitoring.telemetry(N.TelemetryName.CHAT_ACCEPTED,ie({param1:p},M.default.getCountersTelemetry()))},transferred:e=>{(0,A.getApp)().isOnline||t.default.setOnline(),Object.assign(u.default,e.agent_info);const n=e.agent_info.bot_id,i=u.default.toReduxFormat();n?(F.botsDispatchers.addBot(i),F.chatsDispatchers.setJoinedBots([n])):(F.agentsDispatchers.addAgent(i),F.chatsDispatchers.setJoinedAgents([e.agent_info]),F.chatsDispatchers.setJoinedBots([])),F.messagesDispatchers.addMessage({text:(0,h.l10n)("lblTransferred").replace("_AGENT_",e.agent_info.display_name),type:y.MessageType.SYSTEM,from:y.MessageType.SYSTEM}),F.clientDispatchers.setPaId(u.default.agent_id)},startup_ok:e=>{const t=(0,A.getApp)(),n=(0,A.getClient)();re.log("startup_ok",e),_.default.reloadStories(),d.default.closeChat(),F.appDispatchers.setMaintenance(!1),F.appDispatchers.setIsInputDisabled(!1),F.appDispatchers.setLastChatStatus(V.ChatStatus.STARTUP_OK),F.callbackDispatchers.setCallbackStatus(!1),t.route===R.Route.CHAT_MIN&&P.Router.setNext(R.Route.LABEL),a.default.enable_client_attributes&&!n.clientId&&n.attributes&&(0,$.sendClientAttributes)(n.attributes,e.jv_client_id),F.clientDispatchers.updateClient({clientId:e.jv_client_id,sessionId:e.jv_sess_id}),(0,X.setStartupClientInfo)(e.client_info),b.messageActions.deleteMaintenanceMessage(),(0,L.updateHistory)(e),(n.isIntroduced&&!t.isOnline||t.isOnline)&&q.connectionAdapter.flushBuffer(),(0,Y.sendTagsIfNeed)(),x.Monitoring.telemetry(N.TelemetryName.STARTUP_OK,{param1:(0,H.getStarupTime)(),param2:(0,A.getSystemSettings)().chatHost}),(0,G.setRuleLocal)("sendStartupTime",null)},startup_error:e=>{switch(re.log("startup_error: ",null==e?void 0:e.err_code),F.appDispatchers.setLastChatStatus(V.ChatStatus.STARTUP_ERROR),e.err_code){case"deleted":F.clientDispatchers.resetClient(),F.appDispatchers.setLastChatStatus(null),c.default.destroy();break;case"blacklisted":F.appDispatchers.setChatStarted(!1),F.appDispatchers.setChatAccepted(!1),O.default.set("is_blacklisted",!0,86400),P.Router.next(R.RouterEvent.Hide),I.default.disableSoundPlayer();break;case"moved":s.ConfigUtils.reloadConfig((e=>{re.log("Site is moved",e),e&&(J.systemSettingsDispatch.refresh(),F.appDispatchers.setMaintenance(!1)),_.default.reloadStories(),_.default.initializeReduxStores(),q.connectionAdapter.isConnected()||setTimeout((()=>{q.connectionAdapter.openConnect(null,!0)}),5e3)}));break;case"maintenance":(0,H.enableMaintenance)()}x.Monitoring.telemetry(N.TelemetryName.STARTUP_ERROR,{param1:(0,H.getStarupTime)(),param2:e.err_code||"no_err_code",param3:(0,A.getSystemSettings)().chatHost}),(0,G.setRuleLocal)("isVisitorInvite",!1),(0,G.setRuleLocal)("sendStartupTime",null)},resume_ok:e=>{re.log("resume_ok",e);const n=(0,A.getApp)(),i=(0,A.getClient)(),r=(0,A.getCallback)(),o=ie({clientId:e.jv_client_id},e.jv_sess_id?{sessionId:e.jv_sess_id}:null);if(F.clientDispatchers.updateClient(o),F.appDispatchers.setMaintenance(!1),F.appDispatchers.setIsInputDisabled(!1),F.appDispatchers.setLastChatStatus(V.ChatStatus.RESUME_OK),_.default.reloadStories(),f.default.destroy(),(i.isIntroduced&&!n.isOnline||n.isOnline)&&(z.RouterUtils.canShowIntroduceForm()||q.connectionAdapter.flushBuffer()),e.agents&&e.agents.length>0){let n=!1;if(e.agents.forEach((e=>{e.bot_id&&(n=e)})),n){const t=d.default.getBotById(n.bot_id);null!=t&&t.get("body.is_update_from_bot")?(F.appDispatchers.setChatAccepted(!0),F.appDispatchers.setAppIsOnline(!0)):(d.default.updateAgentList([n],e.state),F.botsDispatchers.addBot({avatarUrl:n.avatar_url||null,id:n.bot_id,name:n.display_name||null,title:n.title||null,type:n.type,isBot:!0})),F.chatsDispatchers.setJoinedBots([n.bot_id])}else F.chatsDispatchers.setJoinedAgents(e.agents);t.default.updateAgentInfo(e.agents),d.default.getAgentsByStatus("join").length&&(F.appDispatchers.setChatAccepted(!0),F.appDispatchers.setAppIsOnline(!0),F.appDispatchers.setLastChatOpened(!0))}else F.chatsDispatchers.setNoJoinedAgents(),F.appDispatchers.setLastChatOpened(!1),F.appDispatchers.setChatAccepted(!1),d.default.cleanBotsUpdate();const a=n.route;k.default.mobileOrTablet()||(0,K.isChatPage)()||n.chatStarted||c.default.getCurrentChatMessages().length||!n.isOnline||a===R.Route.CALL||a===R.Route.CHAT_CALL||a===R.Route.LABEL||(0,A.getProactive)().text||P.Router.next(R.RouterEvent.CloseWindow);const s=e.client_info.cw_call;(0,H.setCallbackStatus)(s),s===D.CallStatus.WAIT&&_.default.startCallTimeout(),s&&(Object.assign(r,s),a===R.Route.CHAT_CALL||k.default.mobileOrTablet()||P.Router.next(R.RouterEvent.ToCall),s.status!=D.CallStatus.CONNECTED&&s.status!=D.CallStatus.CONNECTING||(0,v.resetDelayedCallStatus)()),e.client_info.has_integration&&F.clientDispatchers.setHasIntegration(e.client_info.has_integration),e.assigned_agent_id&&F.clientDispatchers.setAssignedAgentId(e.assigned_agent_id),_.default.checkChatStarted(e.chat_started),(0,X.setStartupClientInfo)(e.client_info),b.messageActions.checkContactsForm(),b.messageActions.deleteMaintenanceMessage(),(0,L.updateHistory)(e),!i.departmentId||n.chatStarted||n.chatAccepted||F.clientDispatchers.setDepartmentId(0),x.Monitoring.telemetry(N.TelemetryName.RESUME_OK,{param1:(0,H.getStarupTime)(),param2:e.chat_started,param3:e.agents?e.agents.length:null,param4:e.last_msg_id}),(0,G.setRuleLocal)("sendStartupTime",null)},cw_wait:()=>{},cw_call_end:()=>{const e=(0,A.getCallback)();if(re.warn("cw_call_end",e),e.webRTCCallStatus){const e=(0,S.getActiveMessage)(D.WebRTCCallStatus.ACCEPTED);e&&F.messagesDispatchers.updateWebRTCCallStatus(e.private_id,D.WebRTCCallStatus.ENDED),F.callbackDispatchers.setActiveWebRTCCallMessageId(null),F.callbackDispatchers.setWebRTCCallStatus(null),F.callbackDispatchers.setCallbackStatus(D.CallStatus.ENDED),(0,E._callUserFunction)("onCallEnd",{result:"ok"}),x.Monitoring.telemetry(N.TelemetryName.CALL_END,{param1:"webrtc"})}else _.default.clearCallTimeout(),b.messageActions.systemCallMessage((0,h.l10n)("c_callDisconnected"),y.MessageName.CALL_END),F.callbackDispatchers.setCallbackStatus(D.CallStatus.ENDED),F.callbackDispatchers.setCallbackAvailable(!0),(0,E._callUserFunction)("onCallEnd",{result:"ok"}),x.Monitoring.telemetry(N.TelemetryName.CALL_END)},cw_connecting:()=>{(0,A.getCallback)().webRTCCallStatus?F.callbackDispatchers.setWebRTCCallStatus(D.CallStatus.CONNECTING):F.callbackDispatchers.setCallbackStatus(D.CallStatus.CONNECTING),(0,v.resetDelayedCallStatus)()},cw_connected:()=>{const e=(0,A.getCallback)();if(re.warn("cw_connected",e.webRTCCallStatus,e.activeWebRTCCallMessageId),!e.activeWebRTCCallMessageId){const e=(0,S.getActiveMessage)(D.WebRTCCallStatus.INITIAL);e&&F.messagesDispatchers.updateWebRTCCallStatus(e.private_id,D.WebRTCCallStatus.ACCEPTED)}e.webRTCCallStatus?(F.callbackDispatchers.setWebRTCCallStatus(D.CallStatus.CONNECTED),F.messagesDispatchers.updateWebRTCCallStatus(e.activeWebRTCCallMessageId,D.WebRTCCallStatus.ACCEPTED)):(F.callbackDispatchers.setCallbackStatus(D.CallStatus.CONNECTED),F.callbackDispatchers.setCallbackAvailable(!1)),(0,v.resetDelayedCallStatus)()},cw_error:e=>{const t=(0,h.l10n)(`cw_reason_${e.reason}`);let n=t;n&&n!=t||(n=(0,U.getCallDefaultError)());const i=(0,A.getCallback)();if(i.webRTCCallStatus){if(i.webRTCCallStatus!==D.CallStatus.ENDED){F.callbackDispatchers.setWebRTCCallStatus(D.CallStatus.ERROR);let e=i.activeWebRTCCallMessageId;if(!e){const t=(0,S.getActiveMessage)(D.WebRTCCallStatus.INITIAL);e=t&&t.private_id}F.messagesDispatchers.updateWebRTCCallStatus(e,D.WebRTCCallStatus.ERROR)}F.callbackDispatchers.setCallbackAvailable(!0),F.callbackDispatchers.setCallbackStatus(D.CallStatus.ERROR),F.callbackDispatchers.setActiveWebRTCCallMessageId(null),F.callbackDispatchers.setWebRTCCallStatus(null),P.Router.getCurrentRoute()===R.Route.CHAT_SETUP_CALL&&P.Router.next(R.RouterEvent.Cancel)}else _.default.clearCallTimeout(),F.messagesDispatchers.addMessage({text:n,type:y.MessageType.SYSTEM,from:y.MessageInitiator.SYSTEM,body:{type:y.MessageType.CALL,name:y.MessageName.CALL_END}}),F.callbackDispatchers.setCallbackAvailable(!0),F.callbackDispatchers.setCallbackStatus(D.CallStatus.ERROR),F.callbackDispatchers.setCallbackError(n),k.default.mobileOrTablet()||P.Router.next(R.RouterEvent.ToCall);(0,E._callUserFunction)("onCallEnd",{result:"fail",reason:n}),x.Monitoring.telemetry(N.TelemetryName.CALL_ERROR,{param1:e.reason})},cw_call_requested:async e=>{if(!a.default.enable_webrtc_calls)return;const t=e.call_id,i=e.vox_user_login,r=e.vox_user_password,o=e.vox_node;F.callbackDispatchers.setCallbackAvailable(!1),F.callbackDispatchers.setWebRTCCallStatus(D.CallStatus.WAIT);const s=(await n.e(772).then(n.bind(n,51961))).default;g.default.getInstance().managers.webRTCCall=new s(g.default.getInstance(),t,i,r,o),a.default.enable_webrtc_separate_window||g.default.getInstance().managers.webRTCCall.setupSdk(),(0,Z.addWebRTCCallMessage)(),(0,X.openChatOnMessage)()},agentMessage:(e,n)=>{var i;re.log("agentMessage",e),(0,A.getApp)().isOnline||t.default.setOnline(),b.messageActions.saveLastSystemMessage(),e.media&&(e.media.status=y.MediaStatus.COMPLETE);const r={text:e.message||e.text,type:e.media?y.MessageType.MEDIA:y.MessageType.MESSAGE,from:e.from,from_id:e.from_id,private_id:e.private_id||(0,l.generateGUID)(),msg_id:e.msg_id,chat_id:e.chat_id,meta:e.meta,body:e.media||{},replied_message:e.replied_message};var o;n&&(0,ee.isAssistantBot)()&&(r.body.bot_message_type=null===(o=e.body)||void 0===o?void 0:o.type);const s=e.type==y.MessageType.LISTPICKER;if(n){var u;if(s)r.text=(e.body.text||e.body.title).trim(),null!==(u=e.body)&&void 0!==u&&u.is_markdown&&(r.body.is_markdown=!0);e.is_markdown&&(r.body.is_markdown=!0);const t=d.default.getBotById(e.from_id);if(null!=t&&t.get("body.is_update_from_bot")&&(r.body.agent_info=t.toJSON()),e.type==y.MessageType.INVITE){if((0,ee.isAssistantBot)())return;if(r.type=y.MessageType.SYSTEM,r.text=(0,h.l10n)("botTransferChat"),x.Monitoring.telemetry(N.TelemetryName.BOT_TRANSFER_CHAT),(0,X.isNeedShowBotForm)(a.default))return void b.messageActions.handleBotContactsForm()}else x.Monitoring.telemetry(N.TelemetryName.CLIENT_MESSAGE_BOT)}F.messagesDispatchers.addMessage(r),s&&(r.type=y.MessageType.LISTPICKER,r.body=e.body,r.msg_id=e.msg_id+.1,r.body&&r.body.force_reply&&F.appDispatchers.setIsInputDisabled(!0),F.messagesDispatchers.addMessage(r)),(0,X.agentMessageAck)([e.msg_id],e.chat_id),F.clientDispatchers.updateClient({lastMessage:null}),_.default.agentTyping(0),F.appDispatchers.setLastMsgTime((new Date).getTime()),(0,X.openChatOnMessage)(),(0,X.sendAgentMessageTelemetry)((0,ee.isAssistantBot)()?null===(i=r.body)||void 0===i?void 0:i.bot_message_type:null)},update_agent_info:e=>{(0,A.getApp)().isOnline||t.default.setOnline();const n=e.agent_info,i=d.default.getAgentsByStatus("join").map((e=>{const t=e.store;return t.agent_id===n.agent_id?n:t}));t.default.updateAgentInfo([n]),F.chatsDispatchers.setJoinedAgents(i)},invoice:e=>{re.log("invoice",e),F.messagesDispatchers.addMessage({type:"invoice",msg_id:e.invoice.msg_id,from:"agent",body:{type:e.invoice.gateway_system+"Invoice",comment:e.invoice.comment,amount:e.invoice.amount,invoice_id:e.invoice.invoice_id,payment_url:e.invoice.payment_url,status:e.status,currency:e.invoice.currency}})},agent_chat_close:()=>{F.appDispatchers.setChatStarted(!1),F.appDispatchers.setChatAccepted(!1),F.appDispatchers.setIsInputDisabled(!1),c.default.closeChat(),F.chatsDispatchers.setNoJoinedAgents(),F.appDispatchers.setLastChatOpened(!1),F.chatsDispatchers.setChatEvaluated(!1),F.clientDispatchers.setDepartmentId(0),u.default.reset(),d.default.cleanBotsUpdate(),(0,A.getApp)().route===R.Route.CHAT_MIN&&(P.Router.setNext(R.Route.LABEL),(0,te.reloadTransitionStore)()),x.Monitoring.telemetry(N.TelemetryName.AGENT_CHAT_CLOSE)},agent_service_message:e=>{re.warn("unhandled agent_service_message",e)},agent_typing:e=>{(0,A.getApp)().isOnline||t.default.setOnline(),_.default.agentTyping(e.typing)},update_client_info:e=>{re.warn("update_client_info",e);const t={};e.avatar_url&&(t.avatarUrl=e.avatar_url),e.display_name&&(t.displayName=e.display_name),e.assigned_agent_id&&(t.assignedAgentId=e.assigned_agent_id),e.email&&(t.email=e.email),e.phone&&(t.phone=e.phone),a.default.bots&&(e.email||e.phone)&&(t.isIntroduced=!0),e.custom_data&&e.custom_data.length>0&&F.clientDispatchers.setCustomData(e.custom_data),F.clientDispatchers.setClientContacts(t)},update_client_id:e=>{re.log("update_client_id",e);(0,A.getClient)().clientId!==e.jv_client_id&&(F.clientDispatchers.setClientId(e.jv_client_id),(0,L.updateHistory)(e),x.Monitoring.telemetry(N.TelemetryName.UPDATE_CLIENT_ID))},message_state:e=>{const t=c.default.getMessageByPrivateId(e.private_id);if(re.log("messageState",e,t),e.status!==y.MessageStatus.DELIVERED){if(t){const n=(0,A.getApp)(),i=(0,A.getClient)(),r={chat_id:e.chat_id,msg_id:e.msg_id,status:y.MessageStatus.SENT};F.messagesDispatchers.updateMessage({privateId:t.get("private_id")},r),t.get("from")===y.MessageInitiator.CLIENT&&(t.get("type")==y.MessageType.TEMPORARY&&i.isIntroduced&&!n.isOnline&&"sent"==e.status&&(re.warn("messageState replace temp form message",t),F.messagesDispatchers.updateMessage({privateId:t.get("private_id")},{type:y.MessageType.MESSAGE}),F.clientDispatchers.setInputText("")),(0,C.prechatSetUsed)(!1),F.clientDispatchers.updateClient({lastMessage:null}))}}else{const t=(0,A.getMessages)().filter((e=>{let t=e.status,n=e.from;return t===y.MessageStatus.SENT&&n===y.MessageInitiator.CLIENT})),n=(t.length?[e].concat((0,r.default)(t)):[e]).map((e=>e.msg_id));F.messagesDispatchers.updateMessages({messageIds:n},{status:y.MessageStatus.DELIVERED})}},blacklist:()=>{O.default.set("is_blacklisted",!0,86400),F.appDispatchers.setChatStarted(!1),F.appDispatchers.setChatAccepted(!1),P.Router.next(R.RouterEvent.Hide),I.default.disableSoundPlayer()},disconnecting:()=>{w.default.stopBlinking()},offline:()=>{(0,A.getApp)().isOnline&&b.messageActions.sendNoAgentsOnline(),(0,j.setOfflineIntroduced)(),!(0,A.getClient)().isIntroduced||(0,j.needIntroduceInOffline)()?(a.default.bots||a.default.enable_bot_offline||(0,ee.isAssistantBot)()||(F.appDispatchers.setAppIsOnline(!1),F.appDispatchers.setIsInputDisabled(!0),b.messageActions.handleContactsForm(!0)),x.Monitoring.telemetryOnce(N.TelemetryName.FORCE_OFFLINE)):((0,A.getApp)().isOnline&&F.appDispatchers.setAppIsOnline(!1),M.default.trackOfflineMessageSent())},update_client:e=>{e.has_integration&&(0,p.hasIntegration)(e.has_integration)&&(F.clientDispatchers.setHasIntegration(e.has_integration),F.messagesDispatchers.addMessage({text:(0,h.l10n)("social_success_"+e.has_integration),type:y.MessageType.SYSTEM,body:{type:y.MessageType.SOCIAL}}),(0,X.openChatOnMessage)(),x.Monitoring.telemetry(N.TelemetryName.SOCIAL_HAS_INTEGRATION+e.has_integration),(0,p.isChatContactForm)()&&x.Monitoring.telemetry(N.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"connect_"+e.has_integration}))},connect_failed:()=>{re.log("connect_failed")},offline_ack:e=>{b.messageActions.offlineAck(e)},agent_message:e=>{(0,A.getApp)().isOnline||t.default.setOnline(),e.meta&&t.default.agentMessage(e)},chat_message:e=>{var n;re.log("chat_message",e);const i=(0,A.getApp)(),r=e.params;if(i.isOnline||t.default.setOnline(),r.from!==y.MessageInitiator.CLIENT||null===(n=r.media)||void 0===n||!n.address)if(-1!==["join","left"].indexOf(r.type))_.default.updateChatAgent(e);else{const e=r.from===y.MessageType.BOT;if((r.from===y.MessageInitiator.AGENT||e)&&t.default.agentMessage(r,e),r.from===y.MessageInitiator.CLIENT){const e=(0,m.filterMessage)(r),t=(0,A.getMessageByPrivateId)(r.private_id);if(r.private_id&&t){const e={chat_id:r.chat_id,msg_id:r.msg_id,status:y.MessageStatus.SENT};F.messagesDispatchers.updateMessage({privateId:t.private_id},e)}if(e&&!t){const e=r.private_id?r.private_id:(0,l.generateGUID)();F.messagesDispatchers.addMessage(ie(ie(ie({from:y.MessageInitiator.CLIENT,text:r.text,type:y.MessageType.MESSAGE,private_id:e,status:y.MessageStatus.DELIVERED},r.chat_id?{chat_id:r.chat_id}:null),r.msg_id?{msg_id:r.msg_id}:null),r.media?{media:r.media}:null))}e&&(0,X.openChatOnMessage)()}}},chat_message_update:e=>{const t=e.params,n=t.msg_id,i=(0,A.getMessageById)(n);if(re.log("chat_message_update",e,n,i),i)if(t.deleted){F.messagesDispatchers.updateMessage({messageId:i.msg_id},{status:y.MessageStatus.DELETED,type:y.MessageType.MESSAGE,body:null});n===(0,A.getApp)().quoteMsgId&&F.appDispatchers.setQuoteMsgId(null)}else t.updated_ts&&F.messagesDispatchers.updateMessage({messageId:i.msg_id},{updated_ts:1e3*t.updated_ts,text:t.text})},agents_list_updated:e=>{if(re.log("agents_list_updated"),(0,A.getApp)().isOnline||t.default.setOnline(),e.params.length){if(1===e.params.length){const t=e.params[0];Object.assign(u.default,t),t.bot_id||F.clientDispatchers.setPaId(t.agent_id)}t.default.updateAgentInfo(e.params),F.chatsDispatchers.setJoinedAgents(e.params),F.agentsDispatchers.initializeAgentStore(d.default.toReduxFormat())}},rate:e=>{const t=e.chat_id;(0,X.needToRateForm)(t)},updateAgentInfo:e=>{if(re.log("updateAgentInfo",e),1===e.length){const t=e[0];Object.assign(u.default,{agent_id:t.agent_id||0,bot_id:t.bot_id||0,display_name:t.display_name,title:t.title||null,avatar_url:t.avatar_url||null,state:(0,A.getApp)().chatAccepted?"join":"left"}),t.bot_id||(F.agentsDispatchers.updateAgent({id:t.agent_id||t.bot_id,name:t.display_name,title:t.title,avatarUrl:t.avatar_url||null,isBot:!!t.bot_id}),F.clientDispatchers.setPaId(t.agent_id))}},setOnline(){if(F.appDispatchers.setAppIsOnline(!0),!a.default.bots&&!a.default.enable_bot_offline&&!(0,ee.isAssistantBot)()){const e=(0,h.l10n)("offlineAgentConnected");b.messageActions.systemMessageOnce(e)}},client_message_error:e=>{x.Monitoring.telemetry(N.TelemetryName.CLIENT_MESSAGE_ERROR,{param1:(null==e?void 0:e.error)||"empty"})},client_message_ack:()=>{}};t.default=oe},15787:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setStartupClientInfo=t.sendOfflineTmpMessages=t.sendIntroduceAndMessage=t.sendClientAnswerTelemetry=t.sendApiIntroduce=t.sendAgentMessageTelemetry=t.openChatOnMessage=t.needToRateForm=t.isNeedShowBotForm=t.connectionTypingInsight=t.connectionReadyForMessages=t.connectionClientTyping=t.checkCustomData=t.agentMessageRead=t.agentMessageAck=void 0;var r=i(n(61125)),o=n(36113),a=i(n(73727)),s=n(20361),l=i(n(19955)),u=n(21476),c=n(47060),d=i(n(22541)),f=i(n(71277)),p=n(54415),g=n(83170),h=i(n(35802)),_=n(65465),m=i(n(23116)),v=i(n(4855)),y=i(n(14264)),b=n(26932),E=n(55329),C=n(43914),T=n(44145),D=n(33813),w=n(41504),O=n(13077),S=n(81152),A=n(69882),I=n(84727),k=n(34445),M=n(91225),P=n(49963),R=n(66934),x=n(31343),N=n(79523),L=n(32183),F=n(22932),j=n(42634),B=n(54346);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const H=v.default.name("ConnectionHelpers");t.openChatOnMessage=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fromHistory;if((0,C._callUserFunction)("onMessageReceived"),!t)if((0,L.pageVisible)()||d.default.startBlinking(),f.default.play("agent_message"),(0,T.getUserSettings)().labelBubble&&a.default.enable_spa_navigate)H.warn("Ignore openChatOnMessage show counter.");else if(l.default.desktop()&&(!(0,A.isCustomLabel)()||"function"!=typeof(0,F.getPageWindow)().jivo_onMessageReceived)){(0,M.isChatInputRoute)((0,T.getApp)().route)||u.Router.next(c.RouterEvent.ToChat),u.Router.getPrevRoute()===c.Route.CHAT_MIN?b.transitionDispatchers.startTransition(s.ScriptName.MAXIMIZE_WIDGET):b.transitionDispatchers.startTransition(s.ScriptName.OPEN_WIDGET);const e=setInterval((()=>{(0,D.fixSafariKeyframes)()}),50);setTimeout((()=>{clearInterval(e)}),300)}};t.sendAgentMessageTelemetry=e=>{p.Monitoring.telemetry(g.TelemetryName.AGENT_MESSAGE,{param1:(0,E.getPrechatUseTime)(),param2:m.default.isActive&&(0,M.isChatInputRoute)((0,T.getApp)().route)?"visible":"hide",param3:e||S.MessageType.MESSAGE})};t.sendClientAnswerTelemetry=e=>{H.warn("sendClientAnswerTelemetry",e);const t=y.default.getLastMessage();if(t){const n=t.get("body.bot_message_type"),i=(0,I.validateClientAnswer)(n,e.text);p.Monitoring.telemetry(g.TelemetryName.CLIENT_MESSAGE_ASSISTANT,{param1:n,param2:i?"valid":"not_valid",param3:e.text})}};t.setStartupClientInfo=e=>{b.clientDispatchers.setHasIntegration(e.has_integration),b.clientDispatchers.setAssignedAgentId(e.assigned_agent_id||null);const t=e.name||e.client_name,n=(0,T.getClient)(),i={description:n.description,accept_eula:n.eulaAccepted||null};n.email!==e.email&&(i.email=n.email),n.phone!==e.phone&&(i.phone=n.phone),n.name!==t&&(i.client_name=n.name),H.log("setStartupClientInfo",n,i),(i.email||i.phone||i.client_name)&&N.introduceActions.setIntroduce(i),!n.email&&e.email&&b.clientDispatchers.setClientEmail(e.email),!n.phone&&e.phone&&b.clientDispatchers.setClientPhone(e.phone),!n.name&&t&&b.clientDispatchers.setClientName(t),(0,T.getApp)().isOnline||z()};t.isNeedShowBotForm=e=>{const t=e.lastStatus;return!((t&&t.agents?t.agents.length:0)>0&&2==e.contacts_ask)&&(e.bots&&e.enable_bot_offline)};t.checkCustomData=e=>{h.default.getInstance()&&e&&(P.connectionAdapter.sendEventIfConnected(new w.UpdateCustomData(e)),e&&b.clientDispatchers.setCustomData(e))};t.sendApiIntroduce=e=>{const t=(0,O.getRuleLocal)("lastContactApiData"),n={client_name:e.name||e.client_name,phone:e.phone,email:e.email,description:e.description};return(0,o.shallowEqual)(U(U({},n),{},{message:e.message}),t)?(H.error("setContactInfo same client contacts",t),!1):(e.message&&_.messageActions.sendClientMessage({text:e.message}),N.introduceActions.setClientContactInfo(n,!0),e.message&&(n.message=e.message),(0,O.setRuleLocal)("lastContactApiData",n),!0)};const z=()=>{const e=y.default.getTemporaryMessages();e&&e.length&&(H.warn("sendOfflineTmpMessages"),(0,B.callInitiateChat)(),e.forEach((e=>{_.messageActions.sendClientMessage({text:e.get("text"),privateId:e.get("private_id")}),setTimeout((()=>{(0,R.checkForDelivered)(e)}),x.Timeouts.MESSAGE_SEND_ERROR_TIMEOUT)})))};t.sendOfflineTmpMessages=z;t.sendIntroduceAndMessage=(e,t)=>{t&&_.messageActions.sendClientMessage({text:t}),b.clientDispatchers.updateClient({lastMessage:null}),N.introduceActions.setClientContactInfo(e,!1,!0)};t.needToRateForm=(e,t)=>{H.warn("needToRateForm",e,t);const n=y.default.getMessagesByType(S.MessageType.RATE_FORM);if(n.length&&n[0]&&n[0].get("chat_id")==e)return;const i=(0,T.getUserSettings)().rateSettings;e&&i&&(0,j.pushRateForm)(e,i.conditionName,t)};t.agentMessageRead=(e,t)=>{d.default.stopBlinking(),P.connectionAdapter.sendEvent(new w.AgentMessagesRead(e,t))};t.agentMessageAck=(e,t)=>{P.connectionAdapter.sendEvent(new w.AgentMessagesAck(e,t))};const G=()=>P.connectionAdapter.isConnected()&&[k.ChatStatus.STARTUP_OK,k.ChatStatus.RESUME_OK].includes((0,T.getApp)().lastChatStatus);t.connectionReadyForMessages=G;let V="";t.connectionTypingInsight=e=>{(0,T.getFeatures)().typingInsight&&V!==e&&(V=e,G()&&P.connectionAdapter.sendEvent(new w.ClientServiceMessage(e)))};let $=0;t.connectionClientTyping=e=>{const t=e?1:0;$!==t&&($=t,G()&&P.connectionAdapter.sendEvent(new w.ClientTyping(t)))}},91275:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(73727)),o=i(n(95003)),a=n(69882),s=n(16016),l=i(n(19955)),u=i(n(138)),c=i(n(14264)),d=i(n(14762)),f=n(20344),p=i(n(4855)),g=n(21476),h=n(47060),_=n(81152),m=n(65465),v=n(80161),y=n(54415),b=n(83170),E=n(43914),C=n(62096),T=n(26932),D=n(31984),w=n(47138),O=n(20361),S=i(n(79868)),A=i(n(71323)),I=i(n(74379)),k=n(44145),M=i(n(73687)),P=n(23336),R=n(91225),x=n(33069),N=n(41504),L=n(41168),F=n(62162),j=n(15787),B=n(49963),W=n(79523),U=n(25516),H=n(44145),z=n(95856);const G=p.default.name("Actions");let V=null,$=null,q=!1;const Z={startCallDebounce:function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(G.warn("startCallDebounce",e,n),t.default.startCallTimeout(),["cw_wait","cw_connecting","cw_connected"].indexOf((0,k.getCallback)().status)>=0)return void G.log("already calling");const r=(0,D.getPhoneNumberInfo)(e);r?T.clientDispatchers.setClientPhone("+"+r.phoneCode+r.innerNumber):T.clientDispatchers.setClientPhone(e);const o=(0,k.getClient)(),a=(0,k.getApp)(),s=(0,H.getFeatures)();W.introduceActions.setIntroduce({name:o.name,phone:o.phone,email:o.email,description:o.description},!1),(0,D.checkStartCall)({phone:e,invitationText:i,clientToken:o.clientId,requestGRecaptchaToken:Boolean(s.recaptcha)},((i,r)=>i?(t.default.setCallError(),y.Monitoring.telemetry(b.TelemetryName.CALL_ERROR,{param1:"in request"})):((r=r.data)||(G.log("Wrong response from telephony"),r={ok:!1,error_list:["wrong_response"]}),r.only_forward?(T.callbackDispatchers.setCallbackStatus(w.CallStatus.ERROR),void T.callbackDispatchers.setCallbackError((0,f.l10n)("cw_call_forward"))):void(r.ok?(T.appDispatchers.setChatStarted(!0),T.appDispatchers.setChatAccepted(!0),T.callbackDispatchers.setCallbackStatus(w.CallStatus.WAIT),m.messageActions.handleContactsForm(),m.messageActions.systemCallMessage(`${(0,f.l10n)("cw_call_to")} ${(0,D.getMaskedPhone)(e)}`,_.MessageName.CALL_MESSAGE_START),(0,E._callUserFunction)("onCallStart"),u.default.trackCallWidgetRequested(),y.Monitoring.telemetry(b.TelemetryName.CALL_START,{param1:n}),(0,z.reloadTransitionStore)()):(t.default.setCallError(),y.Monitoring.telemetry(b.TelemetryName.CALL_ERROR,{param1:r.error_list.join(" ")}),r.work_time&&r.work_time.schedule&&((0,x.onDelayedCallAvailable)(r.work_time),(0,x.redirectAfterRequestDelayedCall)(),y.Monitoring.telemetry(b.TelemetryName.CALL_START,{param1:n})),l.default.mobileOrTablet()||a.route!==h.Route.LABEL||g.Router.next(h.RouterEvent.Navigate))))))},requestCWAvailable:e=>{const t=(0,k.getApp)();M.default.get("is_blacklisted")||t.route==h.Route.HIDDEN||(t.maintenance?T.callbackDispatchers.setCallbackAvailable(!1):(G.warn("requestCWAvailable"),(0,D.callWidgetPing)((t=>{T.callbackDispatchers.setCallbackAvailable(t.ok),t.work_time&&(0,x.onDelayedCallAvailable)(t.work_time),(0,k.getCallback)().available&&"function"==typeof e&&e()}),t.chatStarted)))},requestApiCWAvailable:e=>{(0,D.callWidgetPing)((t=>{if(T.callbackDispatchers.setCallbackAvailable(t.ok),(0,k.getCallback)().available&&"function"==typeof e)e({result:"ok"});else{const n=t.error_list?t.error_list.join(" "):"Call request error";e({result:"fail",reason:n})}}),(0,k.getApp)().chatStarted)},pingAndOpenCall:()=>{G.info("pingAndOpenCall"),B.connectionAdapter.checkConnection((()=>{const e=(0,k.getApp)();(0,D.callWidgetPing)((e=>{T.callbackDispatchers.setCallbackAvailable(e.ok),e.ok&&(0,k.getApp)().route===h.Route.LABEL&&(T.userDispatchers.setCallHeaderText(null),[w.CallPopupStatus.ENABLED,w.CallPopupStatus.ONLY_BUTTON_CLICK].includes((0,k.getCallback)().separateForm)&&l.default.desktop()?g.Router.next(h.RouterEvent.ToCallPopup):(g.Router.next(h.RouterEvent.ToCall),l.default.desktop()&&T.transitionDispatchers.startTransition(O.ScriptName.OPEN_WIDGET)),y.Monitoring.telemetryOnce(b.TelemetryName.API_CALL_OPEN))}),e.chatStarted)}))},openChatCallbacks(){G.log("openChatCallbacks"),(0,k.getApp)().isOnline?u.default.trackChatOpenedByClick():u.default.trackOfflineFormOpenedByClick(),(0,E._callUserFunction)("onOpen")},startCall:(e,n,i)=>{G.log("startCall from chat",e),B.connectionAdapter.checkConnection((()=>{t.default.startCallDebounce(e.replace(/\D+/g,""),n,i)}))},markEvaluated:()=>{T.chatsDispatchers.setChatEvaluated(!0)},updateTitle:(e,t)=>{if(G.log("updateTitle",e),!window||!window.location)return void G.log("no window");if(l.default.mobileOrTablet()&&(0,k.getApp)().route!==h.Route.LABEL)return;const n=t||(0,a.getCurrentPage)().url;G.log("updateTitle url",n),(0,j.connectionReadyForMessages)()&&B.connectionAdapter.sendEvent(new N.UrlChange(n,(0,s.setSubstrTitle)(e)))},submitShowEula:e=>{if(v.RouterUtils.needToShowEula()){const t=(0,D.getMaskedPhone)(e);return A.default.showEula(`${(0,f.l10n)("eula_phone")}\n${t}`,null,"cb"),g.Router.next(h.RouterEvent.Submit,{context:"cb"}),!0}return!1},reloadStories:()=>{o.default.reload(),(0,z.syncRouter)()},agentTyping(e){0==e?clearTimeout(V):V=setTimeout((()=>{t.default.agentTyping(0)}),3e3),T.chatsDispatchers.setAgentTyping(e)},updateChatAgent:e=>{const t=e.params,n=d.default.getAgentById(t.from_id);n?(n.set("body.state",t.type),T.messagesDispatchers.addMessage({type:"system",body:{from_id:t.from_id,action:t.type,type:"chat"},msg_id:t.msg_id,chat_id:t.chat_id})):G.error("updateChatAgent: No agent info in agents store.")},clearCallTimeout:()=>{$&&clearTimeout($)},startCallTimeout:()=>{t.default.clearCallTimeout();const e=(0,k.getCallback)();$=setTimeout((()=>{["cw_wait","cw_connecting"].indexOf(e.status)>=0&&t.default.setCallError()}),24e4)},setCallError:()=>{const e=(0,L.getCallDefaultError)();T.callbackDispatchers.setCallbackStatus(w.CallStatus.ERROR),T.callbackDispatchers.setCallbackError(e),T.messagesDispatchers.addMessage({text:e,type:_.MessageType.SYSTEM,from:_.MessageInitiator.SYSTEM,body:{type:_.MessageType.CALL,name:_.MessageName.CALL_END}})},initializeReduxStores(){var e,t;const n=(0,a.getChatPageToken)(),i=(0,k.getApp)().isInputDisabled;if(n&&T.clientDispatchers.setUserToken(n),r.default.joint||T.clientDispatchers.setHasIntegration(!1),T.callbackDispatchers.setSeparateForm(null===(e=r.default.callback_settings)||void 0===e?void 0:e.separate_form),null!==(t=r.default.callback_settings)&&void 0!==t&&t.time||T.callbackDispatchers.setCallbackAvailable(!1),G.log("initializeReduxStores",o.default),T.appDispatchers.initializeAppStore({isFocused:o.default.is_focused,isOnline:o.default.is_online,route:o.default.route,tabRoute:null,lastChatOpened:o.default.lastChatOpened,isInputDisabled:i,maintenance:r.default.maintenance,chatOpenByClient:!1,chatStarted:o.default.chat_started,chatAccepted:o.default.chat_accepted,lastMsgId:o.default.lastMsgId,lastMsgTime:o.default.lastMsgTime,started:o.default.started,showEula:o.default.show_eula,viReconnectTime:o.default.viReconnectTime,didFreezeData:o.default.didFreezeData,lastChatStatus:o.default.lastChatStatus,quoteMsgId:o.default.quoteMsgId,hiddenByRules:o.default.hiddenByRules}),(0,P.setOfflineIntroduced)(),l.default.mobileOrTablet()){if(o.default.route==h.Route.HIDDEN)return;I.default.checkZooms()}else{const e=(0,H.getUserSettings)(),t=e.widgetOrientation,n=e.widgetPadding;(0,U.fixPositionDragData)(t,n)}if(r.default.bots&&r.default.bots.length){const e=r.default.bots[0];T.botsDispatchers.addBot({avatarUrl:e.avatar_url||null,id:e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!0,type:e.type})}d.default.toReduxFormat().length&&(T.agentsDispatchers.initializeAgentStore(d.default.toReduxFormat()),T.botsDispatchers.initializeBotsStore(d.default.toReduxFormat())),T.messagesDispatchers.initializeMessagesStore(),T.chatsDispatchers.initializeChatsStore(),(0,z.reloadTransitionStore)();const s=(0,k.getProactive)();if(s.text){const e=(0,F.getProactiveAgent)(s);G.warn("restore agent proactiveData",e),e&&(0,F.addProactiveAgent)(e)}},reloadTransitionStore(){const e=(0,k.getApp)().route;let t=(0,R.isContainerRoute)(e)?O.ScriptName.OPEN_WIDGET:O.ScriptName.CLOSE_WIDGET;e===h.Route.CALL_POPUP&&(t=O.ScriptName.CLOSE_WIDGET),(0,R.isMinRoute)(e)&&(t=O.ScriptName.MIN_WIDGET),t==O.ScriptName.OPEN_WIDGET&&C.reduxStore.getState().transition.currentScript==O.ScriptName.MAXIMIZE_WIDGET||T.transitionDispatchers.initializeTransitionStore({currentScript:t})},getCurrentChatStatus(){return(0,k.getApp)().chatAccepted?w.ChatState.ACCEPTED:(0,k.getApp)().chatStarted?w.ChatState.STARTED:w.ChatState.NOT_STARTED_OR_CLOSED},checkChatStarted(e){(0,k.getApp)().isOnline||(G.log("checkChatStarted for offline."),T.appDispatchers.setLastChatOpened(e),c.default.store.length||e||T.appDispatchers.setChatStarted(!1))},initSocial(){q||(S.default.startSocials(),q=!0)},addMessagesOnOpen(){m.messageActions.addMessagesOnOpen((0,k.getApp)().isOnline)}};var K=Z;t.default=K},54346:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportVisitorSentTelemetry=t.markInvitationAnswered=t.isAssistantBot=t.checkTrackClientAnswer=t.callInitiateChat=t.addWebRTCCallMessage=void 0;var r=i(n(138)),o=i(n(14264)),a=n(78692),s=n(26932),l=n(55329),u=n(54415),c=n(83170),d=n(44145),f=n(97939),p=n(43914),g=n(48999),h=n(62162),_=n(16016),m=n(81152),v=n(47138),y=n(26932),b=n(27586),E=n(12398);const C=()=>{const e=(0,d.getApp)().isOnline,t=(0,d.getClient)().isIntroduced;(e||t)&&(r.default.trackClientInitChat(),(0,p._callUserFunction)("onClientStartChat"))};t.callInitiateChat=C;const T=()=>{(0,d.getApp)().chatStarted||C();const e=o.default.getCurrentChatAgentMessages(),t=o.default.getCurrentClientMessages();t&&!t.length&&e&&e.length&&r.default.trackClientAnswerAgentChatRequest()};t.checkTrackClientAnswer=T;t.markInvitationAnswered=()=>{const e=(0,d.getProactive)(),t=e.name,n=e.campaignId;if(s.proactiveDispatchers.setPrechats(null),t){if(n){b.StatsManager.send({campaignId:n},"chat_init");const e=(0,g.getCampaignById)(n);null!=e&&e.tag_id&&((0,E.addClientTag)(e.tag_id),(0,E.sendTagsIfNeed)())}(0,h.acceptProactive)(),s.proactiveDispatchers.setName(null),u.Monitoring.telemetry(c.TelemetryName.INVITE_ACCEPTED)}T(),a.ApiInvitationsManager.isInitialized()&&a.ApiInvitationsManager.hasInvitations()&&a.ApiInvitationsManager.markInvitationsAnswered()};t.reportVisitorSentTelemetry=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=o.default.getChatCounts(),n=(0,l.prechatUsed)()?"prechat_used":"from_input",i={param1:t>0?"old":"new",param2:n,param3:(0,d.getUserSettings)().locale,param4:e?"media":"text"};u.Monitoring.telemetry(c.TelemetryName.VISITOR_MSG_SENT,i)};t.isAssistantBot=()=>{const e=(0,d.getBots)();return e.length&&e[0].type===f.BotType.ASSISTANT};t.addWebRTCCallMessage=()=>{const e=(0,d.getChats)(),t=e[e.length?e.length-1:0],n=t&&t.joinedAgents[0],i=(0,_.generateGUID)(),r={from:m.MessageInitiator.AGENT,type:m.MessageType.WEB_RTC_CALL,status:m.MessageStatus.DELIVERED,from_id:n,private_id:i,body:{webRTCCallStatus:v.WebRTCCallStatus.INITIAL}};y.messagesDispatchers.addMessage(r),y.callbackDispatchers.setActiveWebRTCCallMessageId(i),y.messagesDispatchers.updateWebRTCCallStatus(i,v.WebRTCCallStatus.INITIAL)}},65465:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.messageActions=void 0;var r=i(n(33119)),o=i(n(92664)),a=i(n(26754)),s=n(44145),l=n(92560),u=i(n(19955)),c=i(n(14264)),d=i(n(79868)),f=n(20344),p=i(n(4855)),g=n(21476),h=n(52028),_=n(13077),m=n(81722),v=i(n(35802)),y=n(66934),b=n(26932),E=n(83170),C=n(54415),T=i(n(73727)),D=n(69882),w=n(16016),O=n(43914),S=n(81152),A=n(47060),I=n(55329),k=n(97615),M=n(94537),P=n(62162),R=n(15787),x=n(54346),N=n(80161),L=n(49963),F=n(31343),j=n(50188),B=n(54346);const W=p.default.name("MessageActions");let U=function(){function e(){(0,r.default)(this,e),this.cacheOfflineMsg={},this.mediaFile=!1,this.formTimeout=null,this.clientSendingFirstMessage=!1}return(0,o.default)(e,[{key:"systemMessage",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];W.log("systemMessage",e,t);const i={type:"text"!==t?"call":t,name:t};n||(i.unsave=!0),b.messagesDispatchers.addMessage({text:e,type:S.MessageType.SYSTEM,body:i})}},{key:"testMessage",value:function(e){b.messagesDispatchers.addMessage({text:e,type:S.MessageType.FOR_TEST,from:S.MessageInitiator.AGENT})}},{key:"botMessage",value:function(e){W.log("botMessage",e),b.messagesDispatchers.addMessage({type:S.MessageType.PREFORM,text:e,from:S.MessageInitiator.FORM})}},{key:"messageOnce",value:function(e,t,n,i){const r=this.checkIfMessageExists(e,t);if(W.log("messageOnce",r),!r)switch(e){case S.MessageType.SYSTEM:this.systemMessage(t,n,i);break;case S.MessageType.PREFORM:this.botMessage(t);break;case S.MessageType.FOR_TEST:this.testMessage(t)}}},{key:"systemMessageOnce",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.messageOnce(S.MessageType.SYSTEM,e,t,n)}},{key:"botMessageOnce",value:function(e){this.messageOnce(S.MessageType.PREFORM,e)}},{key:"checkIfMessageExists",value:function(e,t){const n=(0,s.getMessages)();if(!n.length)return!1;const i=n.find((n=>{const i=n.type===e,r=!t||n.text===t;return i&&r}));return i||!1}},{key:"_sendClientMessageBase",value:async function(e){let t=e.text,n=e.privateId,i=e.repliedMsgId,r=e.buttonId;W.warn("_sendClientMessageBase",t,n);const o=n||(0,w.generateGUID)();(0,B.markInvitationAnswered)(),(0,P.saveLastProactive)(),this.saveLastSystemMessage();const a={name:"client_message",message:t,private_id:o},l=(0,s.getApp)(),u=(0,s.getClient)();u.departmentId&&(a.widget_department_id=u.departmentId),i&&(a.replied_msg_id=i),r&&(a.button_id=r);const f=!(0,B.isAssistantBot)()&&!u.isIntroduced&&!l.isOnline;let p=null;if(!this.mediaFile&&!n){const e={from:S.MessageInitiator.CLIENT,text:t,type:f?S.MessageType.TEMPORARY:S.MessageType.MESSAGE,private_id:o,status:S.MessageStatus.SENT};(0,I.prechatUsed)()&&(e.body={is_prechat:!0}),i&&(e.replied_message=c.default.getMessageById(i).toJSON()),(0,B.isAssistantBot)()&&(0,R.sendClientAnswerTelemetry)(e),p=c.default.push(e),b.messagesDispatchers.addMessage(e,!0)}if(1!==c.default.getClientMessages().length||this.clientSendingFirstMessage||(this.clientSendingFirstMessage=!0,(0,O._callUserFunction)("onMessageSent")),(0,D.isWixEditor)()||h.isDesignerEditor)W.warn("send message disabled.");else if(!p&&n&&(p=c.default.getMessageByPrivateId(n)),(0,I.prechatEnabled)()&&((0,I.prechatUsed)()&&(a.is_prechat_btn=!0),this.deletePrechatMsg()),3==T.default.contacts_ask&&d.default.isLoginned()&&this.initSocial(),this.startContactFormIfNeed(),N.RouterUtils.canShowIntroduceForm())g.Router.next(A.RouterEvent.ToIntroduce);else{if(this.mediaFile&&(a.media=this.mediaFile.file,a.private_id=this.mediaFile.privateId,this.mediaFile=!1),(0,_.getRuleLocal)("firstMessageTime")||(0,_.setRuleLocal)("firstMessageTime",new Date),p){if(f)return;setTimeout((()=>{(0,y.checkForDelivered)(p)}),F.Timeouts.MESSAGE_SEND_ERROR_TIMEOUT)}b.appDispatchers.setChatStarted(!0),b.appDispatchers.setLastMsgTime((new Date).getTime()),L.connectionAdapter.isConnected()||await L.connectionAdapter.openConnect(null,!0),(0,R.connectionReadyForMessages)()&&L.connectionAdapter.sendEvent(a),(0,x.reportVisitorSentTelemetry)(),i&&C.Monitoring.telemetry(E.TelemetryName.REPLY_BUTTON_SEND)}}},{key:"startContactFormIfNeed",value:function(){this.needToShowContactsForm()&&!T.default.bots&&this.startFormSequence((0,s.getApp)().isOnline?(0,f.l10n)("lblIntroduceRequest"):(0,f.l10n)("offlineIntroductionText"))}},{key:"needToShowContactsForm",value:function(){if(W.warn("needToShowContactsForm"),(0,B.isAssistantBot)())return!1;const e=(0,s.getApp)(),t=(0,s.getClient)(),n=(0,s.getUserSettings)();return!t.isIntroduced&&!a.default.bot_id&&(-1!==[M.ContactsType.DURING_CHAT,M.ContactsType.DURING_CHAT_NO_CLOSE].indexOf(n.contactsAsk)||!e.isOnline)&&!c.default.getFormMessage().length&&c.default.getClientMessages().length}},{key:"checkContactsForm",value:function(){if(this.needToShowContactsForm()){const e=(0,f.l10n)("lblIntroduceRequest"),t=this.checkIfMessageExists(S.MessageType.PREFORM,e);if(t||this.botMessage(e),t){const e=c.default.getMessageByPrivateId(t.private_id);e&&e.set("created_ts",(new Date).getTime())}this.addContactsForm()}}},{key:"addContactsForm",value:function(){W.warn("addContactsForm");const e=this.checkIfMessageExists(S.MessageType.FORM);if(e){const t=c.default.getMessageByPrivateId(e.private_id);t&&t.set("created_ts",(new Date).getTime()+1)}else b.messagesDispatchers.addMessage({type:S.MessageType.FORM,from:S.MessageInitiator.FORM}),this.addSocialTelemetry()}},{key:"saveLastSystemMessage",value:function(){const e=c.default.getLastMessage();e&&"system"==e.get("type")&&e.get("body")&&e.get("body").unsave&&e.set("body",null)}},{key:"storeMediaFile",value:function(e,t){this.mediaFile={file:e,privateId:t}}},{key:"addSocialTelemetry",value:function(){const e=d.default.getJoints().links;let t="";e.vkUrl&&e.fbUrl&&(t="show_vkfb"),e.vkUrl&&!e.fbUrl&&(t="show_vk"),!e.vkUrl&&e.fbUrl&&(t="show_fb"),(e.vkUrl||e.fbUrl)&&C.Monitoring.telemetry(E.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:t})}},{key:"initSocial",value:function(){if(W.log("initSocial",d.default.isLoginned()),!c.default.getMessagesByType(S.MessageType.SOCIAL).length&&!u.default.mobileOrTablet()){const e=(0,s.getClient)();setTimeout((()=>{1!==c.default.getCurrentClientMessages().length||e.hasIntegration||(a.default.bot_id||b.messagesDispatchers.addMessage({text:(0,f.l10n)("social_online_text"),type:S.MessageType.SYSTEM,body:{type:S.MessageType.SOCIAL}}),setTimeout((()=>{this.addSocialMessage()}),2e3))}),2e3)}}},{key:"addSocialMessage",value:function(){const e=(0,s.getClient)();W.log("addSocialMessage"),T.default.joint&&!e.email&&!e.hasIntegration&&!u.default.mobileOrTablet()&&!c.default.getMessagesByType(S.MessageType.SOCIAL).length&&c.default.getCurrentClientMessages().length>0&&b.messagesDispatchers.addMessage({text:"",type:S.MessageType.SOCIAL})}},{key:"getOfflineSuccessText",value:function(){return(0,f.l10n)("offlineSuccessContactsSubmit")}},{key:"offlineSystemInvite",value:function(){if(!(0,s.getApp)().maintenance&&!(0,s.getApp)().isOnline&&!(0,s.getApp)().chatStarted){const e=(0,s.getUserSettings)().offlineFormText;W.log("offlineSystemInvite",e),this.messageOnce(S.MessageType.FOR_TEST,e)}}},{key:"startFormSequence",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;W.log("startFormSequence",e,t),(0,s.getApp)().isOnline&&a.default.bot_id&&!T.default.enable_bot_offline||((0,B.isAssistantBot)()?W.log("Disable form for assistant bot."):(this.formTimeout&&clearTimeout(this.formTimeout),(0,s.getApp)().isOnline||this.setInputDisabled(!0),t?this.formTimeout=setTimeout((()=>{0===c.default.getFormMessage().length&&(e&&this.botMessageOnce(e),setTimeout((()=>{this.addContactsForm()}),t),C.Monitoring.telemetry(E.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))}),t):0===c.default.getFormMessage().length&&(e&&this.botMessageOnce(e),this.addContactsForm(),C.Monitoring.telemetry(E.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))))}},{key:"deleteUnansweredOfflineSystemInvite",value:function(){if(W.warn("deleteUnansweredOfflineSystemInvite"),0===c.default.getTemporaryMessages().length){this.deleteOfflineSystemInvites();const e=(0,s.getClient)();(0,m.isValidEmail)()||e.isIntroduced||this.deleteOfflineTmpMessage(),b.messagesDispatchers.initializeMessagesStore()}}},{key:"deleteOfflineTmpMessage",value:function(){W.warn("deleteOfflineTmpMessage"),this.destroyByType(S.MessageType.FOR_TEST),this.destroyByType(S.MessageType.TEMPORARY),(0,s.getApp)().isOnline&&0==T.default.contacts_ask||(this.destroyByType(S.MessageType.PREFORM),this.destroyByType(S.MessageType.FORM))}},{key:"addPrechatMessage",value:function(e){if(!(0,I.prechatEnabled)())return;const t=c.default.getMessagesByType(S.MessageType.PRECHAT),n=(0,s.getApp)();!n.isOnline||n.chatStarted||t.length?t.length&&(t[0].set("created_ts",(new Date).getTime()),c.default.sort(),c.default.trigger("update")):this.pushPrechat(e)}},{key:"pushPrechat",value:function(e){b.messagesDispatchers.addMessage({body:{unsave:!0,prechats:e||T.default.prechat||null},type:S.MessageType.PRECHAT,from:S.MessageInitiator.FORM})}},{key:"deletePrechatMsg",value:function(){const e=c.default.getMessagesByType(S.MessageType.PRECHAT);e&&e.forEach((e=>{e&&e.destroy()}))}},{key:"deleteOfflineSystemInvites",value:function(){const e=c.default.getMessagesByType(S.MessageType.FOR_TEST);W.log("deleteOfflineSystemInvites",e),e.forEach((e=>{e&&e.destroy()}))}},{key:"addMaintenanceMessage",value:function(){this.systemMessageOnce((0,f.l10n)("maintenanceSystemText"),"text",!1),b.appDispatchers.setIsInputDisabled(!0)}},{key:"deleteMaintenanceMessage",value:function(){W.log("deleteMaintenanceMessage");c.default.getSystemMessageByText((0,f.l10n)("maintenanceSystemText")).forEach((e=>{e&&e.destroy()}))}},{key:"destroyByType",value:function(e){c.default.getMessagesByType(e).forEach((e=>{e&&e.destroy()}))}},{key:"markdownMessage",value:function(e){W.log("markdownMessage",e),b.messagesDispatchers.addMessage({type:S.MessageType.MESSAGE,text:e,from:S.MessageInitiator.AGENT,body:{customerIO:!0,unsave:!0}})}},{key:"systemCallMessage",value:function(e,t){const n=c.default.getLastMessage();(!n||n&&n.get("text")!==e)&&this.systemMessage(e.replace("<br />","\n"),t)}},{key:"sendClientMessage",value:function(e){let t=e.text,n=e.privateId,i=e.repliedMsgId,r=e.buttonId;0!==c.default.getClientMessages().length||k.EnvironmentManager.isDesignerEditor()||k.EnvironmentManager.isRegPage()?this.sendClientMessageCheck({text:t,privateId:n,repliedMsgId:i,buttonId:r}):j.WidgetStatus.getStatus((()=>{this.sendClientMessageCheck({text:t,privateId:n,repliedMsgId:i,buttonId:r})}))}},{key:"sendClientMessageCheck",value:function(e){let t=e.text,n=e.privateId,i=e.repliedMsgId,r=e.buttonId;if(n){v.default.getInstance()&&L.connectionAdapter.setLastError(null)}if(T.default.bots)return this._sendClientMessageBase({text:t,privateId:n,repliedMsgId:i,buttonId:r}),void(T.default.enable_bot_offline||this.handleContactsForm());(0,s.getApp)().isOnline||this.handleContactsForm(),this._sendClientMessageBase({text:t,privateId:n,repliedMsgId:i})}},{key:"offlineAck",value:function(e){W.log("offlineAck"),(0,l.isEmpty)(this.cacheOfflineMsg)&&!e||(g.Router.getCurrentRoute()===A.Route.CHAT||u.default.mobileOrTablet()||g.Router.next(A.RouterEvent.ToChat),this.cacheOfflineMsg=e)}},{key:"sendNoAgentsOnline",value:function(){T.default.bots||T.default.enable_bot_offline||(0,B.isAssistantBot)()||this.systemMessageOnce((0,f.l10n)("offlineForceOfflineMessage"))}},{key:"handleContactsForm",value:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,s.getClient)();if(!(0,s.getApp)().isOnline&&!t.isIntroduced&&c.default.getClientMessages().length&&(c.default.getOfflineTmpMessage()||e)){W.warn("handleContactsForm");const e=c.default.getFormMessage();if(0===e.length)this.startFormSequence((0,f.l10n)("offlineIntroductionText")),C.Monitoring.telemetryOnce(E.TelemetryName.OFFLINE_FIRST_MESSAGE);else{const t=c.default.getFormIntroduceText();t.length&&t[0].set({text:(0,f.l10n)("offlineIntroductionText"),created_ts:(new Date).getTime()}),e[0].set("created_ts",(new Date).getTime()+1),c.default.sort(),setTimeout((()=>{c.default.trigger("update")}),200),this.setInputDisabled(!0)}}}},{key:"handleBotContactsForm",value:function(){const e=(0,s.getClient)();W.log("handleBotContactsForm"),!e.isIntroduced&&T.default.bots&&T.default.enable_bot_offline&&0===c.default.getFormMessage().length&&(this.startFormSequence(),C.Monitoring.telemetryOnce(E.TelemetryName.OFFLINE_FIRST_MESSAGE))}},{key:"setInputDisabled",value:function(e){W.log("setInputDisabled",e),b.appDispatchers.setIsInputDisabled(e)}},{key:"checkMessageStatus",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.Timeouts.MESSAGE_SEND_ERROR_TIMEOUT;return W.log("checkMessageStatus"),new Promise((n=>{setTimeout((()=>{const t=(0,s.getMessageByPrivateId)(e);let i=!1;t?(t.msg_id||(b.messagesDispatchers.updateMessage({privateId:t.private_id},{status:S.MessageStatus.NOT_DELIVERED}),i=!0,n({isNotDelivered:i,isDeleted:t.status===S.MessageStatus.DELETED})),n({isNotDelivered:i,isDeleted:t.status===S.MessageStatus.DELETED})):(i=!0,n({isNotDelivered:i,isDeleted:!1}))}),t)}))}},{key:"setListpickerAnswer",value:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=c.default.getMessageById(e);if(i){if(W.log("setListpickerAnswer",e,t,i),i.get("body.force_reply")&&i.set("body.force_reply",!1),!n){i.set("body.answer_id",parseInt(t));const e=i.get("body.keyboard")[t];i.set("body.keyboard",[e]),i.destroy()}this.setInputDisabled(!1)}}},{key:"hideEmailForm",value:function(){const e=c.default.getMessagesByType("email");e.length&&e[e.length-1].destroy()}},{key:"addMessagesOnOpen",value:function(e){this.deleteUnansweredOfflineSystemInvite(),e?this.addPrechatMessage():this.offlineSystemInvite()}}]),e}();const H=new U;t.messageActions=H},62162:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUpdateProactive=t.saveLastProactive=t.rejectProactive=t.readProactive=t.getProactiveAgent=t.getCurrentProactiveData=t.addProactiveAgentToChat=t.addProactiveAgent=t.acceptProactive=void 0;var r=i(n(61125)),o=i(n(26754)),a=n(81152),s=n(16016),l=n(26932),u=n(44145),c=i(n(35802)),d=n(13077),f=i(n(14264)),p=i(n(4855)),g=i(n(138)),h=i(n(14762)),_=n(49963),m=n(40694);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const b=p.default.name("proactiveHelpers");t.getProactiveAgent=e=>e.text?e.botId?(0,u.getBotById)(e.botId):e.agentId?(0,u.getAgentById)(e.agentId):null:null;const E=(e,t)=>{e.isBot?l.botsDispatchers.addBot({avatarUrl:e.avatarUrl,id:e.id,name:e.name,title:e.title,isBot:!0}):l.agentsDispatchers.addAgent(e),t&&C(e)};t.addProactiveAgent=E;const C=e=>{e.isBot?l.chatsDispatchers.setJoinedBots([e.id]):l.chatsDispatchers.addJoinedAgent(e.id)};t.addProactiveAgentToChat=C;t.getCurrentProactiveData=(e,t,n,i,r,o)=>{const l=(0,m.agentToReduxFormat)(o);return E(l,!1),h.default.updateAgentList([o]),{text:e,name:t,createdTs:(new Date).getTime(),privateId:(0,s.generateGUID)(),status:a.MessageStatus.EMPTY,agentId:l.isBot?null:l.id,botId:l.isBot?l.id:null,isMarkdown:!!n,prechats:i,campaignId:r}};t.sendUpdateProactive=e=>{const t=(0,u.getClient)().sessionId;if(!t)return void b.log("updateProactive no session.");const n={name:"update_client",jv_sess_id:t};e&&(n.proactive_rule={invitation_text:e.text,private_id:e.privateId,created_ts:Math.floor(e.createdTs/1e3)},e.isMarkdown&&(n.proactive_rule.is_markdown=!0),e.agentId&&(n.proactive_rule.agent_id=e.agentId),e.botId&&(n.proactive_rule.bot_id=e.botId));const i=JSON.stringify(n);if((0,d.getRuleLocal)("lastUpdateProactiveEvent")!=i&&((0,d.setRuleLocal)("lastUpdateProactiveEvent",i),b.log("sendUpdateProactive",n),n.proactive_rule)){c.default.getInstance()&&_.connectionAdapter.sendEventIfConnected(n)}};t.saveLastProactive=()=>{const e=f.default.getLastProactive();if(e){var t,n;const i=e.toJSON(),r=i.body.is_markdown,a=null===(t=i.body)||void 0===t?void 0:t.agent_info,s=null===(n=i.body)||void 0===n?void 0:n.extra,u=a||o.default;i.body=y(y({},a?null:u),{},{agent_info:u,is_markdown:r||null,extra:s||null}),e.destroy(),l.messagesDispatchers.addMessage(i)}};t.readProactive=()=>{const e=(0,u.getProactive)();e.text&&e.status!==a.MessageStatus.READ&&l.proactiveDispatchers.setStatus(a.MessageStatus.READ)};t.rejectProactive=()=>{const e=(0,u.getProactive)(),t=e.campaignId,n=e.name;n&&(t?g.default.trackCampaignRejected(n):g.default.trackProactiveInvitationRejected(n))};t.acceptProactive=()=>{const e=(0,u.getProactive)(),t=e.campaignId,n=e.name;n&&(t?g.default.trackCampaignAccepted(n):g.default.trackProactiveInvitationAccepted(n))}},92443:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(26754)),o=i(n(14264)),a=i(n(91275)),s=i(n(19955)),l=n(21476),u=n(47060),c=n(65465),d=n(54415),f=n(83170),p=n(81152),g=n(26932),h=n(20361),_=n(44145),m=n(47138),v=n(44733),y=n(13077),b=i(n(4855)),E=i(n(138)),C=n(55329),T=n(69882),D=n(27586),w=n(75998),O=n(62162);const S=b.default.name("ruleActions"),A=()=>{(0,_.getApp)().isOnline&&c.messageActions.deleteUnansweredOfflineSystemInvite(),l.Router.getCurrentRoute()!==u.Route.LABEL||s.default.mobileOrTablet()||(l.Router.next(u.RouterEvent.ToChat),g.transitionDispatchers.startTransition(h.ScriptName.OPEN_WIDGET),(0,O.readProactive)())},I=e=>{v.StorageProvider.set("hide_reported",e)};var k={proactive:e=>{let t=e.message,n=e.agentInfo,i=e.name,o=e.isMarkdown,a=e.prechats,s=e.campaignId,l=e.conditionList,u=e.extra;Object.assign(r.default,n);const c=(0,O.getCurrentProactiveData)(t,i,o,a,s,n);g.proactiveDispatchers.addProactive(c);const h={is_markdown:o,unsave:!0,agent_info:n};s&&(h.campaign_id=s),u&&(h.extra=u);const _={from:p.MessageInitiator.AGENT,from_id:n.agent_id,status:p.MessageStatus.READ,private_id:c.privateId,text:c.text,created_ts:c.createdTs,type:p.MessageType.PROACTIVE,body:h};n.bot_id&&(_.from_id=n.bot_id,_.from=p.MessageType.BOT),g.messagesDispatchers.addMessage(_),g.userDispatchers.setCallHeaderText(null),A(),(0,O.sendUpdateProactive)(c),(0,C.updatePrechatTime)(c.createdTs),I(!1),s&&D.StatsManager.send({campaignId:s},"shown");const m=s?"campaign"+s:(0,y.isDefaultProactive)()?"default":"custom";d.Monitoring.telemetry(f.TelemetryName.CHAT_INVITE,{param1:m,param2:(0,y.timeDiff)((0,y.getRuleLocal)("pageEnterTime")),param3:(0,T.isCustomLabel)()?"customlabel":"label",param4:l})},showCallForm:(e,t)=>{a.default.requestCWAvailable((()=>{if(S.log("requestCWAvailable: ",(0,_.getCallback)().available),d.Monitoring.telemetry(f.TelemetryName.CWP_SHOW_ON_PROACTIVE),!s.default.mobileOrTablet()&&[m.CallPopupStatus.ENABLED,m.CallPopupStatus.ONLY_TRIGGERS].includes((0,_.getCallback)().separateForm))return g.userDispatchers.setCallHeaderText(e),l.Router.next(u.RouterEvent.ToCallPopup),"function"==typeof t&&t(),void I(!1);(0,_.getCallback)().available&&(0,_.getApp)().route==u.Route.LABEL&&(g.userDispatchers.setCallHeaderText(e),!s.default.mobileOrTablet()&&l.Router.next(u.RouterEvent.ToCall),g.transitionDispatchers.startTransition(h.ScriptName.OPEN_WIDGET),"function"==typeof t&&t(),I(!1))}))},systemMessage:e=>{if(r.default.bot_id)return;const t=o.default.getLastMessage();t&&t.get("type")===p.MessageType.SYSTEM&&t.get("text")===e&&t.destroy();const n={type:p.MessageType.SYSTEM,text:e};(0,_.getApp)().chatStarted||(n.body={unsave:!0}),g.messagesDispatchers.addMessage(n),A(),I(!1)},systemMessageEmail:e=>{g.messagesDispatchers.addMessage({type:"email",text:e,body:{unsave:!0}}),A(),E.default.trackSystemMessageEmailShown(),I(!1)},openOffline:()=>{c.messageActions.offlineSystemInvite(!0),A(),I(!1),d.Monitoring.telemetry(f.TelemetryName.OFFLINE_INVITE)},showPopup:e=>{S.log("ruleActions: showCampaignPopup",e),w.campaignPopupDispatch.updateCampaignPopup(e),w.campaignPopupDispatch.setDisplay(!0)}};t.default=k},50350:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUrlChange=void 0;var r=n(47060),o=i(n(19955)),a=n(44145),s=n(69882),l=n(41504),u=n(16016),c=n(49963),d=i(n(4855)),f=n(15787);const p=d.default.name("sendUrlChange");t.sendUrlChange=(e,t)=>{if(!window||!window.location)return void p.log("no window");if(o.default.mobileOrTablet()&&(0,a.getApp)().route!==r.Route.LABEL)return;const n=t||(0,s.getCurrentPage)().url;p.log("updateTitle url",n),(0,f.connectionReadyForMessages)()&&c.connectionAdapter.sendEvent(new l.UrlChange(n,(0,u.setSubstrTitle)(e)))}},95856:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.syncRouter=t.reloadTransitionStore=void 0;var r=n(47060),o=n(44145),a=n(68403),s=n(21476),l=i(n(79868)),u=i(n(4855)),c=n(91225),d=n(20361),f=n(26932);const p=u.default.name("syncRouter"),g=()=>{const e=(0,o.getApp)().route;let t=(0,c.isContainerRoute)(e)?d.ScriptName.OPEN_WIDGET:d.ScriptName.CLOSE_WIDGET;e===r.Route.CALL_POPUP&&(t=d.ScriptName.CLOSE_WIDGET),(0,c.isMinRoute)(e)&&(t=d.ScriptName.MIN_WIDGET);const n=(0,o.getTransition)().currentScript;t==d.ScriptName.OPEN_WIDGET&&n==d.ScriptName.MAXIMIZE_WIDGET||f.transitionDispatchers.initializeTransitionStore({currentScript:t})};t.reloadTransitionStore=g;t.syncRouter=()=>{const e=(0,o.getApp)(),t=(0,o.getClient)();if(p.warn("syncRouter",e.route,s.Router.getCurrentRoute()),e.route!==s.Router.getCurrentRoute()){const n=s.Router.getPrevEvent(),i=e.route===r.Route.INTRODUCE;if(t.isIntroduced&&i)return;if(!e.isOnline&&i)return;if((0,a.isChatContactForm)()&&i)return;if(!(e.route!==r.Route.CHAT_SOCIAL||n&&l.default.getPopupMode()))return void p.warn("prevent to show Social without user click.");if(-1!=[r.Route.CHAT_EULA,r.Route.CALL_EULA].indexOf(e.route)&&(!n||n&&-1==n.indexOf("submit"))&&e.showEula)return void p.warn("prevent to show Eula without user click.");if(e.route===r.Route.CHAT_MIN&&!e.chatAccepted)return void s.Router.setNext(r.RouterEvent.CloseWindow);s.Router.setNext(e.route),g()}}},64123:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setCallbackStatus=t.getStarupTime=t.enableRecaptchaAntispam=t.enableMaintenance=void 0;var r=n(26932),o=i(n(4855)),a=n(65465),s=n(13077),l=n(20344),u=i(n(5735));const c=o.default.name("Action utils","color: grey;");t.enableMaintenance=()=>{c.log("Maintenance mode is on"),r.appDispatchers.setMaintenance(!0),r.callbackDispatchers.setCallbackAvailable(!1),a.messageActions.addMaintenanceMessage()};t.setCallbackStatus=e=>{c.log("setCallbackStatus",e),r.callbackDispatchers.setCallbackStatus(!!e&&e.status)};t.getStarupTime=()=>(((new Date).getTime()-(0,s.getRuleLocal)("sendStartupTime")||0)/1e3).toFixed(1);t.enableRecaptchaAntispam=()=>{c.log("Enable antispam"),r.callbackDispatchers.setCallbackAvailable(!1),a.messageActions.systemMessageOnce((0,l.l10n)("maintenanceSystemText"),"text",!1),r.appDispatchers.setIsInputDisabled(!0),u.default.allRulesCancel()}},138:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=i(n(4855)),a=n(68403),s=n(22932),l=n(79225),u=n(73422),c=n(48999);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const f=o.default.name("analytics"),p={counters:{ya:0,fb:0,ga:0},_yaCounter:[],_trackedEvents:[],getCountersTelemetry:function(){return{param2:this.counters.ya,param3:this.counters.fb,param4:this.counters.ga}},getAnalyticsClientId:function(){const e=(0,s.getPageWindow)(),t={};return"function"==typeof e.ga&&("function"==typeof e.ga.getAll&&e.ga.getAll().forEach((e=>{t.ga||(t.ga=e.get("clientId"))})),this.counters.ga=1),!t.ga&&e.gaGlobal&&(t.ga=e.gaGlobal.vid,this.counters.ga=1),this._yaCounter.forEach((n=>{e[n]&&"function"==typeof e[n].getClientID&&(t.ym||(t.ym=e[n].getClientID()))})),t},isAnalyticsIdAvaiable:function(){if(!this.isEnabled())return!1;const e=this.getAnalyticsClientId();return f.log("Counters userId",e),!(!(0,a.isPaidCustomer)()||!e.ga&&!e.ym)&&e},init:function(){if(this.isEnabled()){this._yaCounter=[];try{const e=(0,s.getPageWindow)();for(const t in e)0===t.indexOf("yaCounter")&&"function"==typeof e[t].reachGoal&&(this._yaCounter.push(t),this.counters.ya=1);!this.counters.ya&&e.Ya&&e.Ya._metrika&&e.Ya._metrika.getCounters&&e.Ya._metrika.getCounters().forEach((t=>{const n=e["yaCounter"+t.id];n&&this._yaCounter.push(n)})),f.log("Active Yandex counters: ",this._yaCounter.length)}catch(e){f.log(e.toString())}}},isEnabled:function(){if(!(0,a.isAnalyticsDisabled)()&&(0,a.isPaidCustomer)())return!0},_trackEvent:function(e,t,n){if(!this.isEnabled())return;if(!n&&this._trackedEvents.includes(e))return;this.counters.ga&&this.counters.ya||this.init(),this._trackedEvents.push(e),f.info(`trackEvent action: ${e}, label: ${t}`);const i=(0,s.getPageWindow)();void 0!==i._gaq&&"function"==typeof i._gaq.push&&i._gaq.push(["_trackEvent","JivoSite",e,t,void 0,!0]),"function"==typeof i.ga&&"function"==typeof i.ga.getAll&&(i.ga.getAll().forEach((function(n){const i=n.get("name");f.log("track ga:",n.get("name"),e,t),i&&0!==i.search(/^gtag_/i)&&n.send("event","JivoSite",e,t,{nonInteraction:1})})),this.counters.ga=1);const o="function"==typeof i.gtag,a={event_category:"JivoSite",event_action:e,event_label:t};if(o&&(f.log("track gtag:",a),i.gtag("event","JivoSite",a),this.counters.ga=1),!o&&i.dataLayer&&"function"==typeof i.dataLayer.push&&(f.log("track dataLayer:",a),i.dataLayer.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event:"JivoSite"},a)),this.counters.ga=1),i._gaUA_real&&"function"==typeof i._gaUA_real.getAll){const n=i._gaUA_real.getAll();2==n.length&&(n[1].send("event","JivoSite",e,t,{nonInteraction:1}),f.log("Track event to custom tiu client counter",n[1].get("trackingId"),e,t)),this.counters.ga=1}if(i.gaUA&&"function"==typeof i.gaUA.getAll){const n=i.gaUA.getAll();n.length&&n.length>0&&n[1]&&"function"==typeof n[1].send&&(n[1].send("event","JivoSite",e,t,{nonInteraction:1}),f.log("Track event to custom tiu client counter",n[1].get("trackingId"),e,t)),this.counters.ga=1}if(this._yaCounter.length>0){e=["Jivo"].concat(e.split(" ")).join("_");var l=(0,s.getPageWindow)();this._yaCounter.forEach((function(t){l&&l[t]&&"function"==typeof l[t].reachGoal&&l[t].reachGoal(e)})),this.counters.ya=1}this.trackFBEvents(e)},_setCustomVar:function(e,t){f.log("_setCustomVar: "+e+"/"+t);const n=(0,s.getPageWindow)();if(void 0!==n._gaq&&n._gaq.push(["_setCustomVar",1,e,t,1]),"function"==typeof n.ga&&n.ga("set",e,t),this._yaCounter.length>0){const i={};i[e]=t,this._yaCounter.forEach((function(e){n[e].params(i)}))}},trackFBEvents:function(e){const t=(0,s.getPageWindow)().fbq;t&&!(0,a.isJivoSite)()&&(e=e.replace(/ /gi,"_").replace("Jivo_",""),f.log("trackFBEvents",e),(0,u.isFunction)(t)&&(t("trackCustom","Jivo",{content_name:e}),this.counters.fb=1))},trackChatOpenedByClick:function(){this._trackEvent("Chat requested","User clicked chat widget")},trackOfflineFormOpenedByClick:function(){this._trackEvent("Offline form shown","User offline form")},trackOfflineMessageSent:function(){this._trackEvent("Offline message sent","User sent message via offline form")},trackProactiveInvitationShown:function(e){this._trackEvent("Proactive invitation shown",e)},trackProactiveInvitationAccepted:function(e){this._trackEvent("Proactive invitation accepted",e)},trackProactiveInvitationRejected:function(e){this._trackEvent("Proactive invitation rejected",e)},trackCampaignShown:function(e){this._trackEvent("jivo_chat_campaign_shown",e,!0)},trackCampaignAccepted:function(e){this._trackEvent("jivo_chat_campaign_answered",e,!0)},trackCampaignRejected:function(e){this._trackEvent("jivo_chat_campaign_closed",e,!0)},trackPopupClosed:function(e){this._trackEvent("jivo_popup_closed",e,!0)},trackChatConnected:function(){this._trackEvent("Chat established","User connected to agent")},trackGaveContacts:function(){const e="User gave contacts during chat";this._trackEvent(e,e)},trackCallWidgetInvitationShown:function(e){this._trackEvent("Callback invitation shown",e)},trackCallWidgetRequested:function(){this._trackEvent("Callback requested","User request callback.")},setABTestGroupContacts:function(e,t){this._setCustomVar(e,t)},trackSystemMessageEmailShown:function(){const e="In-chat email form shown";this._trackEvent(e,e)},trackSystemMessageEmailSubmitted:function(){const e="In-chat email form submitted";this._trackEvent(e,e)},trackContinueInSocial:function(e){this._trackEvent("Continue in social",`User clicked ${e} button`)},trackMobileSocial:function(e){const t=this.getSocialName(e);this._trackEvent(`Jivo_${t}`,`User tap ${t} mobile link`)},trackSocial:function(e){const t=this.getSocialName(e);this._trackEvent(`Jivo_${t}`,`User click ${t} label link`)},trackClientInitChat:function(){this._trackEvent("Client initiate chat","Client initiate chat")},trackClientAnswerAgentChatRequest:function(){const e="Client answer on agent request";this._trackEvent(e,e)},trackMobileCallClick:function(){this._trackEvent("Mobile call","Mobile call")},trackCallClick:function(){this._trackEvent("Callback button","User requested callback form")},trackPrechatClick:function(e){this._trackEvent("Prechat phrase clicked",e)},trackBotButtonClick:function(e){this._trackEvent("Client press bot button",e)},getSocialName(e){switch(e){case"vk":return"Vkontakte";case"fb":return"Facebook";case"ig":return"Instagram";case"wa":return"WhatsApp";case"tg":return"Telegram";case"vb":return"Viber";default:return e}},reportCampaign:function(e,t){const n=(0,c.getCampaignById)(t);if(!n)return;const i="popup"===n.type;this._trackEvent("jivo_"+this.getCampaignText(e,i),"name_"+(0,l.replaceAll)(n.title," ","_"),!0)},getCampaignText:function(e,t){return`${t?"popup":"chat_campaign"}_${e}`}};var g=p;t.default=g},42908:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var r=i(n(61125)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(73727)),a=i(n(95003)),s=n(92560),l=i(n(27104)),u=i(n(19955)),c=i(n(138)),d=i(n(3415)),f=i(n(91275)),p=n(21476),g=n(65465),h=i(n(86961)),_=n(54415),m=i(n(14264)),v=i(n(98960)),y=i(n(79868)),b=n(31984),E=n(26932),C=n(20361),T=n(13077),D=i(n(73687)),w=i(n(35802)),O=n(47060),S=n(83170),A=n(78692),I=i(n(5735)),k=n(41504),M=n(84727),P=n(97615),R=n(44145),x=i(n(4855)),N=n(49963),L=n(90970),F=n(32183),j=n(69882),B=n(73422),W=n(32915),U=n(34930),H=n(55004),z=n(21733),G=n(15787),V=n(83907),$=n(50350);function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Y=x.default.name("api","color: grey"),J={open:e=>{const t=(0,R.getApp)();if(_.Monitoring.telemetryWithProbability(S.TelemetryName.API_OPEN,{param1:e},S.RateLimit.High),D.default.get("is_blacklisted"))return{result:"fail"};u.default.mobileOrTablet()&&(0,F.showCustomLabel)(!0);const n=(0,B.isObject)(e);return n&&"call"===e.start?o.default.callback_settings.time?(t.route===O.Route.CALL||(I.default.allRulesCancel(),f.default.pingAndOpenCall()),{result:"ok"}):(Y.info("Callback is disabled."),{result:"fail",reason:"Callback is disabled"}):t.route===O.Route.CHAT?{result:"ok",opened:!0}:(E.appDispatchers.setAppIsFocused(!0),n&&"menu"===e.start?u.default.mobile()&&y.default.getJoints().count>0?(E.appDispatchers.setChatOpenByClient(!1),p.Router.next(O.RouterEvent.ToMobileMenu)):(E.transitionDispatchers.startTransition(C.ScriptName.OPEN_WIDGET),p.Router.next(O.RouterEvent.ApiOpen)):(u.default.desktop()&&E.transitionDispatchers.startTransition(C.ScriptName.OPEN_WIDGET),p.Router.next(O.RouterEvent.ApiOpen)),g.messageActions.offlineSystemInvite(),g.messageActions.addPrechatMessage(),(0,j.isCustomLabel)()&&u.default.mobileOrTablet()&&((0,R.getApp)().isOnline?c.default.trackChatOpenedByClick():c.default.trackOfflineFormOpenedByClick()),{result:"ok"})},close:()=>{if(_.Monitoring.telemetryWithProbability(S.TelemetryName.API_CLOSE,{},S.RateLimit.High),D.default.get("is_blacklisted"))return{result:"fail"};if([O.Route.LABEL,O.Route.CHAT_MIN].indexOf((0,R.getApp)().route)>=0)return{result:"ok",closed:!0};if((0,U.closeWidget)(),u.default.mobileOrTablet())p.Router.next(O.RouterEvent.CloseWindow);else{const e=(0,R.getApp)().chatAccepted?C.ScriptName.MINIMIZE_WIDGET:C.ScriptName.CLOSE_WIDGET;E.transitionDispatchers.startTransition(e)}return{result:"ok"}},getContactInfo:()=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;_.Monitoring.telemetryWithProbability(S.TelemetryName.API_GET_CONTACT_INFO,{},S.RateLimit.Low);const e=(0,R.getClient)();return{client_name:e.name,email:e.email,phone:e.phone,description:e.description}},getVisitorNumber:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;Y.log("getVisitorNumber",e);const t=(0,R.getClient)().clientId;if(t&&t.indexOf(".")>0&&(0,H.isFunction)(e))return e(null,t.split(".")[0]);(0,H.isFunction)(e)?(_.Monitoring.telemetryWithProbability(S.TelemetryName.API_GET_VISITOR_NUMBER,{},S.RateLimit.Low),h.default.getVisitorNumber(((n,i)=>{if(Y.log(n,i),n)Y.log("Error fetch visitor number.");else if((0,B.isObject)(i.data)&&i.data.client_id&&i.data.result){const n=i.data.client_id;t||E.clientDispatchers.updateClient({clientId:n}),(0,H.isFunction)(e)&&(0,z.isString)(n)&&e(null,n.split(".")[0])}else Y.error("Error fetching visitor number")}))):Y.error("Please provide callback function in jivo_api.getVisitorNumber(callback)")},setUserToken:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;if(Y.log("setUserToken",e),_.Monitoring.telemetryWithProbability(S.TelemetryName.API_SET_USER_TOKEN,{},S.RateLimit.High),"string"==typeof e||e instanceof String){const t=(0,R.getClient)();let n;const i=e!==t.userToken;i&&E.clientDispatchers.setUserToken(e);if(w.default.getInstance()){if(i&&N.connectionAdapter.isConnected())N.connectionAdapter.sendEvent(new k.UpdateUserToken(e)),Y.log(`WIDGET: Token updated, token: ${e}`);else{Y.log("WIDGET: Token set, but was not sent to the server");const n=(0,R.getFeatures)().userToken&&e&&(!t.clientId||!t.sessionId);!N.connectionAdapter.isConnected()&&n&&N.connectionAdapter.openConnect(!1,!0)}n={result:"ok",token:e||!1}}return!o.default.enable_api_invitation&&P.EnvironmentManager.isProduction()||(0,R.getApp)().chatStarted||A.ApiInvitationsManager.initialize(e),n}return Y.error("WIDGET: Bad token. The token must be type of string"),{result:"fail",token:e||!1}},setCustomData:e=>{var t;if(!(P.EnvironmentManager.isJsApiAvaiable()||null!==(t=o.default.modules)&&void 0!==t&&t.jivo_marketing))return W.paidRequired;_.Monitoring.telemetryWithProbability(S.TelemetryName.API_SET_CUSTOM_DATA,{},S.RateLimit.Low);const n=(0,R.getSystemSettings)().apiDomain,i=(0,M.validateCustomData)(e,n),r=(0,R.getClient)().customData;return(0,B.isArray)(i)?r&&(0,L.isArrayEqual)(i,(0,R.getClient)().customData)?{result:"fail",reason:"Cannot send the same data"}:((0,G.checkCustomData)(i),{result:"ok"}):(Y.error("Invalid custom data.",i),{result:"fail",reason:i})},sendMessage:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;if("string"!=typeof e||"[object Object]"===Object.prototype.toString.call(e))return{result:"fail",error:"First argument must be text to send message."};const t=m.default.getClientMessages();return t.length&&e==t[t.length-1].get("text")?{result:"fail",error:"You cannot send 2 messages in a row"}:(g.messageActions.sendClientMessage({text:e}),_.Monitoring.telemetryOnce(S.TelemetryName.API_SEND_MESSAGE),{result:"ok"})},setContactInfo:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;if(_.Monitoring.telemetryWithProbability(S.TelemetryName.API_SET_CONTACT_INFO,{},S.RateLimit.Low),e&&(0,B.isObject)(e)){Y.log("setContactInfo",e);const t={};let n=!1,i="";for(const r in e)if({}.hasOwnProperty.call(e,r)){const o=e[r];let a=r;"name"==a&&(a="client_name"),o&&v.default[a]&&v.default[a](o)?(t[r]=o,n=!0):(Y.error(a+" not valid."),i+=a+" not valid.")}if(n){return(0,G.sendApiIntroduce)(t)?{result:"ok",data:t}:{result:"false",data:t,error:"Cant send same client contacts twice."}}return _.Monitoring.telemetryWithProbability(S.TelemetryName.API_SET_CONTACT_INFO_BAD_DATA,{},S.RateLimit.High),Y.error("setContactInfo bad data",e),{result:"fail",error:i}}},showProactiveInvitation:(e,t,n)=>{const i=(0,R.getClient)();(0,T.isYandexMarketClient)(i.utm)?Y.log("Disabled for YM clients"):P.EnvironmentManager.isJsApiAvaiable()?(_.Monitoring.telemetryOnce(S.TelemetryName.API_SHOW_PROACTIVE),I.default.showProactive(e,+t,"jivo_api.showProactiveInvitation",n),I.default.cancelRule(V.RuleTypes.PROACTIVE)):Y.log("Proactive disabled for free users.")},highlightCobrowse:(e,t,n)=>{if(!e)return!1;d.default.getCobrowseData(e,t,n)},sendOfflineMessage:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;if(_.Monitoring.telemetryOnce(S.TelemetryName.API_SEND_OFFLINE_MESSAGE),Y.log("sendOfflineMessage",e),(0,R.getApp)().isOnline)return{result:"fail",error:"Error send offline message when chat is online."};if((0,B.isObject)(e)){Y.log("sendOfflineMessage",e);let t="";for(const n in e)if({}.hasOwnProperty.call(e,n)){const i=e[n];let r=n;"name"==r&&(r="client_name"),i&&v.default[r]&&v.default[r](i)||(Y.error(r+" not valid."),t+=r+" not valid. ")}if(""==t){return(0,G.sendApiIntroduce)(e)?{result:"ok"}:{result:"fail",error:"Cant send same message and contacts twice."}}return Y.warn("sendOfflineMessage bad data",e),_.Monitoring.telemetryOnce(S.TelemetryName.API_SEND_OFFLINE_MESSAGE_BAD_DATA),{result:"fail",error:t}}return{result:"fail",error:"Invalid params for offline message"}},setRules:e=>P.EnvironmentManager.isJsApiAvaiable()?(_.Monitoring.telemetryOnce(S.TelemetryName.API_SET_RULES),(0,B.isArray)(e)?(I.default.allRulesCancel(),I.default.rules=[],(0,o.setConfigParam)("rules",e),I.default.init(),{result:"ok"}):(Y.error("Invalid type of rules, must be object."),{result:"fail"})):W.paidRequired,chatMode:()=>P.EnvironmentManager.isJsApiAvaiable()?(_.Monitoring.telemetryWithProbability(S.TelemetryName.API_CHAT_MODE,{},S.RateLimit.Low),o.default.chat_mode):W.paidRequired,setWidgetColor:(e,t)=>{_.Monitoring.telemetryOnce(S.TelemetryName.API_SET_WIDGET_COLOR);const n=l.default.isLightColor(e)?"dark":"light";E.userDispatchers.setWidgetColor(e),E.userDispatchers.setWidgetColor2(t||null),E.userDispatchers.setWidgetFontColor(n)},sendPageTitle:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return P.EnvironmentManager.isJsApiAvaiable()?e&&"string"==typeof e?((0,$.sendUrlChange)(e,n),t&&_.Monitoring.telemetryOnce(S.TelemetryName.API_SEND_PAGE_TITLE),{result:"ok"}):{result:"fail",reason:"Invalid title"}:W.paidRequired},isCallbackEnabled:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;"function"==typeof e&&(_.Monitoring.telemetryWithProbability(S.TelemetryName.API_IS_CALLBACK_ENABLED,{},S.RateLimit.High),(0,s.isEmpty)(o.default.callback_settings)?e({result:"fail",reason:"Callback disabled"}):f.default.requestApiCWAvailable(e))},startCall:e=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;const t=(0,R.getCallback)();if(Y.log("api startCall",e),!t.available||(0,s.isEmpty)(o.default.callback_settings))return{result:"fail",reason:"Callback disabled"};if(e){const t=(0,b.getPhoneNumberInfo)(e);return t?(e="+"+t.number,p.Router.next(O.RouterEvent.ToCall),f.default.startCall(e,"from_api"),{result:"ok"}):{result:"fail",reason:"Invalid phone"}}return{result:"fail",reason:"Invalid phone"}},getUtm:()=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;_.Monitoring.telemetryWithProbability(S.TelemetryName.API_GET_UTM,{},S.RateLimit.High);const e=(0,R.getClient)().utm;return{term:e.term||e.keyword||null,campaign:e.campaign||null,content:e.content||null,medium:e.medium||null,source:e.source||null}},getUnreadMessagesCount:()=>{const e=(0,R.getUnreadMessages)();Y.log("getUnreadMessagesCount",e);const t=(0,R.getLastChatId)();return e.filter((e=>e.chat_id===t)).length},clearHistory:()=>{if(!P.EnvironmentManager.isJsApiAvaiable())return W.paidRequired;E.clientDispatchers.resetClient(),a.default.reset(),E.appDispatchers.setDidFreezeData(!0),m.default.destroy(),Y.log("Client info deleted, history cleared.")},showCampaignPopup:(e,t,n,i)=>{if(!P.EnvironmentManager.isTesting()&&!P.EnvironmentManager.isApp())return;const r=o.default.campaigns.find((t=>t.campaign_id===e));r&&I.default.showCampaignPopup(K(K({},r.content.popup_settings),{},{campaignId:e,answerData:t,onSubmitActionCallback:n}),i)},setTelegramLink:e=>(0,W.setJointLink)(e,"tg"),setWhatsAppLink:e=>(0,W.setJointLink)(e,"wa"),setVKLink:e=>(0,W.setJointLink)(e,"vk")};t.api=J,o.default.enable_client_attributes&&!P.EnvironmentManager.isProduction()&&(J.setClientAttributes=e=>{E.clientDispatchers.setClientAttributes(e)})},3415:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(98661)),o=i(n(98661)),a=i(n(73727)),s=n(20344),l=n(32183),u=i(n(19955)),c=i(n(90842)),d=i(n(93867)),f=n(54415),p=n(83170),g=n(97615),h=i(n(22541)),_=i(n(4855)),m=n(9393),v=i(n(87736)),y=n(38632),b=n(52161),E=n(21951),C=n(73422),T=n(95911),D=n(55004),w=n(67597),O=n(69882),S=n(22932);const A=_.default.name("cobrowse"),I=window.parent.document,k=function(e,t){const n=window.top;"function"==typeof n.history.replaceState?n.history.replaceState({},t,e):"function"==typeof n.history.pushState&&n.history.pushState({},t,e)},M={init:function(){var e,t,n=!1,i={};c.default.install(window.parent),this._process=t=function(t,r){n?(A.log("controller of childSandboxBridge set as for NodeWebkit"),(e=x).setLangpack(i),e.init(),"in_node_webkit"===t&&window.parent.jivo_cobrowse.source.postMessage({name:"widget_ready"},window.parent.jivo_cobrowse.origin)):e=R,e[t]&&"is_node_webkit"!==t&&e[t](r)},(0,E.addListener)(window.parent,"message",(function(e){if(e&&e.data&&"object"==typeof e.data){var r=e.data;-1!==["startSelection","stopSelection","in_node_webkit"].indexOf(r.name)&&e.source&&e.origin&&(e.source,e.origin,n=!0,r.langpack&&(i=r.langpack),t(r.name,r))}}),!1)},process:function(e,t){this._process||this.init(),this._process(e,t)},create:function(e,t){M.process("highlight",e),M.process("renderTooltip",e),k(t,I.title)},postMessage:function(e){setTimeout((function(){window.parent.jivo_cobrowse.source.postMessage(e,window.parent.jivo_cobrowse.origin)}),0)},isNodeWebkit:function(){return isNodeWebkit},isOldCobrowse:e=>{if(10==e.length)return!0;let t=null;try{t=window.atob(e),(0,S.getPageWindow)().document.querySelector(t)}catch(e){t=!1}return!t},getCobrowseData:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(A.log("getCobrowseData",e,t,n,i),!M.isOldCobrowse(e)){const o=(0,S.getPageWindow)().location.href.replace((0,S.getPageWindow)().location.hash,"");if(t&&t!==o)(0,S.getPageWindow)().document.location.href=`${t}#jvhs_${e}`;else{t=(0,S.getPageWindow)().document.location.href;const o=`${t.split("#")[0]}#jvhs_${e}`;let a=null;try{a=window.atob(e)}catch(t){return A.error(t),void f.Monitoring.telemetry(p.TelemetryName.COBROWSE_FAILED,{param1:e,param2:t})}M.create({comment:n?(0,b.escape)(n):(0,s.l10n)("lblDefaultCobrowseComment"),element:a,hash:e,page:o,show:!0,agentId:i&&i.agentId,agent:i,cb:r},o)}return}const o=a.default.base_url+`/script/cobrowsing?hash=${e}`;T.xhrRequest.get(o,((n,i)=>{if(n)return(0,D.isFunction)(r)&&r(!1),f.Monitoring.telemetry(p.TelemetryName.COBROWSE_FAILED);const o=i.data;if((0,C.isObject)(o)){if(o.isDeleted)return(0,D.isFunction)(r)&&r(!1),f.Monitoring.telemetry(p.TelemetryName.COBROWSE_FAILED);0===o.comment.length&&(o.comment=(0,s.l10n)("lblDefaultCobrowseComment")),o.comment=(0,b.escape)(o.comment),h.default.stopBlinking();const n=(0,S.getPageWindow)().document.location.href.split("#")[0],i=t&&t+"#jvhs_"+e;t&&n!==t&&n!==encodeURI(t)?(0,S.getPageWindow)().document.location.href=i:(r&&(o.cb=r),M.create(o,i))}}))}};function P(e){var t=function(e){var t="",n=e.split(" > ");return(0,m.each)(n,(function(e){t+="/*",-1!==e.indexOf(":")&&(t+="["+e.substr(e.indexOf("(")+1,e.indexOf(")")-e.indexOf("(")-1)+"]")})),t}(e),n=I.querySelector(e);return n||I.evaluate(t,I,null,c.default.XPathResultType.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}var R={is_inited:!1,isCobrowseVisible:function(e){return(0,l.isVisible)(e)&&"HTML"!=e.tagName&&"hidden"!=e.style.visibility&&"jivo-iframe-container"!=e.id&&"jivo_container"!=e.id},highlight:function(e){if(A.log("highlight"),"cobrowser-iframe"===window.parent.name&&!this.is_inited&&!x.is_inited){var t=I.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",(0,w.staticUrl)((g.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(t),this.is_inited=!0}var n;if(N(n="string"==typeof e.element?P(e.element):e.element)){if(e.hash&&null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash))return this.animateScroll(e);(0,m.each)(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){(0,m.each)(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}));var i,r=N(n),o=r.width,a=r.height;if(A.log(n,e),!this.isCobrowseVisible(n))return"cobrowser-iframe"!==window.parent.name&&f.Monitoring.telemetry(p.TelemetryName.COBROWSE_FAILED),void(e.cb&&e.cb(!1));A.log("overlayCreate"),u(),A.log("overlayCss"),l(r,o,a),A.log("overlayAppend"),c(),window.parent&&"cobrowser-iframe"!==window.parent.name&&f.Monitoring.telemetry(p.TelemetryName.COBROWSE_SUCCESS,{param1:e.hash?e.hash.length:0});var s=function(){var t;if(t="string"==typeof e.element?P(e.element):e.element,i||(u(),c()),t){var n=N(t);l(n,n.width,n.height)}if(i)return i};return setTimeout((function(){s()}),50),(0,E.addListener)(window.parent,"resize",s),i||void 0}function l(e,t,r){i.style.width=t+"px",i.style.height=r+"px",i.style.left=e.left-8+"px",i.style.top=e.top-8+"px",L(n)&&(i.style.position="fixed")}function u(){i||((i=I.createElement("jdiv")).className="jivo_cobrowsing_element",i.id="jivo_cobrowsing_element_id_"+e.hash,I.body.appendChild(i))}function c(){if(!i){var e=I.createElement("jdiv");i.className="jivo_cobrowsing_element_inner",i.appendChild(e)}}A.log("cobrowse element position failed.")},renderTooltip:function(e){A.log("renderTooltip",e);var t,n=null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash);if(!1!==n)return this.animateScroll(e),n;if(t="string"==typeof e.element?P(e.element):e.element,!this.isCobrowseVisible(t))return A.log("Error render tooltip, element not visible"),void(e.cb&&e.cb(!1));var i=I.createElement("jdiv");i.className="",i.id="jivo_content_cobrowsing_tooltip",i.style.width="100%",i.style.height="auto";var r=I.createElement("jdiv");return r.className="jivo_cobrowsing_tooltip",u.default.mobile()&&(r.style.width="200px"),r.id="jivo_cobrowsing_tooltip_"+e.hash,L(t)&&(r.style.position="fixed"),r.appendChild(i),e.show&&(r=this.addTooltipContent(r,e,t),e.cb&&e.cb(!0)),r},appendTooltip:function(e,t){var n=e.childNodes[0];I.body.appendChild(e);var i=function(){if((0,l.addClass)(n,"jivo-bottom"),(0,l.removeClass)(n,"jivo-top jivo-left jivo-right"),t){var i=N(t),r=(0,S.getPageWindow)(),o=i.width,a=i.height,s=i.left+o/2,c=i.top-30+15,d=N(e),f=N(n),p=r.innerWidth||r.outerWidth,g=d.width/2*-1;c<f.height+10?(c=i.top+a+10,n.className+=" jivo-top"):(n.style.position="absolute",n.style.bottom="10px"),s+g<10&&(s=35,g=0,n.className+=" jivo-left"),u.default.mobile()?s+d.width+g>p&&(g=0,s=p-d.width):s+d.width>p&&(g=-1*d.width,s=i.left+o-30,n.className+=" jivo-right"),e.style.left=(0!==s?s:35)+"px",e.style.top=c+"px",e.style.marginLeft=g+"px"}};i(),e.style.opacity=0,this.animateScroll(null,t,n),setTimeout((function(){i(),e.style.opacity=1}),300),(0,E.addListener)(window.parent,"resize",i)},addTooltipContent:function(e,t,n){A.log("addTooltipContent",t);const i=e.childNodes[0],s=32&a.default.options&&t.agent,l=I.createElement("jdiv");l.dir="ltr",l.id="jivo_action",l.className="jivo-desktop";const u=window.parent.document.createElement("jdiv");if(u.id="jivo_close_button",u.innerHTML=d.default,l.appendChild(u),i.appendChild(l),u.addEventListener("click",(function(n){n.preventDefault();var i=I.getElementsByClassName("jivo_cobrowsing_element")[0];i.parentNode.removeChild(i),function(e){const t=window.top;t.location.href.indexOf("#jvhs_"+e)>0&&k(t.location.href.replace("#jvhs_"+e,""),(0,O.getCurrentPage)().title)}(t.hash),e.parentNode.removeChild(e)})),s&&t.agent){if(t.agent.avatar_url){const e=I.createElement("jdiv");e.className="jivo_cobrowsing_tooltip_avatar",i.appendChild(e),o.default.render(r.default.createElement(v.default,{dark:!1,inChat:!0,url:(0,w.getAvatarUrl)(a.default.avatar_url,t.agent.avatar_url)}),e)}const e=I.createElement("jdiv");e.innerText=t.agent.display_name,e.className="jivo_cobrowsing_tooltip_agent",i.appendChild(e)}const c=I.createElement("jdiv");return c.innerHTML=t.comment.split("\n").join("<br />"),c.className="jivo_cobrowsing_tooltip_text",i.appendChild(c),this.appendTooltip(e,n),e},animateScroll:function(e,t,n){if(e&&(t=I.getElementById("#jivo_cobrowsing_element_id_"+e.hash),n=I.getElementById("#jivo_cobrowsing_tooltip_"+e.hash).childNodes[0]),L(t))A.log("Ignore scroll for fixed element");else{var i={top:(n&&(0,l.hasClass)(n,"jivo-top")?N(t).top:N(n.parentNode).top)-300};I.documentElement&&"scrollBehavior"in I.documentElement.style&&(i.behavior="smooth"),A.log("scrollTo",i),window.parent.scrollTo(i)}}},x={is_selecting:!1,is_tooltip_open:!1,is_inited:!1,langpack:{},init:function(){if(!this.is_inited){var e=I.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",(0,w.staticUrl)((g.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(e),(0,E.removeEvent)(window.parent,"keydown",this.keydownListener),(0,E.addListener)(window.parent,"keydown",this.keydownListener),this.is_inited=!0}},keydownListener:function(e){27===e.keyCode&&x.onEsc()},setLangpack:function(e){this.langpack=e},i18n:function(e){return this.langpack[e]?this.langpack[e]:e},startSelection:function(){var e=x;(0,l.addClass)(I.body,"jivo_selecting"),e.is_selecting=!0,(0,m.each)(["input","textarea","select","button"],(function(e){(0,m.each)(I.getElementsByTagName(e),(function(e){const t=I.createElement("jdiv"),n=N(e);t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.position="absolute",t.realNode=e,e.disabled=!0,I.body.appendChild(t)}))})),(0,m.each)(I.getElementsByTagName("*"),(function(t){(0,E.addListener)(t,"mouseover",e.mouseoverListener),(0,E.addListener)(t,"mouseout",e.clearSelection)}))},stopTagsA:function(){(0,m.each)(I.getElementsByTagName("a"),(function(e){(0,E.addListener)(e,"click",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))}))},mouseoverListener:function(e){var t=x;if("OPTION"===this.tagName)return!1;t.clearSelection(),R.highlight({element:e.target}),t.stopTagsA(),(0,E.removeEvent)(e.currentTarget,"click",t.clickListener),(0,E.addListener)(e.currentTarget,"click",t.clickListener)},clickListener:function(e){var t=x;e.preventDefault(),e.stopPropagation();var n=this.realNode?this.realNode:this;t.stopSelection(),t.toolTip(n)},stopSelection:function(){var e=x;(0,l.removeClass)(I.body,"jivo_selecting"),(0,m.each)(["input","textarea","select","button"],(function(e){(0,m.each)(I.getElementsByTagName(e),(function(e){e.disabled=!1}))})),(0,m.each)(I.getElementsByClassName("fake_cb_element"),(function(e){e.parentNode.removeChild(e)})),(0,m.each)(I.getElementsByTagName("*"),(function(t){(0,E.removeEvent)(t,"mouseover",e.mouseoverListener),(0,E.removeEvent)(t,"mouseout",e.clearSelection),(0,E.removeEvent)(t,"click",e.clickListener)})),e.is_selecting=!1},clearSelection:function(){(0,m.each)(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){(0,m.each)(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}))},toolTip:function(e){var t=x,n=R.renderTooltip({element:e}),i=n.childNodes[0];n.className+=" air",n.style.width="auto",i.style.padding="8px",i.style.width="auto",i.style.backgroundColor="";var r=I.createElement("textarea");r.id="cobrowsing_textarea_comment",r.maxLength=200,r.placeholder=t.i18n("cb_enterComment"),r.value="",r.onkeypress=function(n){13===n.keyCode&&(n.preventDefault(),n.stopPropagation(),t.send(e))},t.textInput=r;var o=I.createElement("button");o.className="btn btn-mimi blue on_dark large",o.innerText=t.i18n("cb_send"),o.style.float="right",o.style.position="relative",o.style.marginRight="8px",o.onclick=function(){t.send(e)};var a=I.createElement("button");a.className="btn btn-mimi grey on_dark large",a.innerText=t.i18n("cb_cancel"),a.style.float="right",a.style.position="relative",a.style.marginRight="5px",a.onclick=function(){t.closeTooltip()};var s=I.createElement("jdiv");s.style.clear="both",i.appendChild(r),i.appendChild(a),i.appendChild(o),i.appendChild(s),R.appendTooltip(n,e),r.focus(),t.is_tooltip_open=!0},send:function(e){var t=this.textInput.value;t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var n={name:"on_send",page_element:function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,i=e;i.previousElementSibling;i=i.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t.join(" > ")}(e),page_url:window.parent.location.href,comment:t};A.log("postMessage",n),M.postMessage(n),u.default.supportsLocalStorage()&&y.parentLS.remove(`jv_${a.default.widget_id}_tmp_app`)},closeTooltip:function(){var e=x;e.stopSelection(),e.is_tooltip_open=!1,e.startSelection(),M.postMessage({name:"on_cancel"})},onEsc:function(){this.is_tooltip_open?this.closeTooltip():this.is_selecting?(this.stopSelection(),M.postMessage({name:"reset"})):M.postMessage({name:"close"})}};function N(e){var t,n,i=0,r=0,o=0,a=0,s={top:0,left:0},l=I,u=l.body;return t=l.documentElement,e&&void 0!==e.getBoundingClientRect?(s=e.getBoundingClientRect(),e&&!L(e)&&(n=(0,S.getPageWindow)(),i=t.clientTop||u.clientTop||0,r=t.clientLeft||u.clientLeft||0,o=n.pageYOffset||t.scrollTop,a=n.pageXOffset||t.scrollLeft),{top:s.top+o-i,left:s.left+a-r,right:s.right,width:e.offsetWidth,height:e.offsetHeight,windowWidth:u.innerWidth,windowHeight:u.innerHeight}):(f.Monitoring.telemetry(p.TelemetryName.COBROWSE_FAILED),!1)}function L(e){var t=!1;if(e)for(var n=e,i=[];n&&"HTML"!==n.tagName;){if(i.unshift(n),window.parent.window.Polymer&&!window.parent.jivo_cobrowse&&n.treeScope_){var r=n[Object.keys(n)[0]];"fixed"===getComputedStyle(r).position&&(t=!0)}else"fixed"===getComputedStyle(n).position&&(t=!0);n=n.parentNode}return t}var F=M;t.default=F},99040:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIVE_TEST=void 0;n(53049);t.ACTIVE_TEST=!1},52274:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROACTIVE_TEXT_LIMIT=t.PROACTIVE_MAX_HEIGHT=t.MP_LINE_HEIGHT=t.MP_AGENT_HEIGHT=t.MINIMAL_WIDGET_HEIGHT=t.MAX_IMAGE_WIDTH=t.MAX_FILE_SIZE=t.MAX_EXTENDED_FILE_SIZE=t.MAX_ATTRIBUTE_STRING_LENGTH=t.MAX_ATTRIBUTE_NUMBER_LENGTH=t.MAX_ALLOWED_USER_ZOOM=t.MAINT_RECONNECT_TIMEOUT=t.LABEL_HEIGHT=t.INPUT_HEIGHT=t.HEADER_HEIGHT=t.DEFAULT_WIDGET_HEIGHT=t.CHAT_WIDTH=t.CAMPAIGN_TEXT_HEIGHT=t.CACHE_KEY=t.AWAY_CLIENT_TIMEOUT=t.APP_INVITE_TIME=t.API_INVITES_CACHE_TIME=void 0;t.AWAY_CLIENT_TIMEOUT=144e5;t.APP_INVITE_TIME=8e3;t.PROACTIVE_TEXT_LIMIT=50;t.PROACTIVE_MAX_HEIGHT=74;t.CAMPAIGN_TEXT_HEIGHT=90;t.MP_LINE_HEIGHT=19;t.MP_AGENT_HEIGHT=28;t.API_INVITES_CACHE_TIME=18e5;t.CACHE_KEY="api_invites";t.HEADER_HEIGHT=70;t.INPUT_HEIGHT=106;t.MAINT_RECONNECT_TIMEOUT=3e5;const n=10485760;t.MAX_FILE_SIZE=n;t.MAX_EXTENDED_FILE_SIZE=52428800;t.MINIMAL_WIDGET_HEIGHT=402;t.CHAT_WIDTH=336;t.LABEL_HEIGHT=40;t.DEFAULT_WIDGET_HEIGHT=496;t.MAX_IMAGE_WIDTH=234;t.MAX_ALLOWED_USER_ZOOM=1.03;t.MAX_ATTRIBUTE_STRING_LENGTH=100;t.MAX_ATTRIBUTE_NUMBER_LENGTH=9},85948:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.addSyncExclude=void 0;var r=i(n(61125)),o=i(n(19955)),a=n(44733),s=n(9393),l=n(90991),u=i(n(4855)),c=n(73422),d=n(32183);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g=n(89766).EventEmitter,h=u.default.name("createStore"),_=["pa_id"],m=["widget_color","widget_color2","widget_font_color","show_container","started"];function v(e,t){for(var n in t)if(t[n]&&t[n].constructor&&t[n].constructor===Object)e[n]=e[n]||{},v(e[n],t[n]);else{var i,r,a,s,l,u,c;if(null!==(i=window)&&void 0!==i&&null!==(r=i.parent)&&void 0!==r&&r.window&&null!==(a=window)&&void 0!==a&&null!==(s=a.parent)&&void 0!==s&&null!==(l=s.window)&&void 0!==l&&l.isWixPreview)return!0;"route"===n&&o.default.mobileOrTablet()||"cobrowser-iframe"===(null===(u=window)||void 0===u||null===(c=u.parent)||void 0===c?void 0:c.name)||-1!==m.indexOf(n)||(e[n]=t[n])}return e}t.addSyncExclude=e=>{_.push(e),m.push(e)};var y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("JivoStore"==e.__type)return e;var n=JSON.stringify(e),i=o.default.supportsLocalStorage(),r=new g,u=(0,l.debounce)((()=>{r.emit("update",e)}),10),f=()=>{if(i){const n=(t=>{let n=p({},t);return t?v(n,e):n=e,n})(a.StorageProvider.get(t));a.StorageProvider.set(t,n)}},y=(e,n)=>{var i=e[n];Object.defineProperty(e,n,{set:e=>{if(i!=e&&(i=e,u(),t)){if(!(0,d.pageVisible)()&&_.indexOf(n)>-1)return;if(m.indexOf(n)>-1)return;if(window.parent&&"cobrowser-iframe"===window.parent.name)return;f()}},get:()=>i})},b=e=>{(0,s.each)(e,((t,n)=>{"function"!=typeof t&&(t&&(0,c.isObject)(t)?b(t):y(e,n))}))},E=()=>{if(t)try{const n=a.StorageProvider.get(t);v(e,n)}catch(e){h.error(e)}},C=()=>{e=JSON.parse(n),b(e),f(),u()};return b(e),E(),Object.defineProperty(e,"__type",{enumerable:!1,configurable:!1,writable:!1,value:"JivoStore"}),Object.defineProperty(e,"addListener",{enumerable:!1,configurable:!1,writable:!1,value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(t=e,e="update"),r.addListener(e,t)}}),Object.defineProperty(e,"dispatch",{enumerable:!1,configurable:!1,writable:!1,value:()=>{u()}}),Object.defineProperty(e,"reload",{enumerable:!1,configurable:!1,writable:!1,value:()=>{E()}}),Object.defineProperty(e,"reset",{enumerable:!1,configurable:!1,writable:!1,value:()=>{C()}}),e};t.default=y},33180:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.cssLoader=void 0;var r=i(n(73727)),o=i(n(48553));window.parent.__jivoBundleInit&&window.parent.__jivoBundleInit(window);const a=(()=>{let e=window.parent.location.protocol;return-1===["http","https","http:","https:"].indexOf(e)&&(e="https:"),e})()+r.default.base_url+"/css/b6062c4/widget.css",s=new o.default(window.parent.document,a);t.cssLoader=s},83778:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.detectType=t.default=t.chatServerHost=void 0;var r=i(n(73727)),o=n(69882),a=n(22932),s=n(97615),l=n(67597),u=n(68403);const c=()=>s.EnvironmentManager.isSelfhosted()?`${(0,a.getProtocol)()}//${r.default.chat_host}`:"https://"+r.default.chat_host;t.chatServerHost=c;const d=e=>e.indexOf("image")>=0&&-1==e.indexOf("photoshop")&&-1==e.indexOf("svg")?"photo":e.indexOf("video")>=0?"video":e.indexOf("audio")>=0?"audio":"document";t.detectType=d;var f={detectType:d,isAppCobrowse:o.isAppCobrowse,isCustomLabel:o.isCustomLabel,getProtocol:a.getProtocol,chatServerHost:c,staticUrl:l.staticUrl,getUtmLink:l.getUtmLink,getUnicodeHref:o.getUnicodeHref,getCurrentPage:o.getCurrentPage,isWixEditor:o.isWixEditor,showAd:u.showAd,getPageWindow:a.getPageWindow,getHostURL:l.getHostURL,getChatPageToken:o.getChatPageToken};t.default=f},87869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClickListener=function(e,t){(0,i.useEffect)((()=>{if((0,r.isFunction)(t)&&e.current){const n=n=>{e.current&&(n.preventDefault(),t(n))},i=e.current;return i.addEventListener("mousedown",n),i.addEventListener("touchstart",n),()=>{i.removeEventListener("mousedown",n),i.removeEventListener("touchstart",n)}}}),[e,t])};var i=n(98661),r=n(55004)},57985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClickOutside=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.parent.document;(0,i.useEffect)((()=>{if((0,r.isFunction)(t)){const i=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return n.addEventListener("mousedown",i),n.addEventListener("touchstart",i),()=>{n.removeEventListener("mousedown",i),n.removeEventListener("touchstart",i)}}}),[e,t,n])};var i=n(98661),r=n(55004)},49862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDidUpdate=function(e,t){const n=(0,i.useRef)(!1);(0,i.useEffect)((()=>{n.current?e():n.current=!0}),t)};var i=n(98661)},63664:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useErrorCatcher=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,o.useErrorBoundary)((t=>{t.message+=` (in ${e} component)`,a.Monitoring.reportException(t)})),i=(0,r.default)(n,2),l=i[0],u=i[1];if(l)return(0,s.isFunction)(t)?t({error:l,resetError:u}):t};var r=i(n(67375)),o=n(30396),a=n(54415),s=n(55004)},81366:function(e,t,n){"use strict";var i=n(17907);t.c=function(){const e=(0,s.useToggle)(l.navigator.onLine),t=(0,r.default)(e,2),n=t[0],i=t[1];return(0,o.useEffect)((()=>(l.addEventListener("online",i),l.addEventListener("offline",i),()=>{l.removeEventListener("online",i),l.removeEventListener("offline",i)})),[i]),n};var r=i(n(67375)),o=n(98661),a=n(22932),s=n(22901);const l=(0,a.getPageWindow)()},77389:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useListenedStyle=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,r.useRef)(l(e,t));return(0,r.useEffect)((function(){a.default.listenChangeZoom((()=>{n.current=l(e,t)}))}),[t,e]),n.current};var r=n(98661),o=n(73422),a=i(n(74379));function s(e,t){return{textSize:a.default.getTextSize(),lineHeight:a.default.getLineHeight(t),zoom:a.default.getAppZoom()}[e]}function l(e,t){return t?(0,o.isArray)(e)?e.map((e=>(0,o.isObject)(e)?s(e.name,e.repass):s(e))):(0,o.isObject)(e)?s(e.name,e.repass):s(e):[]}},9335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToggle=void 0;var i=n(98661);const r=(e,t)=>"boolean"==typeof t?t:!e;t.useToggle=e=>(0,i.useReducer)(r,e)},88319:function(e,t){"use strict";t.Z=void 0,function(e){var t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},n={1e3:"Normal Closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"reserved",1005:null,1006:null,1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message Too Big",1010:"Mandatory Ext.",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Unassigned",1015:"TLS handshake",3001:"Attempts have Ended",3333:"Spam detected",4e3:"Application Closure",4999:"Last Code"},i=function(){},r=function(){throw new Error("Not implemented")},o=Date,a=function(e,t){this.name="NetworkError",this.code=t<<0,this.message=String(e)};a.prototype.toString=function(){return this.name+":"+(this.code<<0||"")+" "+this.message};var s,l=function(e,t,n){if(e&&"function"==typeof e[t])try{e[t](n)}catch(n){if("onerror"===String(t))throw n;try{l(e,"onerror",n)}catch(e){}}},u={};if(window&&("function"==typeof window.WebSocket||"object"==typeof window.WebSocket)){var c=window.WebSocket;for(var d in s=function(e,i){var r,o,a,s,u=this;this.url=e,this.readyState=t.CONNECTING;var d=function(){if(r){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null;try{r.close()}catch(e){}}u.readyState=t.CLOSED,l(u,"onclose",{wasClean:!1,code:1006,reason:"Timeout"})},f=function(){try{this.send(".")}catch(e){}s=setTimeout(d,1e4)}.bind(this);this.close=function(e,n){if(clearTimeout(a),this.readyState===t.CONNECTING)this.readyState=t.CLOSING,clearTimeout(o),o=setTimeout((function(){u.readyState=t.CLOSED,l(u,"onclose",{wasClean:!1,code:1006,reason:""})}),20);else if(this.readyState===t.OPEN){this.readyState=t.CLOSING;try{n?r.close(e,n):e?r.close(e):r.close(1e3)}catch(e){l(u,"onerror",e),l(u,"onclose",{wasClean:!1,code:1006,reason:""})}}},this.send=function(e){if(!r||r.OPEN!==r.readyState)throw new Error("Socket is not open");clearTimeout(a),clearTimeout(s),r.send(e),a=setTimeout(f,2e4)},o=setTimeout((function(){try{(r=i?new c(e,i):new c(e)).onclose=function(e){if(clearTimeout(a),clearTimeout(o),u.readyState=t.CLOSED,/MSIE|Trident|Edge|Lumia/.test(window.navigator.userAgent)&&e.wasClean&&(1e3===e.code||1005===e.code)&&e.reason)for(var i in n)if(e.reason===n[i])return void l(u,"onclose",{wasClean:!0,code:i<<0,reason:e.reason});l(u,"onclose",e)},r.onerror=function(e){e.name||e.message||(e.name="WebSocketError",e.message="Unknown"),l(u,"onerror",e)},r.onmessage=function(e){clearTimeout(s),e&&e.data&&1<e.data.length&&l(u,"onmessage",e)},r.onopen=function(e){clearTimeout(a),a=setTimeout(f,2e4),u.readyState=t.OPEN,u.protocol=r.protocol,l(u,"onopen",e)}}catch(e){l(u,"onerror",e)}}),20)},t)s.prototype[d]=t[d]}if(window&&window.navigator){var f;if(/iP(hone|od|ad)/.test(window.navigator.platform))(f=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))&&6>f[1]&&(s=r);if(/apple/i.test(window.navigator.vendor))(f=/\bVersion\/(\d+)\./.exec(window.navigator.userAgent))&&6>f[1]&&(s=r)}u.ws=u.wss=s;var p=function(){var e,t,n,r,o=window.document.getElementsByTagName("head")[0],a=this;this.withCredentials=!1,this.readyState=0,this.responseText="",this.status=0,this.statusText="",this.timeout=void 0;var s=function(){if(e){clearTimeout(r),e.onreadystatechange=i,e.onload=i,e.onerror=i,e.parentNode.removeChild(e),e=null,t=null,n=null,a.responseText="",a.status=0,a.statusText="",a.timeout=void 0,a.withCredentials=!1;try{delete window[n]}catch(e){window[n]=void 0}l(a,"onloadend")}},u=function(){e&&(l(a,"onerror"),s())};this.open=function(e,i){!t&&i&&(a.readyState=1,t=String(i).replace(/#.*$/,""),n="_jivo"+p._count++,t+=(-1===t.indexOf("?")?"?":"&")+"cb="+n)},this.send=function(i){t&&(i=i?"&msg="+encodeURIComponent(i):"",window[n]=function(e){a.readyState=4,p._statusBody.test(e)?(a.status=p._statusBody.exec(e)[1]<<0,a.statusText="",a.responseText="",l(a,"onerror"),s()):(a.status=200,a.statusText="OK",a.responseText=e,l(a,"onload"),s())},(e=document.createElement("script")).charset="utf-8",e.type="text/javascript",e.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||setTimeout(u,0)},e.readyState||(e.onload=e.onerror=u),e.src=t+i,o.appendChild(e),a.timeout<<=0,0<a.timeout&&(r=setTimeout((function(){l(a,"ontimeout"),s()}),a.timeout)))},this.abort=function(){l(a,"onabort"),s()},this.setRequestHeader=i};p._statusBody=/^(\d{3})\n$/m,p._count=0,p.prototype={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var g=function(){if(g._stack.length)return g._stack.pop();var e;try{"withCredentials"in(e=new XMLHttpRequest)||(e=null)}catch(e){}return(e=e||new p).release=function(){g._stack.push(e)},e};g._stack=[];var h=function(e){for(var t,n,r,o=3e3,s=i,l=1;l<arguments.length;l++)if(arguments[l])switch(typeof arguments[l]){case"object":n=arguments[l];break;case"string":r=arguments[l];break;case"number":o=arguments[l];break;case"function":s=arguments[l]}if("string"!=typeof e)return s(TypeError("Bad URL")),null;try{(t=g()).open(r?"POST":"GET",e,!0),r&&t.setRequestHeader("Content-Type","text/plain")}catch(e){return s(e),t.release(),null}if(0<(o<<=0))try{t.timeout=o}catch(e){}if(t.onloadend=function(){t.release()},t.onload=function(){200===t.status?s(null,t.responseText):s(new a(t.statusText,t.status))},t.onabort=function(){s(new a("Aborted"))},t.ontimeout=function(){s(new a("Timeout"))},t.onerror=function(){s(new a("Unknown"))},n)for(var l in n)t.setRequestHeader(l,n[l]);try{t.send(r||null)}catch(e){return s(e),t.release(),null}return function(){s=i}};e.request=h;var _=/([^\n]*)\n/gm,m=function(e,r){var a=/^([^\?]*)(?:\?+(.*))?$/.exec(e);e=a[1]||"/";var s=a[2]?"&"+a[2]:"";/[^\/]$/.test(e)&&(e+="/");var u,c,d,f,p=this,g=i,m="open",v=2e4,y=0;this.readyState=t.CONNECTING;var b=function(e,i,r){t.CLOSED!==p.readyState&&(clearTimeout(d),p.readyState=t.CLOSED,l(p,"onclose",{wasClean:!!r,code:i||1006,reason:n[i]||e||""}))},E=function(t,n){g(),g=h(e+m+(t?"/"+t:"")+"?"+(new o).getTime()+s,v,n,C)},C=function(e,n){var i=function(e){if("string"!=typeof e)return e;var t,n,i={};for(_.lastIndex=0;null!==(t=_.exec(e));){if(!t[1]){i.message=e.substring(t.index+1);break}(n=(t=t[1].split(/\t/))[0])&&(t.shift(),i[n]=t)}return i}(n);switch(p.readyState){case t.CONNECTING:if(e){l(p,"onerror",e),b("Open error");break}if(!(i&&i.open&&i.open[0])){b("No response in state open");break}m=i.open[0],p.protocol=i.open[1],p.readyState=t.OPEN,l(p,"onopen");case t.OPEN:var r="";if(i){if(i.timeout&&0<i.timeout[0]&&(v=Math.ceil(i.timeout[0])),i.etag&&i.etag[0]){var o=i.etag[0]<<0,a=o-y;y=o,0<a&&(1!==a&&l(p,"onerror",new Error("Missing "+a+" etags")),i.message&&setTimeout((function(){l(p,"onmessage",{data:i.message})}),20)),r="etag/"+o}i.close&&(p.readyState=t.CLOSING,r="close/"+(i.close[0]||"")+"/"+(i.close[1]||""))}else if(e&&204!==e.code&&(l(p,"onerror",e),!e.code||404===e.code))return void b();E(r);break;case t.CLOSING:if(i&&i.close){var s=i.close[0]<<0;b(i.close[1],s,!u||u===s)}else b(c,u,!1)}};this.close=function(e,n){t.CONNECTING===this.readyState?(clearTimeout(f),g(),d=setTimeout(b,20)):t.OPEN===this.readyState&&(u=e<<0||1e3,c=n||"",this.readyState=t.CLOSING,E("close/"+u+"/"+c))},this.send=function(e){if(t.OPEN!==this.readyState)throw new Error("Socket is not open");if(!e||"string"!=typeof e)throw new TypeError("Bad data type");E("send",e)};var T=[];if(r)if("string"==typeof r)T.push(r);else if(r instanceof Array)for(var D=0;D<r.length;D++)T.push(String(r[D]));f=setTimeout((function(){E(T.join("/"))}),20)};for(var d in t)m.prototype[d]=t[d];u.http=u.https=m;var v,y=/^\s*(?:([^\;\/\?\:\@\&\=\+\$\,\#\n\r\s]{1,8})\:\/\/)([^\s\n\r]+)\s*$/,b=function(e,t){if(t||((t=[]).index=0,t.add=function(e){t.unshift({value:String(e),health:0}),t.index=0}),e)if("string"==typeof e||e instanceof String)t.push({value:String(e),health:0});else if(0<e.length)for(var n=0;n<e.length;n++)b(e[n],t);return t},E=function(e,t,n){var i=e[t]=n;return function(n){return arguments.length&&(i=e[t]=n),i}},C=(v=0,setInterval((function(){0<v&&(0<=(v-=2)||(v=0))}),1e3),function(){return 60<++v}),T=function(e){var r=b(e),o=null,a=i,s={connecting:i,open:i,close:i,error:i,message:i},l=E(this,"state",t.CLOSED),c=E(this,"url",void 0),d=E(this,"health",void 0),f=function(e,t){clearTimeout(f.value),e&&(f.value=setTimeout(e,t))},p=function(e){if(o){o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null;try{e?o.close(e):o.close()}catch(e){}}},g=function(e){p(),o=null,a(),a=i,f(),l(t.CLOSED);try{s.close(e)}catch(e){m(e)}c(void 0),d(void 0)},h=function(){if(C()){if(a(),a=i,o){p(3333);for(var e=0;e<r.length;e++)r[e].health=-1}return!0}return!1},_=function(e){if(a(),a=i,f(),e||(e={wasClean:!1,code:1005,reason:"No Status Rcvd"}),e.wasClean||d(--r[r.index].health),1012===e.code){l(t.CONNECTING);try{s.connecting(r[r.index].health)}finally{return f(w,1e4+(2e4*Math.random()<<0))}}else 1013===e.code||1005===e.code||1e3===e.code||4e3<=e.code&&5e3>e.code?g(e):w()},m=function(e){try{s.error(e)}catch(e){throw e}},v=function(e){if(t.OPEN===l())try{s.message(e.data)}catch(e){m(e)}},T=function(){var e,n,i,o,u;f(),l(t.OPEN),e=r[r.index],n=d,o=1e3,u=function(){e&&0<=e.health&&(n(++e.health),o<<=1,i=setTimeout(u,o))},i=setTimeout(u,o),a=function(){clearTimeout(i)};try{s.open()}catch(e){m(e)}},D=function(){var e=r[r.index];try{o=function(e){if("string"!=typeof e)throw new TypeError("Bad URL type");var t=y.exec(e);if(null===t)throw new Error("Bad URL");if(!u[t[1]])throw new Error("Not supported URL scheme: "+t[1]);return new u[t[1]](e)}(e.value)}catch(t){return e.health=-1,++r.index,m(t),w()}o.onclose=_,o.onerror=m,o.onmessage=v,o.onopen=T},w=function(e){if(f(),r.index>=r.length)c(void 0),d(void 0),g({wasClean:!1,code:3001,reason:n[3001]});else if(0>r[r.index].health)m(new Error("Sick URL")),++r.index,w();else{p(),l(t.CONNECTING);var i=r[r.index];c()!==i.value&&(c(i.value),d(i.health));try{s.connecting(i.health)}catch(e){}e||0===r[r.index].health?D():f(D,3e3)}};this.open=function(e){if(h())return g({wasClean:!1,code:3333,reason:n[3333]});if(t.CONNECTING!==l()&&t.OPEN!==l()){if(e){e=String(e);for(var i=0;i<r.length;i++)if(e===r[i].value)return r.index=i,w(!0);r.add(e)}w(!0)}},this.close=function(e,i){f(),t.CLOSING!==l()&&t.CLOSED!==l()&&(!o||o.CONNECTING!==o.readyState&&o.OPEN!==o.readyState?g({wasClean:!1,code:1011,reason:n[1011]}):(4e3>(e<<=0)||5e3<=e?o.close():i?o.close(e,String(i)):o.close(e),o.onclose=g,l(t.CLOSING)))},this.send=function(e){if(t.OPEN!==l())return new Error("Connection is not open");if(h())return g({wasClean:!1,code:3333,reason:n[3333]}),new Error("Spam detected");try{o.send(e)}catch(e){return e}return null};var O=function(e,t){return function(){t.apply(e,arguments)}};this.on=function(e,t){if(e&&"object"==typeof e)for(var n in e)this.on(n,O(e,e[n]));else s[e]&&"function"==typeof t&&(s[e]=t)},this.off=function(){for(var e in s)s[e]=i},this.getHealthyURLs=function(){for(var e=[],t=0;t<r.length;t++)0<=r[t].health&&e.push(r[t]);e.sort((function(e,t){return t.health-e.health}));for(t=0;t<e.length;t++)e[t]=e[t].value;return e}};for(var d in T.prototype={valueOf:function(){return this.toString()},toString:function(){return t.OPEN===this.state?this.url:""},toJSON:function(e){switch(e){case"url":return'"'+this.url+'"';case"state":return this.state;case"health":return this.health}return arguments.length?"":'{"state":'+this.state+', "health":'+this.health+', "url":"'+this.url+'"}'}},t)T.prototype[d]=t[d];e.Connection=T}(window);var n=Connection;t.Z=n},84633:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(17987)),o=n(32710);const a=i(n(4855)).default.name(!1);r.default.on("newfsm",(function(e){e.on("handling",(function(e){a.log(this.namespace+": handling "+e.inputType+" in state "+this.state)})),e.on("nohandler",(function(e){a.log(this.namespace+": unhandled "+e.inputType+" in state "+this.state)})),e.on("transition",(function(e){a.log([this.namespace+":","transition from:",e.fromState,"to:",e.toState,"action:",e.action].join(" "))}))}));var s=r.default.Fsm.extend({_fireEvent:function(e){delete this._scheduled_events[e],this.handle(e)},_scheduleEvent:function(e,t){e in this._scheduled_events?a.log(this.namespace+": attempt to re-schedule event"+e):(a.log(this.namespace+": scheduling "+e+" for "+t),this._scheduled_events[e]=setTimeout((0,o.bind)(this._fireEvent,this,e),t))},_cancelEvent:function(e){e in this._scheduled_events?(clearTimeout(this._scheduled_events[e]),delete this._scheduled_events[e]):a.log(this.namespace+": attempt to cancel not scheduled event",e)},constructor:function(){this._scheduled_events={},r.default.Fsm.apply(this,arguments)}});t.default=s},27104:function(e,t){"use strict";function n(e){return parseInt(o(e).substring(0,2),16)}function i(e){return parseInt(o(e).substring(2,4),16)}function r(e){return parseInt(o(e).substring(4,6),16)}function o(e){return function(e){return 3==e.length&&(e=e.split("").map((function(e){return e.toString()+e.toString()})).join("")),e}(e="#"==e.charAt(0)?e.substring(1,7):e)}function a(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))}function s(e,t,o){var s=n(e),l=i(e),u=r(e),d=f.toHSV(new c(s,l,u));d.v>0?d.v=d.v*t:d.v=100*(t-1),d.s=d.s*o;var p,g,h,_=f.toRGB(d);return"#"+(p=_.r,g=_.g,h=_.b,a(p)+a(g)+a(h))}function l(e){return(299*n(e)+587*i(e)+114*r(e))/1e3}function u(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>360&&(e=360),t>100&&(t=100),n>100&&(n=100),this.h=e,this.s=t,this.v=n}function c(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>255&&(e=255),t>255&&(t=255),n>255&&(n=255),this.r=e,this.g=t,this.b=n}function d(e,t,n,i){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),i<=0&&(i=0),e>100&&(e=100),t>100&&(t=100),n>100&&(n=100),i>100&&(i=100),this.c=e,this.m=t,this.y=n,this.k=i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f={isLightColor:function(e){return function(e){var t=n(e),o=i(e),a=r(e),s=f.toHSV(new c(t,o,a));return s.v+-.5*s.s}(e)>58},getContrast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;const n=l(e);return n>=t?"black":"white"},_RGBtoHSV:function(e){var t=new u(0,0,0),n=e.r/255,i=e.g/255,r=e.b/255,o=Math.min(n,i,r),a=Math.max(n,i,r),s=a-o;if(t.v=a,0==s)t.h=0,t.s=0;else{t.s=s/a;var l=((a-n)/6+s/2)/s,c=((a-i)/6+s/2)/s,d=((a-r)/6+s/2)/s;n==a?t.h=d-c:i==a?t.h=1/3+l-d:r==a&&(t.h=2/3+c-l),t.h<0&&(t.h+=1),t.h>1&&(t.h-=1)}return t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.v=Math.round(100*t.v),t},_HSVtoRGB:function(e){var t=new c(0,0,0),n=e.h/360,i=e.s/100,r=e.v/100;if(0==i)t.r=255*r,t.g=255*r,t.b=255*r;else{var o,a,s,l=6*n,u=Math.floor(l),d=r*(1-i),f=r*(1-i*(l-u)),p=r*(1-i*(1-(l-u)));0==u?(o=r,a=p,s=d):1==u?(o=f,a=r,s=d):2==u?(o=d,a=r,s=p):3==u?(o=d,a=f,s=r):4==u?(o=p,a=d,s=r):(o=r,a=d,s=f),t.r=255*o,t.g=255*a,t.b=255*s,t.r=Math.round(t.r),t.g=Math.round(t.g),t.b=Math.round(t.b)}return t},_CMYKtoRGB:function(e){var t=new c(0,0,0),n=e.c/100,i=e.m/100,r=e.y/100,o=e.k/100;return t.r=1-Math.min(1,n*(1-o)+o),t.g=1-Math.min(1,i*(1-o)+o),t.b=1-Math.min(1,r*(1-o)+o),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},_RGBtoCMYK:function(e){var t=new d(0,0,0,0),n=e.r/255,i=e.g/255,r=e.b/255;return t.k=Math.min(1-n,1-i,1-r),t.c=(1-n-t.k)/(1-t.k),t.m=(1-i-t.k)/(1-t.k),t.y=(1-r-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},toRGB:function(e){return e instanceof c?e:e instanceof u?this._HSVtoRGB(e):e instanceof d?this._CMYKtoRGB(e):void 0},toHSV:function(e){return e instanceof u?e:e instanceof c?this._RGBtoHSV(e):e instanceof d?this._RGBtoHSV(this._CMYKtoRGB(e)):void 0},toCMYK:function(e){return e instanceof d?e:e instanceof c?this._RGBtoCMYK(e):e instanceof u?this._RGBtoCMYK(this._HSVtoRGB(e)):void 0},genGradientBg:function(e){return"linear-gradient(95deg, "+e+" 20%, "+this.getRightColor(e)+" 80%)"},getRightColor:function(e){return s(e,.9,.9)},getGradientBg:function(e,t){return"linear-gradient(95deg, "+e+" 20%, "+(t||e)+" 80%)"}},p=f;t.default=p},96879:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.filterMessage=void 0;var r=n(81152),o=n(73422),a=i(n(14264));t.filterMessage=e=>{var t;const n=/^\/service/.test(e.text),i=(0,o.isObject)(e.media),s=i&&(null===(t=e.media)||void 0===t?void 0:t.address),l=e.msg_id;let u=!n&&!s;if("number"==typeof l){const e=!!a.default.getMessageById(l);u=u&&!e}if(i){const t=e.from===r.MessageInitiator.CLIENT&&e.type!==r.MessageType.MEDIA&&i&&"error"===e.media.type;u=u&&!t}return e.deleted&&(u=!1),e.type==r.MessageType.INVOICE&&(u=!1),u}},17987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(60277),r=n(9393),o=n(64249),a=n(82138),s=n(55004),l=n(21733),u=n(34548),c=n(15201),d=n(31484),f=n(54415),p=n(97615),g=n(73422),h=function(){var e,t=[].slice,n="transition",h="handler",_="handling",m="handled",v="nohandler",y="deferred",b="newfsm",E={makeFsmNamespace:(e=0,function(){return"fsm."+e++}),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:E.makeFsmNamespace(),targetReplayState:"",state:void 0,priorState:void 0,_priorAction:"",_currentAction:""}}},C={"*":function(e,t,n){e[t]=n},object:function(e,t,n){e[t]=D({},e[t]||{},n)},array:function(e,t,n){e[t]=[],(0,r.each)(n,(function(n,i){C[T(n)](e[t],i,n)}),this)}},T=function(e){var t=function(e){return(0,g.isArray)(e)?"array":(0,o.isDate)(e)?"date":(0,a.isRegExp)(e)?"regex":typeof e}(e);return C[t]?t:"*"},D=function(e){return(0,r.each)(t.call(arguments,1),(function(t){(0,r.each)(t,(function(t,n){C[T(t)](e,n,t)}))})),e},w=function(e){(0,i.extend)(this,e),(0,d.defaults)(this,E.getDefaultOptions()),this.initialize.apply(this,arguments),S.emit(b,this),this.initialState&&this.transition(this.initialState)};(0,i.extend)(w.prototype,{initialize:function(){},emit:function(e){var n=arguments;this.eventListeners["*"]&&(0,r.each)(this.eventListeners["*"],(function(i){if(p.EnvironmentManager.isProduction())try{i.apply(this,t.call(n,0))}catch(t){t.message+=` machina.js * [${this.namespace}] ${e}`,f.Monitoring.reportException(t)}else i.apply(this,t.call(n,0))}),this),this.eventListeners[e]&&(0,r.each)(this.eventListeners[e],(function(i){if(p.EnvironmentManager.isProduction())try{i.apply(this,t.call(n,1))}catch(t){t.message+=` machina.js ev [${this.namespace}] ${e}`,f.Monitoring.reportException(t)}else i.apply(this,t.call(n,1))}),this)},handle:function(e){if(!this.inExitHandler){var n,i,r,o,a=this.states,u=this.state,c=t.call(arguments,0);this.currentActionArgs=c,a[u][e]||a[u]["*"]||this["*"]?(r="*"===(n=a[u][e]?e:"*"),a[u][n]?(i=a[u][n],o=u+"."+n):(i=this["*"],o="*"),this._currentAction||(this._currentAction=o),this.emit.call(this,_,{inputType:e,args:c.slice(1)}),(0,s.isFunction)(i)&&(i=i.apply(this,r?c:c.slice(1))),(0,l.isString)(i)&&this.transition(i),this.emit.call(this,m,{inputType:e,args:c.slice(1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(h)):this.emit.call(this,v,{inputType:e,args:c.slice(1)}),this.currentActionArgs=void 0}},transition:function(e){if(!this.inExitHandler&&e!==this.state){var t;if(this.states[e]){if(this.targetReplayState=e,this.priorState=this.state,this.state=e,t=this.priorState,this.states[t]&&this.states[t]._onExit&&(this.inExitHandler=!0,this.states[t]._onExit.call(this),this.inExitHandler=!1),this.emit.call(this,"transition",{fromState:t,action:this._currentAction,toState:e}),this.states[e]._onEnter)if(p.EnvironmentManager.isProduction())try{this.states[e]._onEnter.call(this)}catch(t){t.message+=` machina.js [${this.namespace}] ${e}`,f.Monitoring.reportException(t)}else this.states[e]._onEnter.call(this);return void(this.targetReplayState===e&&this.processQueue(n))}this.emit.call(this,"invalidstate",{state:this.state,attemptedState:e})}},processQueue:function(e){var t=e===n?function(e){return e.type===n&&(!e.untilState||e.untilState===this.state)}:function(e){return e.type===h},i=this.eventQueue.filter(t);this.eventQueue=(0,u.difference)(this.eventQueue,i),(0,r.each)(i,(function(e){this.handle.apply(this,e.args)}),this)},clearQueue:function(e,t){var i;e?(e===n?i=function(e){return e.type===n&&(!t||e.untilState===t)}:e===h&&(i=function(e){return e.type===h}),this.eventQueue=this.eventQueue.filter(i)):this.eventQueue=[]},deferUntilTransition:function(e){if(this.currentActionArgs){var t={type:n,untilState:e,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,y,{state:this.state,queuedArgs:t})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var e={type:n,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,y,{state:this.state,queuedArgs:e})}},on:function(e,t){var n=this;return n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t),{eventName:e,callback:t,off:function(){n.off(e,t)}}},off:function(e,t){e?this.eventListeners[e]&&(this.eventListeners[e]=t?(0,c.without)(this.eventListeners[e],t):[]):this.eventListeners={}}}),w.prototype.trigger=w.prototype.emit;var O=function(){};w.extend=function(e,t){var n=function(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},D(i,e),O.prototype=e.prototype,i.prototype=new O,t&&D(i.prototype,t),n&&D(i,n),i.prototype.constructor=i,i.__super__=e.prototype,i}(this,e,t);return n.extend=this.extend,n};var S={Fsm:w,utils:E,on:function(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),t},off:function(e,t){this.eventListeners[e]&&(this.eventListeners[e]=(0,c.without)(this.eventListeners[e],t))},trigger:function(e){var n=arguments,i=this.eventListeners[e]||[];i&&i.length&&(0,r.each)(i,(function(e){e.apply(null,t.call(n,1))}))},eventListeners:{newFsm:[]}};return S.emit=S.trigger,S}(),_=h;t.default=_},5798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=function(e,t,n){for(;t<e.length;t++)i(e[t])&&(e[t]=n);return e},i=function(e){return!e.match(/[\s()-]/)};var r={toPattern:function(e,t){const r="object"==typeof t?t.pattern:t,o=r.replace(/\W/g,""),a=r.split(""),s=e.toString().replace(/\W/g,""),l=s.replace(/\W/g,"");let u,c=0;const d=a.length,f="object"==typeof t?t.placeholder:void 0;for(u=0;u<d;u++){if(c>=s.length){if(o.length===l.length)return a.join("");if(void 0!==f&&o.length>l.length)return n(a,u,f).join("");break}if(a[u]&&i(a[u])&&s[c].match(/[0-9]/))a[u]=s[c++];else if(a[u]&&i(a[u]))return void 0!==f?n(a,u,f).join(""):a.slice(0,u).join("")}return a.join("").substr(0,u)}};t.default=r},50754:function(e,t,n){"use strict";var i=n(17907)(n(15687));const r=2147483647,o=36,a=/^xn--/,s=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,d=String.fromCharCode;function f(e){throw new RangeError(u[e])}function p(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]);const r=function(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}((e=e.replace(l,".")).split("."),t).join(".");return i+r}function g(e){const t=[];let n=0;const i=e.length;for(;n<i;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}const h=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,n){let i=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;i+=o)e=c(e/35);return c(i+36*e/(e+38))},m=function(e){const t=[],n=e.length;let i=0,a=128,s=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let n=0;n<l;++n)e.charCodeAt(n)>=128&&f("not-basic"),t.push(e.charCodeAt(n));for(let d=l>0?l+1:0;d<n;){let l=i;for(let t=1,a=o;;a+=o){d>=n&&f("invalid-input");const l=(u=e.charCodeAt(d++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:o;(l>=o||l>c((r-i)/t))&&f("overflow"),i+=l*t;const p=a<=s?1:a>=s+26?26:a-s;if(l<p)break;const g=o-p;t>c(r/g)&&f("overflow"),t*=g}const p=t.length+1;s=_(i-l,p,0==l),c(i/p)>r-a&&f("overflow"),a+=c(i/p),i%=p,t.splice(i++,0,a)}var u;return String.fromCodePoint.apply(String,t)},v=function(e){const t=[];let n=(e=g(e)).length,i=128,a=0,s=72;for(const n of e)n<128&&t.push(d(n));let l=t.length,u=l;for(l&&t.push("-");u<n;){let n=r;for(const t of e)t>=i&&t<n&&(n=t);const p=u+1;n-i>c((r-a)/p)&&f("overflow"),a+=(n-i)*p,i=n;for(const n of e)if(n<i&&++a>r&&f("overflow"),n==i){let e=a;for(let n=o;;n+=o){const i=n<=s?1:n>=s+26?26:n-s;if(e<i)break;const r=e-i,a=o-i;t.push(d(h(i+r%a,0))),e=c(r/a)}t.push(d(h(e,0))),s=_(a,p,u==l),a=0,++u}++a,++i}return t.join("")},y={version:"2.1.0",ucs2:{decode:g,encode:e=>String.fromCodePoint.apply(String,(0,i.default)(e))},decode:m,encode:v,toASCII:function(e){return p(e,(function(e){return s.test(e)?"xn--"+v(e):e}))},toUnicode:function(e){return p(e,(function(e){return a.test(e)?m(e.slice(4).toLowerCase()):e}))}};e.exports=y},69759:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(60277),o=n(80210),a=i(n(4855));const s=n(61691),l=(a.default.name("Referer"),function(e){const t=[];for(const i in e){const r=e[i];for(const e in r){const i=r[e];for(const r in i){var n=i[r];n[0].forEach((function(i){var o={domain:i,medium:e,name:r};n[1]&&(o.params=n[1]),t.push(o)}))}}}return t}(s)),u=function(e,t,n){this.known=!1,this.referer=null,this.medium="unknown",this.search_parameter=null,this.search_term=null,this.referers=n||l;const i=new URL(e),a=i.hostname;if(this.known=Boolean(~["http:","https:"].indexOf(i.protocol)),this.uri=i,!this.known)return;if(t){if(new URL(t).hostname===a)return void(this.medium="internal")}let s=this._lookup_referer(a,i.pathname,!0);if(s||(s=this._lookup_referer(a,i.pathname,!1),s)){if(this.referer=s.name,this.medium=s.medium,"search"===s.medium){if(!s.params)return;const e=(0,r.extend)(o.querystring.parse(i.hash),o.querystring.parse(i.search));for(const t in e){const n=e[t];-1!==s.params.indexOf(t.toLowerCase())&&(this.search_parameter=t,this.search_term=n)}}}else this.medium="unknown"};u.prototype.searchReferer=function(e){return this.referers.find((t=>t.domain instanceof RegExp&&e.search(t.domain)>-1||(t.domain===e||void 0)))},u.prototype._lookup_referer=function(e,t,n){let i=null;if(i=n?this.searchReferer(e+t):this.searchReferer(e),!i&&n){const n=t.split("/");if(n.length>1)try{i=this.searchReferer(e+"/"+n[1])}catch(e){}}if(i)return i;try{const i=e.indexOf(".");if(-1===i)return null;const r=e.slice(i+1);return this._lookup_referer(r,t,n)}catch(e){return null}};var c=u;t.default=c},61691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={unknown:{Google:[["support.google.com","developers.google.com","maps.google.com","accounts.google.com","drive.google.com","sites.google.com","groups.google.com","groups.google.co.uk","news.google.co.uk"]],"Yahoo!":[["finance.yahoo.com","news.yahoo.com","eurosport.yahoo.com","sports.yahoo.com","astrology.yahoo.com","travel.yahoo.com","answers.yahoo.com","screen.yahoo.com","weather.yahoo.com","messenger.yahoo.com","games.yahoo.com","shopping.yahoo.net","movies.yahoo.com","cars.yahoo.com","lifestyle.yahoo.com","omg.yahoo.com","match.yahoo.net"]]},search:{"360.cn":[[/so.(com|360.cn)$/gi],["q"]],AOL:[[/\.aol.\w{2,4}(\w{2,4})?/gi,"aolsearch.com"],["q","query"]],Yandex:[["yandex.ru","yandex.ua","yandex.com","www.yandex.ru","www.yandex.ua","www.yandex.com","yandex.by","yandex.kz","www.yandex.by","www.yandex.kz"],["text"]],DuckDuckGoL:[["duckduckgo.com"],["q"]],Picsearch:[["www.picsearch.com"],["q"]],"Mail.ru":[["go.mail.ru"],["q"]],Rambler:[["nova.rambler.ru"],["query","words"]],MySearch:[[/(.mysearch)|(.myway).com$/gi,"search.mywebsearch.com"],["searchfor","searchFor"]],Baidu:[[/.baidu.com$/gi,"web.gougou.com"],["wd","word","kw","k"]],Ecosia:[["ecosia.org"],["q"]],Bing:[["bing.com","www.bing.com","msnbc.msn.com","dizionario.it.msn.com","cc.bingj.com","m.bing.com"],["q"]],Seznam:[["search.seznam.cz"],["q"]],"Yahoo!":[[/.?yahoo./gi,"www.cercato.it","search.offerbox.com","ys.mirostart.com"],["q","p"]],Ask:[[/.ask.com$/gi,"ask.reference.com","www.askkids.com","www.ask.co.uk","search-results.com","uk.search-results.com","www.search-results.com","int.search-results.com"]],"uol.com.br":[["busca.uol.com.br"],["q"]],Google:[[/^(www.)?google.\w{2,4}(.\w{2,4})?$/gi,/^.incredimail.com$/gi,/.googleearth./gi,"isearch.avg.com","www.cnn.com","darkoogle.com","search.darkoogle.com","search.foxtab.com","www.gooofullsearch.com","search.hiyo.com","search.sweetim.com","www.fastweb.it","search.juno.com","find.tdc.dk","searchresults.verizon.com","search.walla.co.il","search.alot.com","webcache.googleusercontent.com","encrypted.google.com","googlesyndicatedsearch.com"],["q","query","keywords"]],"2GIS":[["link.2gis.ru"]]},email:{Gmail:[["mail.google.com"]],Rambler:[["mail.rambler.ru"]]},social:{Odnoklassniki:[["odnoklassniki.ru","ok.ru"]],GitHub:[["github.com"]],Instagram:[["instagram.com"]],Vkontakte:[["vk.com","vkontakte.ru"]],Twitter:[["twitter.com","t.co"]],"Mail.ru":[["my.mail.ru"]],Pinterest:[["pinterest.com"]],LinkedIn:[["linkedin.com"]],Facebook:[["facebook.com","fb.me"]],Youtube:[["youtube.com","youtu.be"]]}}},8117:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=i(n(69759)),a=i(n(4855)),s=i(n(50754)),l=n(92560),u=n(37578),c=n(80210);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const f=a.default.name("utm"),p={utmccn:"campaign",utmcsr:"source",utmcmd:"medium",utmctr:"keyword",utmcct:"content"},g={parseUtmz:function(e){const t={};if(e){const n=decodeURI(e).replace(/^[0-9\.]*/g,"");let i;if(n){const e=n.split("|");for(let n=0;n<e.length;n++)i=e[n].substr(0,6),i in p&&(t[p[i]]=e[n].substr(7))}}return t},parseUTM:function(e,t,n){const i={};let a=!1,g=null;if(f.log("parseUTM",n),n){const e=n.split("|");let t;const r=Object.values(p);for(let n=0;n<e.length;n++)t=e[n].split("="),2===t.length&&(t[0]=t[0].toLowerCase(),r.indexOf(t[0])>=0?(i[t[0]]=t[1],a=!0):"term"===t[0]&&(i.keyword=t[1],i.term=t[1]))}if(g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i),f.log("finish utmz, utmparams",i),!a)if("string"==typeof t&&""!==t){const n=new o.default(t,e);if(f.log("processing_refer",n,t,e),n.known)if("internal"===n.medium){const e=n.uri.search;if(e&&e.length){const t=this.decodeString(e);let n={};try{n=c.querystring.parse(t)}catch(e){const i=this.getUTMParamsFromUrl(t);for(const e in i)if(i[e]){const t=i[e].split("=");t.length&&(n[t[0]]=t[1])}}for(const e in p)n["utm_"+p[e]]&&(i[p[e]]=n["utm_"+p[e]]);n.utm_term&&(i.keyword=n.utm_term,i.term=n.utm_term),f.log("query params:",i)}(0,l.isEmpty)(i)&&Object.assign(i,{campaign:"(direct)",source:"(direct)"})}else"unknown"===n.medium?Object.assign(i,{campaign:"(referral)",medium:"referral",source:s.default.toUnicode(n.uri.hostname),content:`${n.uri.pathname}${n.uri.search}`}):Object.assign(i,{campaign:"(organic)",source:n.referer,medium:n.medium,keyword:n.search_term,content:""});else f.warn("unknown_refer")}else(0,l.isEmpty)(i)&&Object.assign(i,{campaign:"(direct)",source:"(direct)"});if(i.keyword&&(i.keyword=this.decodeString(i.keyword)),i.term&&(i.term=this.decodeString(i.term)),i.content&&(i.content=this.decodeString(i.content)),i.campaign&&(i.campaign=this.decodeString(i.campaign)),t&&this.isLid(e,t)&&(i.medium="cpc","(organic)"==i.campaign&&(i.campaign=null)),!i.source&&"string"==typeof t&&""!==t){const n=new o.default(t,e);n.referer&&(i.source=n.referer)}return g.medium&&(i.medium=this.decodeString(g.medium)),t&&g.source&&(i.source=this.decodeString(g.source)),f.log("FINISH UTM",n,i),(0,u.filterObj)(i,(e=>!(0,l.isEmpty)(e)))},isLid(e,t){return["yclid=","gclid=","fbclid="].some((t=>e.includes(t)))&&["yandex","google","facebook"].some((e=>t.includes(e)))},decodeString(e){try{e=decodeURIComponent(e)}catch(t){return f.log(t),this.decode(e)}return e},decode(e){return(e=(e=(e=e.replace(/%([EF][0-9A-F])%([89AB][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n,i){const r=parseInt(t,16)-224,o=parseInt(n,16)-128;if(0==r&&o<32)return e;const a=(r<<12)+(o<<6)+(parseInt(i,16)-128);return a>65535?e:String.fromCharCode(a)}))).replace(/%([CD][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n){const i=parseInt(t,16)-192;if(i<2)return e;const r=parseInt(n,16)-128;return String.fromCharCode((i<<6)+r)}))).replace(/%([0-7][0-9A-F])/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/%[A-Z0-9]{2}/gi,"")},getUTMParamsFromUrl:function(e){let t=e.indexOf("?"),n=null;for(;-1!=n;)n=e.indexOf("?",t+1),n>0&&(t=n);const i=e.substr(t+1).split("&");let r,o,a="";for(o=i.length;o--;)if(r=i[o].split("="),r[0].indexOf("utm_")>=0){r=i[o],r=r.replace(/\|/gi,"%7C");const e=r.split("=");e.length>1&&(r=e[0]+"="+e.slice(1).join("%3D")),a+=(a.length>0?"|":"")+r.substr(r.indexOf("utm_")+4)}return a},setUTM:function(e){let t=e.href,n=e.refer,i=e.setterFn;const r=g.getUTMParamsFromUrl(t),o=g.parseUTM(t,n,r);return i({campaign:o&&o.campaign||null,source:o&&o.source||null,medium:o&&o.medium||null,keyword:o&&o.keyword||null,term:o&&o.term||null,content:o&&o.content||null})}};var h=g;t.default=h},95020:function(e,t,n){"use strict";!function(){"undefined"==typeof window&&(window=n.g);var e,t=2e4,i=2e3,r=32e3,o=3e4,a=function(t,n){if("function"==typeof e[t])try{return e[t](n)}catch(n){if("onerror"!==t)try{e.onerror(n)}catch(e){}}},s=function(e){return void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/[\x00-\x19]/g," "))},l=function(e){return Math.random()*e<<0},u=/^-?[a-zA-Z0-9]{1,16}$/,c=/^[_a-zA-Z][_a-zA-Z0-9]{0,7}$/,d=/^[a-zA-Z0-9]{10}$/;window.ClientSocket=function(){if(e)return e;e=this;var n,f,p,g,h=i,_=0,m=function(){try{f.send(".")}catch(e){}p=setTimeout(m,t)},v=function(){f.onclose=null,f.onerror=null,f.onmessage=null,f.onopen=null,f.CLOSING>f.readyState&&f.close()},y=function(){f&&(v(),r<(h<<=1)&&(h=r)),f=new WebSocket(n),e.readyState=f.readyState,f.onclose=function(t){if(e.readyState=f.readyState,a("onclose",t.reason),p){if(clearTimeout(p),clearTimeout(g),t.reason){var n=-1;switch(t.reason){case"Protocol Error":case"Unsupported Data":case"Invalid Data":case"Message Too Big":case"Mandatory Ext.":case"Invalid Response":case"Normal Closure":case"Void Time":n=0;break;case"Service Restart":n=6e4+l(6e5);break;case"Try Again Later":n=6e5+l(6e5);break;case"Internal Error":n=18e5+l(6e5);break;case"Going Away":n=36e5+l(6e5);break;case"Policy Violation":n=72e5;break;case"Blacklisted":n=864e5}if(-1!==n)return v(),p=null,void a("ondrop",n)}else a("onerror",new Error("close-is-not-clean"));if(3<=++_)return v(),p=null,a("ondrop",6e5+l(6e5)),void a("onfail","Network Unreachable");p=setTimeout(y,h+l(i)),r<(h<<=1)&&(h=r)}},f.onerror=function(e){},f.onmessage=function(e){if(_=0,clearTimeout(g),g=setTimeout(y,o),!(1>=e.data.length)){for(var t,n="",i={},r=e.data.split("\n"),l=0;l<r.length;l++)if(r[l]){var u=r[l].split("\t");if(4>u.length)r[l]&&a("onerror","uncomplete-message: "+JSON.stringify(r[l]));else switch(u[3]){case"+":u[0]&&(i.from=u[0]),u[1]&&(i.room=u[1]),u[4]&&(i.ip=u[4]),u[5]&&(i.port=u[5]),i.geoip={},u[6]&&(i.geoip.region=u[6]),u[7]&&(i.geoip.city_country_code=u[7]),u[8]&&(i.geoip.city_country_name=u[8]),u[9]&&(i.geoip.region_name=u[9]),u[10]&&(i.geoip.city=u[10]),u[11]&&(i.geoip.latitude=u[11]),u[12]&&(i.geoip.longitude=u[12]),u[13]&&(i.geoip.org=u[13]),a("onadd",i);break;case"-":u[0]&&(i.from=u[0]),u[1]&&(i.room=u[1]),u[4]&&(i.code=u[4]),a("ondel",i);break;default:if(4<u.length)i.key=u[3],u[0]&&(i.from=u[0]),u[1]&&(i.room=u[1]),i.value=5<u.length?u.slice(4):u[4],a("onset",i);else if(u[0]&&(i.from=u[0],i.room=u[1]),i.key=u[3]||"*",t=a("onget",i)){if(n+="\t"+u[1]+"\t"+u[0]+"\t"+u[3],t instanceof Array)for(var c=0;c<t.length;c++)n+="\t"+s(t);else n+="\t"+s(t);n+="\n"}}}n&&b(n)}},f.onopen=function(n){e.readyState=f.readyState,e.url=f.url,e.protocol=f.protocol,h=i,clearTimeout(g),g=setTimeout(y,o),clearTimeout(p),p=setTimeout(m,t),a("onopen")},clearTimeout(p),p=setTimeout(y,h)};this.open=function(e){if("string"!=typeof e)throw new TypeError("invalid-URL");n=e,y()},this.close=function(){f&&(clearTimeout(p),clearTimeout(g),_=0,p=null,f.close(1e3,"Normal Closure"),e.readyState=f.readyState)};var b=function(e){if(e){var n=(e=String(e)).length;if("function"==typeof Blob&&(n=new Blob([e]).size),!(8192>=n))throw new RangeError("message-too-big");clearTimeout(g),g=setTimeout(y,o),clearTimeout(p),p=setTimeout(m,t),f.send(e)}},E=function(e,t){var n="";if(e.to){if(!u.test(e.to))throw new Error("invalid-TO");if(!e.room||!d.test(e.room))throw new Error("invalid-ROOM");n+="\t"+e.room+"\t"+e.to}else{if("get"===t)throw new Error("get-require-TO-and-ROOM");n+="\t\t"}if("*"===e.key)e.key="";else if(!c.test(e.key))throw new Error("invalid-KEY");return n+="\t"+e.key};this.get=function(e){if(e)try{b(E(e,"get")+"\n")}catch(e){return e}},this.set=function(e){if(e)try{var t=E(e,"set");if(e.value instanceof Array){if(0===e.value.length)return;for(var n=0;n<e.value.length;n++)t+="\t"+s(e.value[n])}else t+="\t"+s(e.value);b(t+"\n")}catch(e){return e}}}}()},4855:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConsoleManager=void 0;var r=i(n(33119)),o=i(n(92664)),a=n(97615);void 0===window.console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){}});let s=function(){function e(t,n){(0,r.default)(this,e),this.componentName=t,this.style=n,this.counter=3}return(0,o.default)(e,[{key:"saveLog",value:function(e,t){"Monitoring"!=e&&(5==u.length&&u.shift(),u.push(`${t.toString().substr(0,60)}`))}},{key:"fireConsole",value:function(e,t){let n=this.componentName;const i=this.style;this.saveLog(n,t),l&&(n&&(n+=":","count"===e&&(n=`${this.counter++} ${n}`,e="warn"),"error"==e&&(n+=" ERROR"),t.unshift(n),i&&!a.EnvironmentManager.isProduction()&&t.unshift("%c%s %s",i)),console[e].apply?console[e].apply(console,t):console[e](t.join()))}},{key:"log",value:function(){this.fireConsole("log",Object.values(arguments))}},{key:"info",value:function(){this.fireConsole("info",Object.values(arguments))}},{key:"warn",value:function(){this.fireConsole("warn",Object.values(arguments))}},{key:"error",value:function(){this.fireConsole("error",Object.values(arguments))}},{key:"count",value:function(){this.fireConsole("count",Object.values(arguments))}},{key:"warnParent",value:function(e){window.parent.console.warn(e)}}]),e}();t.ConsoleManager=s;let l=!1;const u=[];var c={setLogsEnabled:e=>{l=!!e},lastLog:u,name:(e,t)=>new s(e,t)};t.default=c},53139:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateAgent=t.setAllAgentsLeft=t.initializeAgentStore=t.dispatchers=t.addAgent=void 0;var r=n(2036),o=n(62096),a=n(14890),s=i(n(14762));const l=i(n(4855)).default.name("AgentsActions"),u=e=>({type:r.ActionType.INIT_AGENTS_STORE,payload:e});t.initializeAgentStore=u;const c=e=>({type:r.ActionType.ADD_AGENT,payload:e});t.addAgent=c;const d=e=>{const t=s.default.getAgentById(e.id);return l.log("redux_try_to_update_agent",e,t),t&&(t.set("display_name",e.name),t.set("title",e.title),t.set("avatar_url",e.avatarUrl),l.log("redux_update_agent",s.default)),{type:r.ActionType.UPDATE_AGENT,payload:e}};t.updateAgent=d;const f=()=>({type:r.ActionType.SET_ALL_AGENTS_LEFT});t.setAllAgentsLeft=f;const p=(0,a.bindActionCreators)({initializeAgentStore:u,addAgent:c,updateAgent:d,setAllAgentsLeft:f},o.reduxStore.dispatch);t.dispatchers=p},42932:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setVIReconnectTime=t.setShowEula=t.setQuoteMsgId=t.setMaintenance=t.setLastMsgTime=t.setLastMsgId=t.setLastChatStatus=t.setLastChatOpened=t.setIsInputDisabled=t.setIsInDrag=t.setIsContactFormFocused=t.setHiddenByRules=t.setDidFreezeData=t.setChatStarted=t.setChatOpenByClient=t.setChatAccepted=t.setAppStarted=t.setAppRoute=t.setAppIsOnline=t.setAppIsFocused=t.initializeAppStore=t.dispatchers=void 0;var r=n(2036),o=n(62096),a=n(14890),s=i(n(95003)),l=i(n(73727));const u=e=>{let t=e.isFocused,n=e.isOnline,i=e.route,o=e.tabRoute,a=e.lastChatOpened,s=e.isInputDisabled,l=e.maintenance,u=e.chatStarted,c=e.chatAccepted,d=e.lastMsgId,f=e.lastMsgTime,p=e.started,g=e.showEula,h=e.chatOpenByClient,_=e.viReconnectTime,m=e.didFreezeData,v=e.lastChatStatus,y=e.quoteMsgId,b=e.hiddenByRules;return{type:r.ActionType.INIT_APP_STORE,payload:{isFocused:t,isOnline:n,route:i,tabRoute:o,lastChatOpened:a,isInputDisabled:s,maintenance:l,chatOpenByClient:h,chatStarted:u,chatAccepted:c,lastMsgId:d,lastMsgTime:f,started:p,showEula:g,viReconnectTime:_,didFreezeData:m,lastChatStatus:v,quoteMsgId:y,hiddenByRules:b}}};t.initializeAppStore=u;const c=e=>(s.default.is_online=e?1:0,{type:r.ActionType.SET_APP_IS_ONLINE,payload:{isOnline:e}});t.setAppIsOnline=c;const d=e=>(s.default.is_focused=e,{type:r.ActionType.SET_APP_IS_FOCUSED,payload:{isFocused:e}});t.setAppIsFocused=d;const f=e=>({type:r.ActionType.SET_CHAT_OPEN_BY_CLIENT,payload:{chatOpenByClient:e}});t.setChatOpenByClient=f;const p=e=>(s.default.route=e,{type:r.ActionType.SET_APP_ROUTE,payload:{route:e}});t.setAppRoute=p;const g=e=>(s.default.lastChatOpened=e,{type:r.ActionType.SET_LAST_CHAT_OPENED,payload:{lastChatOpened:e}});t.setLastChatOpened=g;const h=e=>({type:r.ActionType.SET_IS_IN_DRAG,payload:{isInDrag:e}});t.setIsInDrag=h;const _=e=>({type:r.ActionType.SET_IS_CONTACT_FORM_FOCUSED,payload:{isContactFormFocused:e}});t.setIsContactFormFocused=_;const m=e=>({type:r.ActionType.SET_IS_INPUT_DISABLED,payload:{isInputDisabled:e}});t.setIsInputDisabled=m;const v=e=>(l.default.maintenance=e,{type:r.ActionType.SET_MAINTENANCE,payload:{maintenance:e}});t.setMaintenance=v;const y=e=>(s.default.chat_started=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{chatStarted:e}});t.setChatStarted=y;const b=e=>(s.default.chat_accepted=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{chatAccepted:e}});t.setChatAccepted=b;const E=e=>(s.default.lastMsgTime=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{lastMsgTime:e}});t.setLastMsgTime=E;const C=e=>(s.default.lastMsgId=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{lastMsgId:e}});t.setLastMsgId=C;const T=e=>(s.default.started=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{started:e}});t.setAppStarted=T;const D=e=>(s.default.show_eula=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{showEula:e}});t.setShowEula=D;const w=e=>(s.default.viReconnectTime=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{viReconnectTime:e}});t.setVIReconnectTime=w;const O=e=>(s.default.didFreezeData=e,{type:r.ActionType.UPDATE_APP_STORE,payload:{didFreezeData:e}});t.setDidFreezeData=O;const S=e=>(s.default.lastChatStatus=e,{type:r.ActionType.SET_LAST_CHAT_STATUS,payload:{lastChatStatus:e}});t.setLastChatStatus=S;const A=e=>(s.default.quoteMsgId=e,{type:r.ActionType.SET_QUOTE_MSG_ID,payload:{quoteMsgId:e}});t.setQuoteMsgId=A;const I=e=>(s.default.hiddenByRules=e,{type:r.ActionType.SET_HIDDEN_BY_RULES,payload:{hiddenByRules:e}});t.setHiddenByRules=I;const k=(0,a.bindActionCreators)({initializeAppStore:u,setAppIsOnline:c,setAppIsFocused:d,setAppRoute:p,setLastChatOpened:g,setIsInDrag:h,setIsContactFormFocused:_,setIsInputDisabled:m,setMaintenance:v,setChatOpenByClient:f,setChatAccepted:b,setChatStarted:y,setLastMsgTime:E,setAppStarted:T,setShowEula:D,setLastMsgId:C,setVIReconnectTime:w,setDidFreezeData:O,setLastChatStatus:S,setQuoteMsgId:A,setHiddenByRules:I},o.reduxStore.dispatch);t.dispatchers=k},13532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeBotsStore=t.dispatchers=t.addBot=void 0;var i=n(2036),r=n(62096),o=n(14890);const a=e=>({type:i.ActionType.INIT_BOTS_STORE,payload:e});t.initializeBotsStore=a;const s=e=>({type:i.ActionType.ADD_BOT,payload:e});t.addBot=s;const l={initializeBotsStore:(0,o.bindActionCreators)(a,r.reduxStore.dispatch),addBot:(0,o.bindActionCreators)(s,r.reduxStore.dispatch)};t.dispatchers=l},45689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWebRTCCallStatus=t.setSeparateForm=t.setDelayedTimezone=t.setDelayedPeriods=t.setDelayedCallbackStatus=t.setCallbackStatus=t.setCallbackIsDelayed=t.setCallbackError=t.setCallbackAvailable=t.setActiveWebRTCCallMessageId=t.initializeCallbackStore=t.dispatchers=void 0;var i=n(2036),r=n(62096),o=n(14890);const a=e=>({type:i.ActionType.INIT_CALLBACK_STORE,payload:e});t.initializeCallbackStore=a;const s=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{available:e}});t.setCallbackAvailable=s;const l=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedStatus:e}});t.setDelayedCallbackStatus=l;const u=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{isDelayed:e}});t.setCallbackIsDelayed=u;const c=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{status:e}});t.setCallbackStatus=c;const d=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{error:e}});t.setCallbackError=d;const f=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedTimezone:e}});t.setDelayedTimezone=f;const p=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedPeriods:e}});t.setDelayedPeriods=p;const g=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{activeWebRTCCallMessageId:e}});t.setActiveWebRTCCallMessageId=g;const h=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{webRTCCallStatus:e}});t.setWebRTCCallStatus=h;const _=e=>({type:i.ActionType.UPDATE_CALLBACK_STORE,payload:{separateForm:e}});t.setSeparateForm=_;const m={initializeCallbackStore:(0,o.bindActionCreators)(a,r.reduxStore.dispatch),setCallbackAvailable:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setDelayedCallbackStatus:(0,o.bindActionCreators)(l,r.reduxStore.dispatch),setCallbackIsDelayed:(0,o.bindActionCreators)(u,r.reduxStore.dispatch),setCallbackStatus:(0,o.bindActionCreators)(c,r.reduxStore.dispatch),setCallbackError:(0,o.bindActionCreators)(d,r.reduxStore.dispatch),setDelayedTimezone:(0,o.bindActionCreators)(f,r.reduxStore.dispatch),setDelayedPeriods:(0,o.bindActionCreators)(p,r.reduxStore.dispatch),setActiveWebRTCCallMessageId:(0,o.bindActionCreators)(g,r.reduxStore.dispatch),setWebRTCCallStatus:(0,o.bindActionCreators)(h,r.reduxStore.dispatch),setSeparateForm:(0,o.bindActionCreators)(_,r.reduxStore.dispatch)};t.dispatchers=m},93141:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setNoJoinedAgents=t.setJoinedBots=t.setJoinedAgents=t.setChatEvaluated=t.setAgentTyping=t.initializeChatsStore=t.dispatchers=t.createChats=t.addJoinedAgent=void 0;var r=i(n(61125)),o=n(14890),a=n(36113),s=n(2036),l=n(99131),u=n(62096),c=n(55623),d=n(45959),f=n(53139),p=i(n(26754)),g=i(n(14762)),h=n(92056);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=e=>{const t=(0,c.selectChatsIds)(e),n=(0,c.selectJoinedIdsByStatus)(e,"join"),i=n.agentIds,r=n.botIds,o=(0,d.selectClientEvaluate)(e),a=(0,d.selectDepartmentId)(e);return t.length?t.reduce(((e,t,n,s)=>(e.push(m(m(m({},l.chatTemplate),n===s.length-1&&{joinedAgents:i,joinedBots:r}),{},{departmentId:a,evaluated:o,id:t})),e)),[]):[m(m({},l.chatTemplate),{},{departmentId:a,evaluated:o,joinedAgents:i,joinedBots:r})]};t.createChats=v;const y=()=>(e,t)=>{const n=v(t());return e({type:s.ActionType.INIT_CHATS_STORE,payload:n})};t.initializeChatsStore=y;const b=e=>(p.default.typing=e,{type:s.ActionType.SET_AGENT_TYPING,payload:{agentTyping:!!e}});t.setAgentTyping=b;const E=e=>t=>(0,a.batch)((()=>{t({type:s.ActionType.SET_CURRENT_CHAT_EVALUATED,payload:{evaluated:e}}),t((0,h.setEvaluate)(e))}));t.setChatEvaluated=E;const C=e=>{g.default.updateAgentList(e);const t=g.default.getAgentIdsByStatus("join");return{type:s.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT,payload:{joinedAgents:t}}};t.setJoinedAgents=C;const T=()=>e=>{g.default.closeChat(),p.default.agent_id=0,p.default.state="left",(0,a.batch)((()=>{e({type:s.ActionType.CLOSE_CHAT,payload:{joinedAgents:[],joinedBots:[]}}),e((0,f.setAllAgentsLeft)())}))};t.setNoJoinedAgents=T;const D=e=>({type:s.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT,payload:{agentId:e}});t.addJoinedAgent=D;const w=e=>({type:s.ActionType.SET_JOINED_BOTS,payload:{joinedBots:null!=e?e:[]}});t.setJoinedBots=w;const O=(0,o.bindActionCreators)({initializeChatsStore:y,setAgentTyping:b,setChatEvaluated:E,setJoinedAgents:C,setNoJoinedAgents:T,addJoinedAgent:D,setJoinedBots:w},u.reduxStore.dispatch);t.dispatchers=O},92056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateClient=t.setVisitorId=t.setUserToken=t.setUTM=t.setPaId=t.setLastMessage=t.setIsIntroduced=t.setInputText=t.setHasIntegration=t.setEvaluate=t.setEulaAccepted=t.setDepartmentId=t.setCustomData=t.setClientTags=t.setClientSessionId=t.setClientPhone=t.setClientName=t.setClientId=t.setClientEmail=t.setClientDescription=t.setClientContacts=t.setClientAttributes=t.setCaptchaToken=t.setAssignedAgentId=t.resetClient=t.dispatchers=void 0;var i=n(14890),r=n(2036),o=n(62096);const a=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{hasIntegration:e}});t.setHasIntegration=a;const s=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{lastMessage:e}});t.setLastMessage=s;const l=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{isIntroduced:e}});t.setIsIntroduced=l;const u=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{inputText:e}});t.setInputText=u;const c=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{userToken:e}});t.setUserToken=c;const d=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{customData:e}});t.setCustomData=d;const f=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{captchaToken:e}});t.setCaptchaToken=f;const p=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{priorityAgentId:e}});t.setPaId=p;const g=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{email:e}});t.setClientEmail=g;const h=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{eulaAccepted:e}});t.setEulaAccepted=h;const _=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{phone:e}});t.setClientPhone=_;const m=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{name:e}});t.setClientName=m;const v=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{description:e}});t.setClientDescription=v;const y=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{clientId:e}});t.setClientId=y;const b=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{sessionId:e}});t.setClientSessionId=b;const E=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{assignedAgentId:e}});t.setAssignedAgentId=E;const C=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{departmentId:e}});t.setDepartmentId=C;t.setEvaluate=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{evaluate:e}});const T=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{utm:e}});t.setUTM=T;const D=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:e});t.setClientContacts=D;const w=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{visitorId:e}});t.setVisitorId=w;const O=e=>({type:r.ActionType.UPDATE_CLIENT_STORE_MANUALLY,payload:e});t.updateClient=O;const S=()=>({type:r.ActionType.RESET_CLIENT_STORE});t.resetClient=S;const A=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{tags:e}});t.setClientTags=A;const I=e=>({type:r.ActionType.UPDATE_CLIENT_STORE,payload:{attributes:e}});t.setClientAttributes=I;const k=(0,i.bindActionCreators)({setHasIntegration:a,setLastMessage:s,setIsIntroduced:l,setInputText:u,setUserToken:c,setCustomData:d,setCaptchaToken:f,setPaId:p,setEulaAccepted:h,setClientEmail:g,setClientPhone:_,setClientName:m,setClientDescription:v,setClientId:y,setClientSessionId:b,setClientContacts:D,setAssignedAgentId:E,setDepartmentId:C,setVisitorId:w,setUTM:T,updateClient:O,resetClient:S,setClientTags:A,setClientAttributes:I},o.reduxStore.dispatch);t.dispatchers=k},84219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDesignerSettings=t.dispatchers=void 0;var i=n(14890),r=n(2036),o=n(62096);const a=e=>({type:r.ActionType.UPDATE_DESIGNER_SETTINGS,payload:e});t.updateDesignerSettings=a;const s=(0,i.bindActionCreators)({updateDesignerSettings:a},o.reduxStore.dispatch);t.dispatchers=s},66031:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setJoint=t.enablePrechat=t.dispatchers=t.disableFiletransfer=void 0;var r=n(14890),o=n(2036),a=n(62096),s=i(n(73727));const l=e=>(s.default.disable_filetranser=e,{type:o.ActionType.SET_DISABLE_FILETRANSFER,payload:{disableFiletransfer:e?1:0}});t.disableFiletransfer=l;const u=e=>(s.default.enable_prechat=e?1:0,{type:o.ActionType.SET_ENABLE_PRECHAT,payload:{prechat:e?1:0}});t.enablePrechat=u;const c=e=>(s.default.joint=e,{type:o.ActionType.SET_JOINT,payload:{joint:e}});t.setJoint=c;const d=(0,r.bindActionCreators)({disableFiletransfer:l,enablePrechat:u,setJoint:c},a.reduxStore.dispatch);t.dispatchers=d},26932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userDispatchers=t.user=t.transitionDispatchers=t.transition=t.socialDispatchers=t.social=t.proactiveDispatchers=t.proactive=t.permissionsDispatchers=t.permissions=t.messagesDispatchers=t.messages=t.featuresDispatchers=t.features=t.designerDispatchers=t.designer=t.clientDispatchers=t.client=t.chatsDispatchers=t.chats=t.callbackDispatchers=t.callback=t.botsDispatchers=t.bots=t.appDispatchers=t.app=t.agentsDispatchers=t.agents=void 0;var i=v(n(42932));t.app=i;var r=v(n(45689));t.callback=r;var o=v(n(27591));t.social=o;var a=v(n(50307));t.user=a;var s=v(n(53139));t.agents=s;var l=v(n(93141));t.chats=l;var u=v(n(5452));t.transition=u;var c=v(n(40099));t.messages=c;var d=v(n(92056));t.client=d;var f=v(n(66031));t.features=f;var p=v(n(13532));t.bots=p;var g=v(n(25925));t.proactive=g;var h=v(n(94539));t.permissions=h;var _=v(n(84219));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}t.designer=_;const y=i.dispatchers;t.appDispatchers=y;const b=r.dispatchers;t.callbackDispatchers=b;const E=o.dispatchers;t.socialDispatchers=E;const C=a.dispatchers;t.userDispatchers=C;const T=s.dispatchers;t.agentsDispatchers=T;const D=l.dispatchers;t.chatsDispatchers=D;const w=u.dispatchers;t.transitionDispatchers=w;const O=c.dispatchers;t.messagesDispatchers=O;const S=d.dispatchers;t.clientDispatchers=S;const A=f.dispatchers;t.featuresDispatchers=A;const I=p.dispatchers;t.botsDispatchers=I;const k=g.dispatchers;t.proactiveDispatchers=k;const M=h.dispatchers;t.permissionsDispatchers=M;const P=_.dispatchers;t.designerDispatchers=P},40099:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateWebRTCCallStatus=t.updateMessages=t.updateMessageBody=t.updateMessage=t.initializeMessagesStore=t.editMessage=t.dispatchers=t.destroyByType=t.deleteMessageByPrivateId=t.addMessages=t.addMessage=void 0;var r=n(2036),o=n(62096),a=n(14890),s=i(n(14264));const l=()=>{const e=s.default.getAll().map((e=>e.store));return{type:r.ActionType.INIT_MESSAGES_STORE,payload:{messages:e}}};t.initializeMessagesStore=l;const u=(e,t)=>{let n=e;return t||(n=s.default.push(n).store),{type:r.ActionType.ADD_MESSAGE,payload:{message:n}}};t.addMessage=u;const c=e=>(s.default.pushAll(e),{type:r.ActionType.ADD_MESSAGES,payload:{messages:e}});t.addMessages=c;const d=e=>({type:r.ActionType.EDIT_MESSAGE,payload:e});t.editMessage=d;const f=(e,t)=>{const n=s.default.getMessageByPrivateId(e);return n&&n.set("body",t),{type:r.ActionType.UPDATE_MESSAGE_BODY,payload:{privateId:e,body:t}}};t.updateMessageBody=f;const p=(e,t)=>{let n=e.privateId,i=e.messageId;const o=n?s.default.getMessageByPrivateId(n):s.default.getMessageById(i);return o&&o.set(t),{type:r.ActionType.UPDATE_MESSAGE,payload:{privateId:n,messageId:i,newMessage:t}}};t.updateMessage=p;const g=(e,t)=>{let n=e.privateIds,i=e.messageIds;return s.default.getAll().forEach((e=>{const r=e.toJSON(),o=r.msg_id,a=r.private_id;n&&n.includes(a)&&e.set(t),i&&i.includes(o)&&e.set(t)})),{type:r.ActionType.UPDATE_MESSAGES,payload:{privateIds:n,messageIds:i,update:t}}};t.updateMessages=g;const h=e=>{const t=s.default.getMessageByPrivateId(e);return t&&t.destroy(),{type:r.ActionType.DELETE_MESSAGE,payload:{privateId:e}}};t.deleteMessageByPrivateId=h;const _=e=>{const t=s.default.getMessagesByType(e);return t.length&&t.forEach((e=>{e&&e.destroy()})),{type:r.ActionType.DELETE_MESSAGE,payload:{type:e}}};t.destroyByType=_;const m=(e,t)=>{const n=s.default.getMessageByPrivateId(e);return n&&n.set("body",{webRTCCallStatus:t}),{type:r.ActionType.UPDATE_WEBRTCCALL_STATUS,payload:{privateId:e||null,webRTCCallStatus:t}}};t.updateWebRTCCallStatus=m;const v={initializeMessagesStore:(0,a.bindActionCreators)(l,o.reduxStore.dispatch),addMessage:(0,a.bindActionCreators)(u,o.reduxStore.dispatch),addMessages:(0,a.bindActionCreators)(c,o.reduxStore.dispatch),editMessage:(0,a.bindActionCreators)(d,o.reduxStore.dispatch),updateMessageBody:(0,a.bindActionCreators)(f,o.reduxStore.dispatch),deleteMessageByPrivateId:(0,a.bindActionCreators)(h,o.reduxStore.dispatch),destroyByType:(0,a.bindActionCreators)(_,o.reduxStore.dispatch),updateWebRTCCallStatus:(0,a.bindActionCreators)(m,o.reduxStore.dispatch),updateMessage:(0,a.bindActionCreators)(p,o.reduxStore.dispatch),updateMessages:(0,a.bindActionCreators)(g,o.reduxStore.dispatch)};t.dispatchers=v},94539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePermission=t.dispatchers=void 0;var i=n(2036),r=n(62096),o=n(14890);const a=(e,t)=>({type:i.ActionType.UPDATE_PERMISSION,payload:{permission:e,value:t}});t.updatePermission=a;const s={updatePermission:(0,o.bindActionCreators)(a,r.reduxStore.dispatch)};t.dispatchers=s},25925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStatus=t.setPrechats=t.setName=t.resetProactive=t.dispatchers=t.addProactive=void 0;var i=n(2036),r=n(62096),o=n(14890);const a=e=>{let t=e.createdTs,n=e.name,r=e.privateId,o=e.status,a=e.text,s=e.agentId,l=e.botId,u=e.isMarkdown,c=e.prechats,d=e.campaignId;return{type:i.ActionType.ADD_PROACTIVE,payload:{createdTs:t,name:n,privateId:r,status:o,text:a,agentId:s,botId:l,isMarkdown:u,prechats:c,campaignId:d}}};t.addProactive=a;const s=e=>({type:i.ActionType.SET_PROACTIVE_STATUS,payload:{status:e}});t.setStatus=s;const l=e=>({type:i.ActionType.SET_PROACTIVE_NAME,payload:{name:e}});t.setName=l;const u=e=>({type:i.ActionType.SET_PROACTIVE_PRECHATS,payload:{prechats:e}});t.setPrechats=u;const c=()=>({type:i.ActionType.RESET_PROACTIVE});t.resetProactive=c;const d={addProactive:(0,o.bindActionCreators)(a,r.reduxStore.dispatch),setStatus:(0,o.bindActionCreators)(s,r.reduxStore.dispatch),setName:(0,o.bindActionCreators)(l,r.reduxStore.dispatch),setPrechats:(0,o.bindActionCreators)(u,r.reduxStore.dispatch),resetProactive:(0,o.bindActionCreators)(c,r.reduxStore.dispatch)};t.dispatchers=d},27591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSocialStore=t.dispatchers=void 0;var i=n(2036),r=n(62096),o=n(14890);const a=e=>{let t=e.vk,n=e.fb,r=e.mode;return{type:i.ActionType.INIT_SOCIAL_STORE,payload:{vk:t,fb:n,mode:r}}};t.initializeSocialStore=a;const s={initializeSocialStore:(0,o.bindActionCreators)(a,r.reduxStore.dispatch)};t.dispatchers=s},5452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startTransition=t.initializeTransitionStore=t.dispatchers=void 0;var i=n(2036),r=n(62096),o=n(14890);const a=e=>({type:i.ActionType.INIT_TRANSITION_STORE,payload:e});t.initializeTransitionStore=a;const s=e=>({type:i.ActionType.START_TRANSITION_SCRIPT,payload:{script:e}});t.startTransition=s;const l={initializeTransitionStore:(0,o.bindActionCreators)(a,r.reduxStore.dispatch),startTransition:(0,o.bindActionCreators)(s,r.reduxStore.dispatch)};t.dispatchers=l},50307:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setWidgetPadding=t.setWidgetOrientation=t.setWidgetMobileOrientation=t.setWidgetLabelBubble=t.setWidgetFontType=t.setWidgetFontSize=t.setWidgetFontFamily=t.setWidgetFontColor=t.setWidgetColor2=t.setWidgetColor=t.setPrechat=t.setPowerGradient=t.setPowerButtonColor=t.setPattern=t.setOnlineLabel=t.setOfflineLabel=t.setOfflineFormTitle=t.setOfflineFormText=t.setMobileOffsetBottom=t.setCallbackButtonColor=t.setCallHeaderText=t.setBubbleColor=t.dispatchers=void 0;var r=n(2036),o=n(62096),a=n(14890),s=i(n(95003)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(73727));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=e=>(l.default.widget_color=e,s.default.widget_color=e,{type:r.ActionType.SET_WIDGET_COLOR,payload:{widgetColor:e}});t.setWidgetColor=c;const d=e=>(l.default.widget_color2=e,s.default.widget_color2=e,{type:r.ActionType.SET_WIDGET_COLOR2,payload:{widgetColor2:e}});t.setWidgetColor2=d;const f=e=>(l.default.widget_font_color=e,s.default.widget_font_color=e,{type:r.ActionType.SET_WIDGET_FONT_COLOR,payload:{widgetFontColor:e}});t.setWidgetFontColor=f;const p=e=>(l.default.widget_orientation=e,{type:r.ActionType.SET_WIDGET_ORIENTATION,payload:{widgetOrientation:e}});t.setWidgetOrientation=p;const g=e=>((0,l.setConfigParam)("widget_mobile_orientation",e),{type:r.ActionType.SET_MOBILE_WIDGET_ORIENTATION,payload:{widgetMobileOrientation:e}});t.setWidgetMobileOrientation=g;const h=e=>((0,l.setConfigParam)("mobile_offset_bottom",e),{type:r.ActionType.SET_MOBILE_OFFSET_BOTTOM,payload:{mobileOffsetBottom:e}});t.setMobileOffsetBottom=h;const _=e=>((0,l.setConfigParam)("power_gradient",e?1:0),{type:r.ActionType.SET_POWER_GRADIENT,payload:{powerGradient:!!e||null}});t.setPowerGradient=_;const m=e=>((0,l.setConfigParam)("power_button_color",e),{type:r.ActionType.SET_MOBILE_WIDGET_COLOR,payload:{powerButtonColor:e}});t.setPowerButtonColor=m;const v=e=>{const t=+e;return l.default.widget_padding=t,{type:r.ActionType.SET_WIDGET_PADDING,payload:{widgetPadding:t}}};t.setWidgetPadding=v;const y=e=>(l.default.online_widget_label=e,{type:r.ActionType.SET_ONLINE_WIDGET_LABEL,payload:{onlineWidgetLabel:e}});t.setOnlineLabel=y;const b=e=>(l.default.offline_widget_label=e,{type:r.ActionType.SET_OFFLINE_WIDGET_LABEL,payload:{offlineWidgetLabel:e}});t.setOfflineLabel=b;const E=e=>(l.default.font_size=e,{type:r.ActionType.SET_WIDGET_FONT_SIZE,payload:{fontSize:e}});t.setWidgetFontSize=E;const C=e=>(l.default.font_family=e,{type:r.ActionType.SET_WIDGET_FONT_FAMILY,payload:{fontFamily:e}});t.setWidgetFontFamily=C;const T=e=>(l.default.font_type=e,{type:r.ActionType.SET_WIDGET_FONT_TYPE,payload:{fontType:e}});t.setWidgetFontType=T;const D=e=>({type:r.ActionType.SET_WIDGET_LABEL_BUBBLE,payload:{labelBubble:e}});t.setWidgetLabelBubble=D;const w=e=>(s.default.callText=e,{type:r.ActionType.SET_CALL_HEADER_TEXT,payload:{callHeaderText:e}});t.setCallHeaderText=w;const O=e=>(l.default.pattern=e,{type:r.ActionType.SET_PATTERN,payload:{pattern:e}});t.setPattern=O;const S=e=>(l.default.callback_btn_color=e,{type:r.ActionType.SET_CALLBACK_BUTTON_COLOR,payload:{callbackButtonColor:e}});t.setCallbackButtonColor=S;const A=e=>(l.default.bubble_color=e,{type:r.ActionType.SET_BUBBLE_COLOR,payload:{bubbleColor:e}});t.setBubbleColor=A;const I=e=>(l.default.offline_form_title=e,{type:r.ActionType.SET_OFFLINE_FORM_TITLE,payload:{offlineFormTitle:e}});t.setOfflineFormTitle=I;const k=e=>(l.default.offline_form_text=e,{type:r.ActionType.SET_OFFLINE_FORM_TEXT,payload:{offlineFormText:e}});t.setOfflineFormText=k;const M=e=>(l.default.prechat=e,{type:r.ActionType.SET_PRECHAT,payload:{prechat:e}});t.setPrechat=M;const P={setWidgetColor:(0,a.bindActionCreators)(c,o.reduxStore.dispatch),setWidgetColor2:(0,a.bindActionCreators)(d,o.reduxStore.dispatch),setWidgetFontColor:(0,a.bindActionCreators)(f,o.reduxStore.dispatch),setWidgetOrientation:(0,a.bindActionCreators)(p,o.reduxStore.dispatch),setWidgetMobileOrientation:(0,a.bindActionCreators)(g,o.reduxStore.dispatch),setMobileOffsetBottom:(0,a.bindActionCreators)(h,o.reduxStore.dispatch),setPowerGradient:(0,a.bindActionCreators)(_,o.reduxStore.dispatch),setPowerButtonColor:(0,a.bindActionCreators)(m,o.reduxStore.dispatch),setWidgetPadding:(0,a.bindActionCreators)(v,o.reduxStore.dispatch),setOnlineLabel:(0,a.bindActionCreators)(y,o.reduxStore.dispatch),setOfflineLabel:(0,a.bindActionCreators)(b,o.reduxStore.dispatch),setWidgetFontSize:(0,a.bindActionCreators)(E,o.reduxStore.dispatch),setWidgetFontFamily:(0,a.bindActionCreators)(C,o.reduxStore.dispatch),setWidgetFontType:(0,a.bindActionCreators)(T,o.reduxStore.dispatch),setWidgetLabelBubble:(0,a.bindActionCreators)(D,o.reduxStore.dispatch),setCallHeaderText:(0,a.bindActionCreators)(w,o.reduxStore.dispatch),setPattern:(0,a.bindActionCreators)(O,o.reduxStore.dispatch),setCallbackButtonColor:(0,a.bindActionCreators)(S,o.reduxStore.dispatch),setBubbleColor:(0,a.bindActionCreators)(A,o.reduxStore.dispatch),setOfflineFormTitle:(0,a.bindActionCreators)(I,o.reduxStore.dispatch),setOfflineFormText:(0,a.bindActionCreators)(k,o.reduxStore.dispatch),setPrechat:(0,a.bindActionCreators)(M,o.reduxStore.dispatch)};t.dispatchers=P},2036:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0;t.ActionType={DO_NOTHING:"DO_NOTHING",INIT_CALLBACK_STORE:"INIT_CALLBACK_STORE",SET_CALL_AVAILABLE:"SET_CALL_AVAILABLE",SET_DELAYED_CALL_STATUS:"SET_DELAYED_CALL_STATUS",SET_CALL_IS_DELAYED:"SET_CALL_IS_DELAYED",SET_CALL_STATUS:"SET_CALL_STATUS",SET_CALL_ERROR:"SET_CALL_ERROR",SET_DELAYED_TIMEZONE:"SET_DELAYED_TIMEZONE",SET_DELAYED_PERIODS:"SET_DELAYED_PERIODS",SET_ACTIVE_WEBRTC_MESSAGE_ID:"SET_ACTIVE_WEBRTC_MESSAGE_ID",SET_WEBRTC_CALL_STATUS:"SET_WEBRTC_CALL_STATUS",UPDATE_CALLBACK_STORE:"UPDATE_CALLBACK_STORE",INIT_SOCIAL_STORE:"INIT_SOCIAL_STORE",INIT_APP_STORE:"INIT_APP_STORE",SET_APP_IS_ONLINE:"SET_APP_IS_ONLINE",SET_APP_IS_FOCUSED:"SET_APP_IS_FOCUSED",SET_APP_ROUTE:"SET_APP_ROUTE",SET_LAST_CHAT_OPENED:"SET_LAST_CHAT_OPENED",SET_IS_IN_DRAG:"SET_IS_IN_DRAG",SET_IS_CONTACT_FORM_FOCUSED:"SET_IS_CONTACT_FORM_FOCUSED",SET_IS_INPUT_DISABLED:"SET_IS_INPUT_DISABLED",SET_MAINTENANCE:"SET_MAINTENANCE",SET_CHAT_OPEN_BY_CLIENT:"SET_CHAT_OPEN_BY_CLIENT",UPDATE_APP_STORE:"UPDATE_APP_STORE",SET_LAST_CHAT_STATUS:"SET_LAST_CHAT_STATUS",SET_QUOTE_MSG_ID:"SET_QUOTE_MSG_ID",SET_HIDDEN_BY_RULES:"SET_HIDDEN_BY_RULES",SET_WIDGET_COLOR:"SET_WIDGET_COLOR",SET_WIDGET_COLOR2:"SET_WIDGET_COLOR2",SET_WIDGET_FONT_COLOR:"SET_WIDGET_FONT_COLOR",SET_WIDGET_ORIENTATION:"SET_WIDGET_ORIENTATION",SET_WIDGET_PADDING:"SET_WIDGET_PADDING",SET_ONLINE_WIDGET_LABEL:"SET_ONLINE_WIDGET_LABEL",SET_OFFLINE_WIDGET_LABEL:"SET_OFFLINE_WIDGET_LABEL",SET_WIDGET_FONT_SIZE:"SET_WIDGET_FONT_SIZE",SET_WIDGET_FONT_FAMILY:"SET_WIDGET_FONT_FAMILY",SET_WIDGET_FONT_TYPE:"SET_WIDGET_FONT_TYPE",SET_CALL_HEADER_TEXT:"SET_CALL_HEADER_TEXT",SET_PATTERN:"SET_PATTERN",SET_CALLBACK_BUTTON_COLOR:"SET_CALLBACK_BUTTON_COLOR",SET_BUBBLE_COLOR:"SET_BUBBLE_COLOR",SET_WIDGET_LABEL_BUBBLE:"SET_WIDGET_LABEL_BUBBLE",SET_PRECHAT:"SET_PRECHAT",SET_POWER_GRADIENT:"SET_POWER_GRADIENT",SET_MOBILE_OFFSET_BOTTOM:"SET_MOBILE_OFFSET_BOTTOM",SET_MOBILE_WIDGET_ORIENTATION:"SET_MOBILE_WIDGET_ORIENTATION",SET_MOBILE_WIDGET_COLOR:"SET_MOBILE_WIDGET_COLOR",INIT_AGENTS_STORE:"INIT_AGENTS_STORE",ADD_AGENT:"ADD_AGENT",UPDATE_AGENT:"UPDATE_AGENT",SET_ALL_AGENTS_LEFT:"SET_ALL_AGENTS_LEFT",INIT_BOTS_STORE:"INIT_BOTS_STORE",ADD_BOT:"ADD_BOT",INIT_CHATS_STORE:"INIT_CHATS_STORE",START_CHAT:"START_CHAT",CLOSE_CHAT:"CLOSE_CHAT",SET_JOINED_AGENTS_IN_CURRENT_CHAT:"SET_JOINED_AGENTS_IN_CURRENT_CHAT",ADD_JOINED_AGENT_TO_CURRENT_CHAT:"ADD_JOINED_AGENT_TO_CURRENT_CHAT",REMOVE_AGENT_FROM_CURRENT_CHAT:"REMOVE_AGENT_FROM_CHAT",SET_CURRENT_CHAT_EVALUATED:"SET_CHAT_EVALUATED",SET_AGENT_TYPING:"SET_AGENT_TYPING",SET_CURRENT_CHAT_DEPARTMENT_ID:"SET_CHAT_DEPARTMENT_ID",SET_JOINED_BOTS:"SET_JOINED_BOTS",UPDATE_CHATS_STORE:"UPDATE_CHATS_STORE",INIT_TRANSITION_STORE:"INIT_TRANSITION_STORE",START_TRANSITION_SCRIPT:"START_TRANSITION_SCRIPT",CONTINUE_TRANSITION_SCRIPT:"CONTINUE_TRANSITION_SCRIPT",STOP_TRANSITION_SCRIPT:"STOP_TRANSITION_SCRIPT",RESET_TRANSITON_SCRIPT:"RESET_TRANSITON_SCRIPT",INIT_MESSAGES_STORE:"INIT_MESSAGES_STORE",ADD_MESSAGE:"ADD_MESSAGE",ADD_MESSAGES:"ADD_MESSAGES",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",UPDATE_MESSAGE_BODY:"UPDATE_MESSAGE_BODY",UPDATE_MESSAGE_STATUS:"UPDATE_MESSAGE_STATUS",UPDATE_MESSAGE:"UPDATE_MESSAGE",UPDATE_MESSAGES:"UPDATE_MESSAGES",SET_OFFLINE_FORM_TITLE:"SET_OFFLINE_FORM_TITLE",SET_OFFLINE_FORM_TEXT:"SET_OFFLINE_FORM_TEXT",UPDATE_CLIENT_STORE:"UPDATE_CLIENT_STORE",UPDATE_CLIENT_STORE_MANUALLY:"UPDATE_CLIENT_STORE_MANUALLY",RESET_CLIENT_STORE:"RESET_CLIENT_STORE",SET_DISABLE_FILETRANSFER:"SET_DISABLE_FILETRANSFER",SET_ENABLE_PRECHAT:"SET_ENABLE_PRECHAT",ADD_PROACTIVE:"ADD_PROACTIVE",RESET_PROACTIVE:"RESET_PROACTIVE",SET_PROACTIVE_STATUS:"SET_PROACTIVE_STATUS",SET_PROACTIVE_NAME:"SET_PROACTIVE_NAME",SET_PROACTIVE_PRECHATS:"SET_PROACTIVE_PRECHATS",UPDATE_WEBRTCCALL_STATUS:"UPDATE_WEBRTCCALL_STATUS",UPDATE_PERMISSION:"UPDATE_PERMISSION",UPDATE_DESIGNER_SETTINGS:"UPDATE_DESIGNER_SETTINGS",SET_JOINT:"SET_JOINT"}},79156:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.storesMap=t.readoptReduxToClientStorage=t.adoptClientStorageToRedux=void 0;var r=i(n(61125)),o=i(n(4855)),a=n(28650),s=n(71047),l=n(42344),u=n(34014),c=n(73422);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=o.default.name("REDUX: ClientAdapter"),g={callback:{cw_call:{error:"error",status:"status"},cw_call_enabled:"available",cw_call_delayed_periods:"delayedPeriods",cw_call_delayed_status:"delayedStatus",cw_call_delayed_tz:"delayedTimezone",cw_call_delayed:"isDelayed",activeWebRTCCallMessageId:"activeWebRTCCallMessageId",webRTCCallStatus:"webRTCCallStatus",separateForm:"separateForm"},client:{assigned_agent_id:"assignedAgentId",avatar_url:"avatarUrl",captchaToken:"captchaToken",client_id:"clientId",client_info:{client_name:"name",description:"description",email:"email",phone:"phone"},customData:"customData",department_id:"departmentId",display_name:"displayName",eula_accepted:"eulaAccepted",evaluate:"evaluate",has_integration:"hasIntegration",inputText:"inputText",is_introduced:"isIntroduced",isBlacklisted:"isBlacklisted",jv_sess_id:"sessionId",last_message:"lastMessage",pa_id:"priorityAgentId",user_token:"userToken",utm:"utm",visitorId:"visitorId",tags:"tags",attributes:"attributes"}},h={callback:{name:s.STORAGED_ID.CALLBACK,keys:g.callback,initialState:l.initialState},client:{name:s.STORAGED_ID.CLIENT,keys:g.client,initialState:u.initialState}};t.storesMap=h;t.adoptClientStorageToRedux=(e,t)=>{p.warn("ADOPT_CLIENT_STORAGE_TO_REDUX",{data:e,keysSet:t});const n=h[t],i=n.keys,r=n.initialState;if(!e)return r;const o={};for(const t in i){const n=i[t];var s;if((0,c.isObject)(n))for(const i in n)e[t]&&(0,a.hasOwn)(e[t],i)?o[n[i]]=e[t][i]:o[n[i]]=null;else o[n]=null!==(s=e[t])&&void 0!==s?s:r[n]}return o};t.readoptReduxToClientStorage=(e,t)=>{p.warn("READOPT_CLIENT_STORAGE_TO_REDUX",{data:e,keysSet:t});const n=f({},e),i=h[t].keys;for(const t in i){const r=i[t];if((0,c.isObject)(r))for(const i in r)n[t]=f(f({},n[t]),{},{[i]:e[r[i]]}),delete n[r[i]];else n[t]=e[r],t!==r&&delete n[r]}return n}},91133:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.mergeSafety=void 0;var r=i(n(61125)),o=n(98986);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}t.mergeSafety=(e,t)=>Object.keys(t).reduce(((e,n)=>{const i=t[n];return(0,o.isNull)(i)||(e[n]=i),e}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},28240:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.loggerMiddleware=void 0;var r=i(n(61125)),o=i(n(4855)),a=i(n(22866));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=o.default.name("Redux");t.loggerMiddleware=e=>t=>n=>{u.warn("DISPATCHING",n);const i=t(n);return a.default.getInstance()&&a.default.getInstance().saveReduxAction(l(l({},n),{},{ts:(new Date).getTime()})),u.warn("NEXT_STATE",e.getState()),i}},68031:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOnStorage=t.statesToPersist=t.persistMiddleware=void 0;var r=n(16016),o=n(2036),a=n(79156),s=n(39715),l=n(71047),u=n(44733),c=i(n(73727)),d=n(55004);const f=u.StorageProvider.createKeyForStore(l.STORAGED_ID.POSITION),p=u.StorageProvider.createKeyForStore(l.STORAGED_ID.CLIENT),g={[l.STORAGED_ID.POSITION]:{storageKey:f,path:"position",onAdapter:null,onReadapter:null,onUpdate:null},[l.STORAGED_ID.CLIENT]:{storageKey:p,path:"client",onAdapter:e=>(0,a.adoptClientStorageToRedux)(e,l.STORAGED_ID.CLIENT),onReadapter:e=>(0,a.readoptReduxToClientStorage)(e,l.STORAGED_ID.CLIENT),onUpdate:e=>{c.default.cookie_domain&&u.StorageProvider.duplicateClientStateInCookie(e)}},[l.STORAGED_ID.CALLBACK]:{storageKey:p,path:"callback",onAdapter:e=>(0,a.adoptClientStorageToRedux)(e,l.STORAGED_ID.CALLBACK),onReadapter:e=>(0,a.readoptReduxToClientStorage)(e,l.STORAGED_ID.CALLBACK),onUpdate:null}};t.statesToPersist=g;const h={"position/initPositionStore":g[l.STORAGED_ID.POSITION],[o.ActionType.UPDATE_CLIENT_STORE]:g[l.STORAGED_ID.CLIENT],[o.ActionType.RESET_CLIENT_STORE]:g[l.STORAGED_ID.CLIENT],[o.ActionType.UPDATE_CALLBACK_STORE]:g[l.STORAGED_ID.CALLBACK]};t.persistMiddleware=e=>t=>n=>{if(t(n),n.type===o.ActionType.SET_DID_FREEZE_DATA&&!0===n.payload.didFreezeData)return Object.values(g).forEach((e=>{let t=e.storageKey;return u.StorageProvider.remove(t)}));n.type===o.ActionType.RESET_CLIENT_STORE&&u.StorageProvider.remove(g[l.STORAGED_ID.CLIENT].storageKey);const i=e.getState();if(n.type in h&&!i.app.didFreezeData){const e=h[n.type],t=e.storageKey,r=e.path,o=e.onReadapter,a=e.onUpdate,l=(0,s.get)(i,r),c=u.StorageProvider.get(t),d=Object.assign({},c,o?o(l):l);u.StorageProvider.set(t,d),null==a||a(d);const f=v(n.type);u.StorageProvider.set(_,f)}};const _="sync",m=(0,r.generateGUID)(),v=e=>({actionType:e,sourceId:m,time:Date.now()});t.subscribeOnStorage=e=>{window.addEventListener("storage",(e=>t=>{let n=t.key;if((0,u.isJvKeyForStoreToGet)(n)){const t=u.StorageProvider.get(_);if(t&&t.sourceId!==m){const n=h[t.actionType],i=n.storageKey,r=n.onAdapter,o=u.StorageProvider.get(i);e.dispatch({type:t.actionType,payload:(0,d.isFunction)(r)?r(o):o})}}})(e))}},57157:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case a.ActionType.INIT_AGENTS_STORE:if(i&&i.length){const e=i.filter((e=>!e.isBot));return(0,o.default)(e)}return(0,o.default)(e);case a.ActionType.ADD_AGENT:if(i){return e.find((e=>e.id===i.id))?e.map((e=>e.id===i.id?l(l({},e),i):e)):[].concat((0,o.default)(e),[l({},i)])}return(0,o.default)(e);case a.ActionType.UPDATE_AGENT:return i?e.map((e=>e.id===i.id?l(l({},e),i):e)):(0,o.default)(e);case a.ActionType.SET_ALL_AGENTS_LEFT:return e.map((e=>l(l({},e),{},{state:"left"})));default:return e}};var r=i(n(61125)),o=i(n(15687)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[]},46144:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case o.ActionType.INIT_APP_STORE:return{isFocused:i.isFocused,isOnline:!!i.isOnline,route:i.route,tabRoute:i.tabRoute,lastChatOpened:i.lastChatOpened,isInDrag:i.isInDrag,isContactFormFocused:i.isContactFormFocused,isInputDisabled:i.isInputDisabled,maintenance:i.maintenance,chatOpenByClient:i.chatOpenByClient,chatStarted:i.chatStarted,chatAccepted:i.chatAccepted,lastMsgId:i.lastMsgId,lastMsgTime:i.lastMsgTime,started:i.started,showEula:i.showEula,viReconnectTime:i.viReconnectTime,didFreezeData:i.didFreezeData,lastChatStatus:i.lastChatStatus,quoteMsgId:i.quoteMsgId,hiddenByRules:i.hiddenByRules};case o.ActionType.SET_APP_IS_ONLINE:return s(s({},e),{},{isOnline:i.isOnline});case o.ActionType.SET_APP_IS_FOCUSED:return s(s({},e),{},{isFocused:i.isFocused});case o.ActionType.SET_CHAT_OPEN_BY_CLIENT:return s(s({},e),{},{chatOpenByClient:i.chatOpenByClient});case o.ActionType.SET_APP_ROUTE:return s(s({},e),{},{route:i.route});case o.ActionType.SET_LAST_CHAT_OPENED:return s(s({},e),{},{lastChatOpened:i.lastChatOpened});case o.ActionType.SET_IS_IN_DRAG:return s(s({},e),{},{isInDrag:i.isInDrag});case o.ActionType.SET_IS_CONTACT_FORM_FOCUSED:return s(s({},e),{},{isContactFormFocused:i.isContactFormFocused});case o.ActionType.SET_IS_INPUT_DISABLED:return s(s({},e),{},{isInputDisabled:i.isInputDisabled});case o.ActionType.SET_MAINTENANCE:return s(s({},e),{},{maintenance:i.maintenance});case o.ActionType.SET_LAST_CHAT_STATUS:return s(s({},e),{},{lastChatStatus:i.lastChatStatus});case o.ActionType.SET_QUOTE_MSG_ID:return s(s({},e),{},{quoteMsgId:i.quoteMsgId});case o.ActionType.SET_HIDDEN_BY_RULES:return s(s({},e),{},{hiddenByRules:i.hiddenByRules});case o.ActionType.UPDATE_APP_STORE:return s(s({},e),i);default:return e}};var r=i(n(61125)),o=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={isFocused:null,isOnline:null,route:null,tabRoute:null,lastChatOpened:null,isInDrag:null,isContactFormFocused:null,isInputDisabled:null,maintenance:null,chatOpenByClient:null,chatStarted:null,chatAccepted:null,lastMsgId:null,lastMsgTime:null,started:null,showEula:null,viReconnectTime:null,didFreezeData:!1,lastChatStatus:null,quoteMsgId:null,hiddenByRules:!1}},56786:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case a.ActionType.INIT_BOTS_STORE:if(i&&i.length){const e=i.filter((e=>e.isBot));return(0,o.default)(e)}return(0,o.default)(e);case a.ActionType.ADD_BOT:if(i){return e.find((e=>e.id===i.id))?e.map((e=>e.id===i.id?l(l({},e),i):e)):[].concat((0,o.default)(e),[l({},i)])}return(0,o.default)(e);default:return e}};var r=i(n(61125)),o=i(n(15687)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[]},42344:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;if(n===o.ActionType.UPDATE_CALLBACK_STORE)return s(s({},e),i);return e},t.initialState=void 0;var r=i(n(61125)),o=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={available:null,delayedPeriods:[],delayedStatus:null,delayedTimezone:null,isDelayed:null,status:null,error:null,activeWebRTCCallMessageId:null,webRTCCallStatus:null,separateForm:null};t.initialState=l},99131:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.chatTemplate=void 0,t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case a.ActionType.INIT_CHATS_STORE:return i;case a.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT:return e.map(u((e=>{var t;return l(l({},e),{},{joinedAgents:null!==(t=i.joinedAgents)&&void 0!==t?t:[]})})));case a.ActionType.SET_JOINED_BOTS:return e.map(u((e=>{var t;return l(l({},e),{},{joinedBots:null!==(t=i.joinedBots)&&void 0!==t?t:[]})})));case a.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT:return i.agentId<0?e:e.map(u((e=>e.joinedAgents.includes(i.agentId)?e:l(l({},e),{},{joinedAgents:[].concat((0,r.default)(e.joinedAgents),[i.agentId])}))));case a.ActionType.SET_AGENT_TYPING:return e.map(u((e=>l(l({},e),{},{agentTyping:i.agentTyping}))));case a.ActionType.SET_CURRENT_CHAT_EVALUATED:return e.map(u((e=>l(l({},e),{},{evaluated:i.evaluated}))));case a.ActionType.CLOSE_CHAT:return e.map(u((e=>l(l({},e),{},{joinedAgents:[]}))));default:return e}};var r=i(n(15687)),o=i(n(61125)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.chatTemplate={agentTyping:null,departmentId:null,evaluated:null,id:null,joinedAgents:[],joinedBots:[]};const u=e=>(t,n,i)=>n!==i.length-1?t:e(t),c=[]},34014:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case o.ActionType.UPDATE_CLIENT_STORE:return(0,a.mergeSafety)(e,i);case o.ActionType.UPDATE_CLIENT_STORE_MANUALLY:return l(l({},e),i);case o.ActionType.RESET_CLIENT_STORE:return u;default:return e}},t.initialState=void 0;var r=i(n(61125)),o=n(2036),a=n(91133);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u={assignedAgentId:null,avatarUrl:null,captchaToken:null,clientId:null,customData:null,departmentId:null,description:null,displayName:null,email:null,evaluate:null,eulaAccepted:null,hasIntegration:null,inputText:null,isBlacklisted:null,isIntroduced:null,lastMessage:null,name:null,phone:null,priorityAgentId:null,sessionId:null,userToken:null,utm:{campaign:null,content:null,keyword:null,term:null,medium:null,source:null},visitorId:null,tags:null,attributes:null};t.initialState=u},94514:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(13862),o=n(51344),a=n(16587),s=n(35073),l=n(62241),u=i(n(57157)),c=i(n(46144)),d=i(n(56786)),f=i(n(42344)),p=i(n(99131)),g=i(n(34014)),h=i(n(20209)),_=i(n(51458)),m=i(n(77620)),v=i(n(78135)),y=i(n(31147)),b=(0,r.combineReducers)({agents:u.default,app:c.default,bots:d.default,callback:f.default,chats:p.default,client:g.default,messages:h.default,position:o.position,proactive:_.default,settings:m.default,social:v.default,transition:y.default,zoom:a.zoom,extensions:s.extensions,system:l.system});t.default=b},20209:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case a.ActionType.INIT_MESSAGES_STORE:return i.messages?(0,o.default)(i.messages):(0,o.default)(e);case a.ActionType.ADD_MESSAGE:return i.message?[].concat((0,o.default)(e),[i.message]):(0,o.default)(e);case a.ActionType.ADD_MESSAGES:return i.messages&&i.messages.length?[].concat((0,o.default)(e),(0,o.default)(i.messages)):(0,o.default)(e);case a.ActionType.UPDATE_MESSAGE_BODY:return i.privateId&&i.body?(0,o.default)(e.map((e=>e.private_id===i.privateId?l(l({},e),{},{body:i.body}):e))):(0,o.default)(e);case a.ActionType.UPDATE_MESSAGE:return e.map((e=>i.messageId&&e.msg_id===i.messageId||i.privateId&&e.private_id===i.privateId?l(l({},e),i.newMessage):e));case a.ActionType.UPDATE_MESSAGES:return e.map((e=>i.messageIds&&i.messageIds.includes(e.msg_id)||i.privateIds&&i.privateIds.includes(e.private_id)?l(l({},e),i.update):e));case a.ActionType.EDIT_MESSAGE:case a.ActionType.DELETE_MESSAGE:return(0,o.default)(e);case a.ActionType.UPDATE_WEBRTCCALL_STATUS:return i.privateId&&i.webRTCCallStatus?(0,o.default)(e.map((e=>e.private_id===i.privateId?l(l({},e),{},{body:l(l({},e.body),{},{webRTCCallStatus:i.webRTCCallStatus})}):e))):(0,o.default)(e);default:return e}};var r=i(n(61125)),o=i(n(15687)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[]},51458:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case o.ActionType.ADD_PROACTIVE:return i?{text:i.text||null,name:i.name||null,createdTs:i.createdTs||null,privateId:i.privateId||null,status:i.status||null,agentId:i.agentId||null,botId:i.botId||null,isMarkdown:i.isMarkdown||null,prechats:i.prechats||null,campaignId:i.campaignId||null}:e;case o.ActionType.SET_PROACTIVE_STATUS:return s(s({},e),{},{status:i.status});case o.ActionType.SET_PROACTIVE_NAME:return s(s({},e),{},{name:i.name});case o.ActionType.SET_PROACTIVE_PRECHATS:return s(s({},e),{},{prechats:i.prechats});case o.ActionType.RESET_PROACTIVE:return l;default:return e}},t.initialState=void 0;var r=i(n(61125)),o=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={text:null,name:null,createdTs:null,privateId:null,status:null,agentId:null,botId:null,isMarkdown:null,prechats:null,campaignId:null};t.initialState=l},49437:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.designer=void 0;var r=i(n(61125)),o=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={isMobileView:!1,mobileRenderTarget:""};t.designer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;return n===o.ActionType.UPDATE_DESIGNER_SETTINGS?s(s({},e),i):e}},37480:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.features=void 0;var r=i(n(61125)),o=n(2036),a=i(n(73727));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=a.default.eula,c=a.default.modules,d={apiInvitation:!!a.default.enable_api_invitation||null,disableEmoji:!!a.default.disable_emoji||null,disableErrorReporting:!!a.default.disable_error_reporting||null,disableFiletransfer:!!a.default.disable_filetransfer||null,disableMobile:!!a.default.disable_mobile||null,disableTelemetry:!!a.default.disable_telemetry||null,eula:u&&{customAgreement:u.custom_agreement||null,customTitle:u.custom_title||null,externalLink:u.external_link||null,titleExternalLink:u.title_external_link||null,useGdpr:u.use_gdpr||null}||null,joint:a.default.joint||null,logs:!!a.default.logs||null,mobileProactive:!!a.default.mobile_proactive||null,disableSounds:0===a.default.enable_sounds||null,newVisitorsInsight:!!a.default.new_visitors_insight||null,prechat:!!a.default.enable_prechat||null,regions:a.default.regions||null,typingInsight:!!a.default.typing_insight||null,modules:c?{videoCall:c.video_calls||null,telephony:c.telephony||null,bots:c.bots||null}:null,webRTCSeparateWindow:!!a.default.enable_webrtc_separate_window||null,enableRequestVideocall:!!a.default.enable_request_videocall||null,disableBotLabel:!!a.default.disable_bot_label||null,campaigns:a.default.campaigns?a.default.campaigns:null,recaptcha:a.default.enable_antispam&&a.default.recaptcha,userToken:!(!a.default.enable_token_connect||!a.default.user_token)||null,enableSpaNavigate:!!a.default.enable_spa_navigate||null,botMedia:!!a.default.bot_media||null,disableMobileBack:!!a.default.disable_mobile_back||null};t.features=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case o.ActionType.SET_DISABLE_FILETRANSFER:return l(l({},e),{},{disableFiletransfer:i.disableFiletransfer});case o.ActionType.SET_ENABLE_PRECHAT:return l(l({},e),{},{prechat:i.prechat});case o.ActionType.SET_JOINT:return l(l({},e),{},{joint:i.joint});default:return e}}},77620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(13862),r=n(61547),o=n(84348),a=n(62241),s=n(37480),l=n(78634),u=n(6511),c=n(49437),d=(0,i.combineReducers)({features:s.features,system:a.system,user:l.user,permissions:u.permissions,campaignPopup:r.campaignPopup,campaignWidget:o.campaignWidget,designer:c.designer});t.default=d},6511:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=void 0;var r=i(n(61125)),o=n(2036),a=n(62168);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u={[a.Permission.AUDIO]:a.PermissionStatus.UNKNOWN,[a.Permission.VIDEO]:a.PermissionStatus.UNKNOWN};t.permissions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;return n===o.ActionType.UPDATE_PERMISSION?l(l({},e),{},{[i.permission]:i.value}):l({},e)}},78634:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.user=void 0;var r,o=i(n(61125)),a=n(2036),s=i(n(73727)),l=n(20344);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d={bubbleColor:s.default.bubble_color||null,callback:s.default.callback_settings&&{time:s.default.callback_settings.time||null,button:!!s.default.callback_settings.button||null,countries:s.default.callback_settings.countries||null}||null,callbackButtonColor:s.default.callback_btn_color||null,chatMode:s.default.chat_mode||null,contactsAsk:s.default.contacts_ask,contactsSettings:s.default.contacts_settings||null,contactsSettingsNew:s.default.contacts_settings_new||null,custom_langpack:s.default.custom_langpack||null,departments:s.default.departments||null,fontFamily:s.default.font_family||"Arial",fontSize:s.default.font_size||"15",fontType:s.default.font_type||"normal",hideAd:s.default.hide_ad||null,hideOffline:s.default.hide_offline||null,labelBubble:s.default.label_bubble||0,locale:s.default.locale||null,offlineFormText:s.default.offline_form_text||null,offlineFormTitle:s.default.offline_form_title||null,offlineWidgetLabel:s.default.offline_widget_label||(0,l.l10n)("defOfflineWidgetLabelMobile"),onlineWidgetLabel:s.default.online_widget_label||(0,l.l10n)("defOnlineWidgetLabel"),pattern:s.default.pattern||null,powerButtonColor:s.default.power_button_color||"#44BB6E",powerButtonPhone:s.default.power_button_phone||null,powerGradient:!!s.default.power_gradient||null,prechat:s.default.prechat||null,rules:s.default.rules||null,showRateForm:s.default.show_rate_form||null,rateSettings:s.default.rate_settings?{type:s.default.rate_settings.type,icon:s.default.rate_settings.icon,conditionName:s.default.rate_settings.condition_name,conditionValue:s.default.rate_settings.condition_value,customTitle:s.default.rate_settings.custom_title,goodRateTitle:s.default.rate_settings.good_rate_title,badRateTitle:s.default.rate_settings.bad_rate_title}:null,socialResponse:s.default.social_response||null,widgetColor:s.default.widget_color||null,widgetColor2:s.default.widget_color2||null,widgetFontColor:s.default.widget_font_color||null,widgetMobileOrientation:s.default.widget_mobile_orientation||"right",mobileOffsetBottom:s.default.mobile_offset_bottom||null,widgetOrientation:s.default.widget_orientation||"bottom",widgetPadding:null!==(r=+s.default.widget_padding)&&void 0!==r?r:100,wixAgentDisplayName:s.default.wix_agent_display_name||null,wixAgentTitle:s.default.wix_agent_title||null,callHeaderText:null};t.user=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case a.ActionType.SET_WIDGET_COLOR:return c(c({},e),{},{widgetColor:i.widgetColor});case a.ActionType.SET_WIDGET_COLOR2:return c(c({},e),{},{widgetColor2:i.widgetColor2});case a.ActionType.SET_WIDGET_FONT_COLOR:return c(c({},e),{},{widgetFontColor:i.widgetFontColor});case a.ActionType.SET_WIDGET_ORIENTATION:return c(c({},e),{},{widgetOrientation:i.widgetOrientation});case a.ActionType.SET_MOBILE_WIDGET_ORIENTATION:return c(c({},e),{},{widgetMobileOrientation:i.widgetMobileOrientation});case a.ActionType.SET_MOBILE_OFFSET_BOTTOM:return c(c({},e),{},{mobileOffsetBottom:i.mobileOffsetBottom});case a.ActionType.SET_POWER_GRADIENT:return c(c({},e),{},{powerGradient:i.powerGradient});case a.ActionType.SET_MOBILE_WIDGET_COLOR:return c(c({},e),{},{powerButtonColor:i.powerButtonColor});case a.ActionType.SET_WIDGET_PADDING:return c(c({},e),{},{widgetPadding:i.widgetPadding});case a.ActionType.SET_ONLINE_WIDGET_LABEL:return c(c({},e),{},{onlineWidgetLabel:i.onlineWidgetLabel});case a.ActionType.SET_OFFLINE_WIDGET_LABEL:return c(c({},e),{},{offlineWidgetLabel:i.offlineWidgetLabel});case a.ActionType.SET_WIDGET_FONT_FAMILY:return c(c({},e),{},{fontFamily:i.fontFamily});case a.ActionType.SET_WIDGET_FONT_SIZE:return c(c({},e),{},{fontSize:i.fontSize});case a.ActionType.SET_WIDGET_FONT_TYPE:return c(c({},e),{},{fontType:i.fontType});case a.ActionType.SET_CALL_HEADER_TEXT:return c(c({},e),{},{callHeaderText:i.callHeaderText});case a.ActionType.SET_PATTERN:return c(c({},e),{},{pattern:i.pattern});case a.ActionType.SET_CALLBACK_BUTTON_COLOR:return c(c({},e),{},{callbackButtonColor:i.callbackButtonColor});case a.ActionType.SET_BUBBLE_COLOR:return c(c({},e),{},{bubbleColor:i.bubbleColor});case a.ActionType.SET_WIDGET_LABEL_BUBBLE:return c(c({},e),{},{labelBubble:i.labelBubble});case a.ActionType.SET_OFFLINE_FORM_TITLE:return c(c({},e),{},{offlineFormTitle:i.offlineFormTitle});case a.ActionType.SET_OFFLINE_FORM_TEXT:return c(c({},e),{},{offlineFormText:i.offlineFormText});case a.ActionType.SET_PRECHAT:return c(c({},e),{},{prechat:i.prechat});default:return e}}},78135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;const n=t.type,o=t.payload;if(n===i.ActionType.INIT_SOCIAL_STORE)return o?{vk:o.vk||null,fb:o.fb||null,mode:o.mode||null}:e;return e};var i=n(2036);const r={vk:null,fb:null,mode:null}},31147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;const n=t.type,o=t.payload;switch(n){case i.ActionType.INIT_TRANSITION_STORE:return{currentScript:o&&o.currentScript||null};case i.ActionType.START_TRANSITION_SCRIPT:return{currentScript:o&&o.script||e.currentScript};default:return e}},t.initialState=void 0;var i=n(2036);const r={currentScript:null};t.initialState=r},99258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAgents=t.selectAgentById=void 0;const n=e=>e.agents;t.selectAgents=n;t.selectAgentById=(e,t)=>n(e).find((e=>e.id===t))},35233:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectShowEula=t.selectRoute=t.selectQuoteMsgId=t.selectLastChatOpened=t.selectIsOnline=t.selectIsInDrag=t.selectIsFocused=t.selectChatStarted=t.selectApp=void 0;const n=e=>e.app;t.selectApp=n;t.selectIsOnline=e=>n(e).isOnline;t.selectIsFocused=e=>n(e).isFocused;t.selectRoute=e=>n(e).route;t.selectShowEula=e=>n(e).showEula;t.selectChatStarted=e=>n(e).chatStarted;t.selectLastChatOpened=e=>n(e).lastChatOpened;t.selectIsInDrag=e=>n(e).isInDrag;t.selectQuoteMsgId=e=>n(e).quoteMsgId},14376:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectBots=t.selectBotById=void 0;const n=e=>e.bots;t.selectBots=n;t.selectBotById=(e,t)=>n(e).find((e=>e.id===t))},65210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectIsCallbackDelayed=t.selectIsCallbackAvailable=t.selectCallback=void 0;const n=e=>e.callback;t.selectCallback=n;t.selectIsCallbackAvailable=e=>n(e).available;t.selectIsCallbackDelayed=e=>n(e).isDelayed},55623:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.selectJoinedIdsByStatus=t.selectIsChatNotStarted=t.selectIsChatEvaluated=t.selectCurrentChat=t.selectChatsIds=t.selectChats=void 0;var r=i(n(15687)),o=n(79257),a=n(99258),s=n(14376),l=n(66311);const u=e=>e.chats;t.selectChats=u;const c=e=>{const t=u(e);return(0,o.last)(t)};t.selectCurrentChat=c;t.selectIsChatEvaluated=e=>{var t;const n=c(e);return null!==(t=null==n?void 0:n.evaluated)&&void 0!==t&&t};t.selectIsChatNotStarted=e=>{const t=c(e);return!(null!=t&&t.joinedAgents.length||null!=t&&t.joinedBots.length)};t.selectChatsIds=e=>{const t=(0,l.selectMessages)(e);return(0,r.default)(t.reduce(((e,t)=>(null!=t&&t.chat_id&&(e.has(t.chat_id)||e.add(t.chat_id)),e)),new Set))};t.selectJoinedIdsByStatus=(e,t)=>{const n=(0,a.selectAgents)(e),i=(0,s.selectBots)(e);return[].concat((0,r.default)(n),(0,r.default)(i)).reduce(((e,n)=>(n.state===t&&(n.isBot?e.botIds.push(n.id):e.agentIds.push(n.id)),e)),{agentIds:[],botIds:[]})}},45959:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLastMessage=t.selectIsIntroduced=t.selectInputText=t.selectEulaAccepted=t.selectDescription=t.selectDepartmentId=t.selectClientPhone=t.selectClientName=t.selectClientId=t.selectClientEvaluate=t.selectClientEmail=t.selectClient=void 0;const n=e=>e.client;t.selectClient=n;t.selectClientId=e=>n(e).clientId;t.selectEulaAccepted=e=>n(e).eulaAccepted;t.selectClientEvaluate=e=>n(e).evaluate;t.selectDepartmentId=e=>n(e).departmentId;t.selectClientName=e=>n(e).name||"";t.selectClientPhone=e=>n(e).phone||"";t.selectClientEmail=e=>n(e).email||"";t.selectInputText=e=>n(e).inputText||"";t.selectDescription=e=>n(e).description;t.selectLastMessage=e=>n(e).lastMessage||"";t.selectIsIntroduced=e=>n(e).isIntroduced},95448:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFeatures=t.selectCampaigns=void 0;const n=e=>e.settings.features;t.selectFeatures=n;t.selectCampaigns=e=>n(e).campaigns},66311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSendedMessages=t.selectMessages=t.selectMessageByPrivateId=t.selectLastMessage=t.selectLastClientMessage=t.selectClientMessages=t.selectBotBlockedMessages=t.selectAgentMessagesCount=t.selectAgentMessages=void 0;var i=n(81152),r=n(79641);const o=e=>e.messages;t.selectMessages=o;t.selectSendedMessages=e=>o(e).filter((e=>e.status===i.MessageStatus.SENT));const a=e=>o(e).filter((e=>e.from===i.MessageInitiator.CLIENT));t.selectClientMessages=a;const s=e=>o(e).filter((e=>e.from===i.MessageInitiator.AGENT));t.selectAgentMessages=s;t.selectAgentMessagesCount=e=>s(e).length;t.selectLastClientMessage=e=>{const t=a(e);if(t.length>0)return t[t.length-1]};t.selectLastMessage=e=>{const t=o(e);if(t.length>0)return t[t.length-1]};t.selectMessageByPrivateId=(e,t)=>o(e).find((e=>e.private_id===t));t.selectBotBlockedMessages=e=>(o(e)||[]).filter((e=>{var t,n;return e.type==i.MessageType.LISTPICKER&&e.body&&(null===(t=e.body)||void 0===t?void 0:t.force_reply)&&!(0,r.isNumber)(null===(n=e.body)||void 0===n?void 0:n.answer_id)}))},7193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectProactive=void 0;t.selectProactive=e=>e.proactive},87692:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectWixAgentTitle=t.selectWixAgentDisplayName=t.selectWidgetPadding=t.selectWidgetOrientation=t.selectWidgetMobileOrientation=t.selectWidgetId=t.selectWidgetFontColor=t.selectWidgetColor2=t.selectWidgetColor=t.selectUserCallbackTime=t.selectSettings=t.selectPrechat=t.selectPowerGradient=t.selectPowerButtonPhone=t.selectPowerButtonColor=t.selectPattern=t.selectOfflineWidgetLabel=t.selectOfflineFormTitle=t.selectMobileProactive=t.selectMobileOffsetBottom=t.selectLocale=t.selectLabelBubble=t.selectJoint=t.selectIsPremium=t.selectGeoIp=t.selectEulaEnabled=t.selectEula=t.selectEnablePrechat=t.selectDisableEmoji=t.selectDisableBotLabel=t.selectDesigner=t.selectDepartments=t.selectContactsSettings=t.selectContactsAsk=t.selectCallHeaderText=t.selectBubbleColor=t.selectBillRu=t.selectBaseUrl=t.selectAvatarUrl=void 0;const n=e=>e.settings;t.selectSettings=n;const i=e=>n(e).features,r=e=>n(e).system,o=e=>n(e).user;t.selectEnablePrechat=e=>i(e).prechat;t.selectDisableEmoji=e=>i(e).disableEmoji;t.selectDisableBotLabel=e=>i(e).disableBotLabel;t.selectEula=e=>i(e).eula;t.selectJoint=e=>i(e).joint;t.selectMobileProactive=e=>i(e).mobileProactive;t.selectDesigner=e=>n(e).designer;t.selectAvatarUrl=e=>r(e).avatarUrl;t.selectIsPremium=e=>r(e).premium;t.selectBillRu=e=>r(e).billRu;t.selectBaseUrl=e=>r(e).baseUrl;t.selectWidgetId=e=>r(e).widgetId;t.selectGeoIp=e=>r(e).geoIp;t.selectEulaEnabled=e=>r(e).eula;t.selectBubbleColor=e=>o(e).bubbleColor||"green";t.selectPrechat=e=>o(e).prechat;t.selectLocale=e=>o(e).locale;t.selectDepartments=e=>o(e).departments||[];t.selectContactsSettings=e=>o(e).contactsSettings;t.selectWidgetOrientation=e=>o(e).widgetOrientation;t.selectWidgetMobileOrientation=e=>o(e).widgetMobileOrientation;t.selectMobileOffsetBottom=e=>o(e).mobileOffsetBottom;t.selectCallHeaderText=e=>o(e).callHeaderText;t.selectWidgetPadding=e=>o(e).widgetPadding;t.selectWidgetFontColor=e=>o(e).widgetFontColor||null;t.selectWidgetColor=e=>o(e).widgetColor||null;t.selectWidgetColor2=e=>o(e).widgetColor2||null;t.selectUserCallbackTime=e=>o(e).callback.time;t.selectPowerButtonPhone=e=>o(e).powerButtonPhone;t.selectPattern=e=>o(e).pattern;t.selectPowerButtonColor=e=>o(e).powerButtonColor;t.selectPowerGradient=e=>o(e).powerGradient;t.selectWixAgentDisplayName=e=>o(e).wixAgentDisplayName;t.selectWixAgentTitle=e=>o(e).wixAgentTitle;t.selectOfflineWidgetLabel=e=>o(e).offlineWidgetLabel;t.selectOfflineFormTitle=e=>o(e).offlineFormTitle;t.selectContactsAsk=e=>o(e).contactsAsk;t.selectLabelBubble=e=>o(e).labelBubble},92400:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTransitionCurrentScript=void 0;t.selectTransitionCurrentScript=e=>e.transition.currentScript},62096:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reduxStore=void 0;var r=n(13862),o=i(n(53894)),a=n(9393),s=n(75291),l=n(44733),u=n(28240),c=n(68031),d=i(n(94514));const f=(0,r.configureStore)({reducer:d.default,preloadedState:function(){const e={};return(0,a.each)(c.statesToPersist,(function(t){let n=t.storageKey,i=t.path,r=t.onAdapter;const o=l.StorageProvider.get(n);o&&(0,s.set)(e,i,r?r(o):o)})),e}(),middleware:[o.default,u.loggerMiddleware,c.persistMiddleware]});t.reduxStore=f,(0,c.subscribeOnStorage)(f)},5735:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(61125)),o=n(9393),a=n(31484),s=i(n(26754)),l=i(n(138)),u=i(n(14264)),c=i(n(71277)),d=i(n(2833)),f=n(81152),p=n(21476),g=n(47060),h=n(65465),_=n(4425),m=i(n(66547)),v=i(n(73687)),y=i(n(4855)),b=i(n(92443)),E=i(n(73727)),C=n(73262),T=n(21951),D=n(68403),w=n(13077),O=n(27586),S=n(6222),A=n(73422),I=n(26932),k=n(44145),M=n(69882),P=n(83907),R=n(94537),x=n(48999),N=n(74619),L=n(50350),F=n(85948),j=n(45948),B=n(97615);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const H=y.default.name("ruleManager"),z=new(0,n(89766).EventEmitter),G=Object.assign(z,{rules:[],canInvite:!0,initCampaignIds:[],init:function(){var e;if((0,k.getApp)().route===g.Route.HIDDEN&&!(0,k.getFeatures)().enableSpaNavigate)return void H.warn("Ignore rules, widget is hidden.");(0,a.defaults)(this.rules,E.default.rules);const t=(new Date).getTime();this.hasWidgetCampaign=!1,this.campaigns=null===(e=(0,k.getFeatures)().campaigns)||void 0===e?void 0:e.filter((e=>{var n,i,r,o;const a=O.StatsManager.get(e.campaign_id);return"widget"===e.type&&e.rules.commands[0].command===P.RuleTypes.PROACTIVE&&(this.hasWidgetCampaign=!0),(null==a||!a.isSubmitted||"call_to_action"===(null===(n=e.content)||void 0===n||null===(i=n.popup_settings)||void 0===i||null===(r=i.screens)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.action))&&(!e.end_ts||t<1e3*e.end_ts)})),this.isCampaignsEnable=this.campaigns&&this.campaigns.length>0,(0,w.setRuleLocal)("pageEnterTime",t),(0,w.addPageView)(),s.default.agent_id&&(0,k.getApp)().chatStarted&&(0,k.getApp)().isOnline||this.ready()},ready:function(){const e=this.rules.slice();H.log("RULE MANAGER READY: initialRules",e),this.rules=[],e.forEach(((e,t)=>{e.conditions?this.isCampaignsEnable&&this.hasWidgetCampaign&&e.commands[0].command===P.RuleTypes.PROACTIVE?H.warn("Remove proactive rule, because it handled by campaigns."):this.rules.push(new Z(e,t)):H.warn("Remove rule without conditions.")}));const t=this.rules.length;this.isCampaignsEnable&&this.campaigns.forEach(((e,n)=>{var i,r,o,a;const s=e.campaign_id,l=e.title,u=e.content,c=e.rules;c.conditions?this.rules.push(new Z(U(U({},c),{},{campaign_id:s,name:l||`Campaign ${s}`,widget_settings:null!==(i=null==u?void 0:u.widget_settings)&&void 0!==i?i:null,popup_settings:null!==(r=null==u?void 0:u.popup_settings)&&void 0!==r?r:null,prechats:null!==(o=null==u||null===(a=u.widget_settings)||void 0===a?void 0:a.prechat_buttons)&&void 0!==o?o:null==u?void 0:u.prechat_buttons}),t+n)):H.warn("Remove campaign without conditions.")})),H.warn("final rules",this.rules)},moveCloseButton:function(){(0,o.each)(this.rules,(function(e){(0,w.setRuleLocal)("movedToCloseButton",!0),e.tick()}),this)},mouseScroll:function(e){(0,o.each)(this.rules,(function(t){(0,w.setRuleLocal)("scrollPosition",e),t.tick()}),this)},cancelRule:function(e){H.log("canceling rule",e);for(var t=0;t<this.rules.length;t+=1)!this.rules[t].isTriggered&&this.rules[t].cancel&&this.rules[t].commands[0].command===e&&this.rules[t].cancel();e===P.RuleTypes.PROACTIVE&&(this.canInvite=!1)},allRulesCancel:function(){H.log("allRulesCancel");for(var e=0;e<this.rules.length;e++)!this.rules[e].isTriggered&&this.rules[e].cancel&&this.rules[e].cancel()},handleOnceADay:function(e,t){if(H.log("handleOnceADay",e),e&&e.name){const n=t.id?"id"+t.id:"i"+t.index;v.default.set(`${e.name}_${n}`,e.value||null,86400)}},showProactive:function(e,t,n,i,r,o,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(this.isCampaignsEnable&&o){const e=(0,k.getProactive)().campaignId;if(e)return void H.warn(`Proactive message disabled. Proactive message already have options from campaign #${e}.`);I.proactiveDispatchers.addProactive({campaignId:o})}(n&&"string"==typeof n&&n.includes("markdown")||i)&&(i=!0);const _=u.default.getCurrentChatMessages(),m="Cant show proactive:";if(!this.canInvite||(0,k.getProactive)().text||u.default.getCurrentProactive()||p.Router.getCurrentRoute()==g.Route.CHAT&&(0,k.getApp)().chatOpenByClient||(0,k.getApp)().chatStarted&&_&&_.length)return void H.info(`${m} by logic`);const v=(0,k.getUserSettings)().departments;if(t&&(null==v||!v.find((e=>+e.id==t))))return void H.info(`${m} department id ${t} is not found.`);const y=u=>{H.log("widget status",u);const d=(0,k.getClient)();(0,k.getApp)().isOnline||(0,k.getAgents)().length?(0,k.getProactive)().text||!u||p.Router.getCurrentRoute()!==g.Route.LABEL&&!(0,M.isChatPage)()?H.log('invitation failed, no agent OR route != "label" OR proactive already shown'):(u.bot_id||d.priorityAgentId&&d.priorityAgentId===u.agent_id||I.clientDispatchers.setPaId(u.agent_id),t&&I.clientDispatchers.setDepartmentId(t),r&&I.featuresDispatchers.enablePrechat(!0),b.default.proactive({message:e,agentInfo:u,name:n,isMarkdown:i,prechats:r,campaignId:o,conditionList:(0,w.getCondNames)(a),extra:s}),(0,w.setInvitationTime)(),G.emit("show_proactive"),c.default.play("notification"),h.messageActions.destroyByType(f.MessageType.LISTPICKER),h.messageActions.addPrechatMessage(r),o?l.default.trackCampaignShown(n):l.default.trackProactiveInvitationShown(n)):H.info(`${m} for offline`)};d.default.getActiveAgent(y,t)},showCallForm:function(e,t){const n=(0,k.getProactive)();(0,k.getApp)().route!=g.Route.LABEL||n.text&&n.status!=f.MessageStatus.READ?H.warn("ignore showCallForm due to proactive"):b.default.showCallForm(e,(()=>{G.emit("show_proactive"),c.default.play("notification"),(0,w.setInvitationTime)(),l.default.trackCallWidgetInvitationShown(t)}))},showCampaignPopup:function(e,t){var n;const i=e.campaignId,r=(0,k.getApp)().chatAccepted,o=(0,k.getSettings)().campaignPopup,a=o.campaignId,s=o.display,l=null==e||null===(n=e.screens[0])||void 0===n?void 0:n.action,u=(0,S.isFrequencyDelay)(i),c=O.StatsManager.get(i);if(!t){if(r)return void H.warn("Chat accepted by agent. CampaignPopup disabled.");if(u)return void H.warn(`CampaignPopup #${i} is delayed.`);if(s)return void H.warn(`CampaignPopup already have config from campaign #${a}.`);if(null!=c&&c.isSubmitted){if("call_to_action"!==l)return void H.warn(`CampaignPopup #${i} no longer shown. It was accepted by client.`);e.frequency="once_1d"}}b.default.showPopup(e)}});let V,$;const q=Object.assign(z,{inited:!1,initialize:function(){this.inited||(this.initScroll(),this.initClose(),this.inited=!0)},initScroll:function(){V=(0,C.throttle)(this._scroll.bind(this),150),(0,T.addListener)(window.parent,"scroll",V)},initClose:function(){this.last_position={},$=(0,C.throttle)(this._mouse.bind(this),100),(0,T.addListener)(window.parent,"mousemove",$)},_mouse:function(e){if(this.timerId&&clearTimeout(this.timerId),void 0!==this.last_position.x){var t=this.last_position.x-e.clientX,n=this.last_position.y-e.clientY,i=Math.abs(n)>Math.abs(t)&&n>0,r=e.clientY>>0==0,o=e.clientY<=30,a=e.clientY<=this.last_position.dY+30&&n>e.clientY&&n>25;i&&(r||o&&a)&&(this.timerId=setTimeout((()=>{G.moveCloseButton()}),200))}this.last_position={x:e.clientX,y:e.clientY,dY:this.last_position.y-e.clientY}},_scroll:function(){const e=window.parent.document;let t=e.documentElement.clientHeight;t===e.documentElement.scrollHeight&&(t=e.body.clientHeight),G.mouseScroll(Math.round((e.documentElement.scrollTop+e.body.scrollTop)/(e.documentElement.scrollHeight-t)*100))},removeEvents:function(){V&&(0,T.removeEvent)(window.parent,"scroll",V),$&&(0,T.removeEvent)(window.parent,"scroll",$)}}),Z=function(e,t){const n={initialize:function(){(0,a.defaults)(this,e),this.index=t,this.isCampaign=Boolean(e.campaign_id),this.isTriggered=!1,(0,o.each)(this.conditions,(function(e){e.condition===P.RuleConditions.WEEK_DAY&&"0"===e.value&&(e.value="7")})),this.timeConditions=[];const n=this.commands[0];let i=!1;const r=this.id?"id"+this.id:"i"+this.index,s=n.command+"_onceADay_"+r,u=v.default.get(s),c=(0,w.hasOnceCondition)(this.conditions);if(c&&u){if(!1!==c.value)return H.log(`Ignore "${this.name}" rule, already triggered today.`),void this.cancel();v.default.set(s,null,1)}if(!c&&n.params&&(n.params.once_aday||n.params.onceADay)&&u)H.log("is once a day rule",this.name);else{if(this.conditions)for(let e=0;e<this.conditions.length;e++){const t=this.conditions[e];(0,w.isGoalCondition)(t.condition)&&q.initialize(),"once_a_day"===t.condition&&(i=!0);const n=t.condition===P.RuleConditions.PAGE_URL;if(n&&(t.value=t.value.replace(/http(|s):\/\//,"")),(0,w.isTimeCondition)(t.condition)||(0,w.isGoalCondition)(t.condition)||(0,k.getFeatures)().enableSpaNavigate&&n){const e=(0,w.isGoalCondition)(t.condition)?(0,w.getGoalValue)(t):(0,w.getValue)(t.condition);t.condition===P.RuleConditions.GOAL_CLICK&&(0,w.initGoalClick)(t.value),H.info(`${this.name}; init condition ${t.condition}; expected=${t.value}; actual=${e}`),this.timeConditions.push(t)}else{if("ab_test_group"===t.condition&&!m.default.get("ab_test_group")){const e=Math.round(Math.random()),n=t.group_name?t.group_name:"JivoSite A/B Group";m.default.set("ab_test_group",e?"group_a":"group_b"),l.default.setABTestGroupContacts(n,e?"Group A":"Group B")}const n=(0,w.checkCondition)(t,this.name);if(this.conditions[e].isChecked=n,this.conditions[e].isStatic=!0,n)i=!0;else if("all"===this.type)return}}this.campaign_id&&(0,w.isAllStaticChecked)(this.conditions,this.type)&&G.initCampaignIds.push(this.campaign_id),this.timeConditions.length>0?(0,w.checkTimeConditions)(this.timeConditions,this.type,this.name)?this.triggered():this.timeWait():i&&this.triggered()}},timeWait:function(){var e=this;clearTimeout(this.timeWaitTimeout),this.timeWaitTimeout=setTimeout((function(){e.tick()}),1e3)},tick:function(){!this.isTriggered&&(0,w.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()},cancel:function(){clearTimeout(this.timeWaitTimeout),this.isTriggered=!0},triggered:function(){var e,t,n,i,r;H.log("triggered",this.name);const o=this.commands[0];clearTimeout(this.timeWaitTimeout),this.isTriggered=!0;let a={};(0,A.isObject)(o.params)&&(a={name:o.command+"_onceADay",value:o.params.once_aday||o.params.onceADay?1:null});const s=(0,w.hasOnceCondition)(this.conditions);H.log("onceCondition",s,this.conditions),s&&(a={name:o.command+"_onceADay",value:s.value});const d=(0,w.isPopupCommand)(o.command),p=(0,k.getApp)().route,m=(0,k.getApp)().isOnline;if(p!==g.Route.LABEL&&d&&(0,k.getApp)().chatOpenByClient||(0,M.isChatPage)()&&[g.Route.DEPARTMENTS,g.Route.INTRODUCE].includes(p))return void H.log("cant show proactive",p);const v=(0,k.getClient)();if(d&&(0,w.isYandexMarketClient)(v.utm))return void H.log("ignore proactive for YMarket");const y=null!==(e=this.widget_settings)&&void 0!==e?e:o.params,E=this.campaign_id&&y?(0,x.formatProactiveContent)(y):null===(t=o.params)||void 0===t?void 0:t.message,C=(0,k.getUserSettings)(),T=C.contactsAsk,O=C.chatMode;switch(o.command){case P.RuleTypes.PROACTIVE:G.showProactive(E,+(null===(n=o.params)||void 0===n?void 0:n.department),this.name,!!this.campaign_id||this.isMarkdown,this.prechats,this.campaign_id,this.conditions,this.campaign_id?{img_src:y.img_src,img_position:y.img_position,background:y.background,text_color:y.text_color}:null);break;case P.RuleTypes.OPEN_OFFLINE:if((0,k.getClient)().isIntroduced)return H.warn("Client introduced earlier, OPEN_OFFLINE canceled."),void G.cancelRule(P.RuleTypes.OPEN_OFFLINE);if(O===_.ChatMode.ONLINE||p!==g.Route.LABEL)return;(0,w.setInvitationTime)(),o.params&&(o.params.title&&I.userDispatchers.setOfflineFormTitle(o.params.title),o.params.message&&(h.messageActions.deleteOfflineSystemInvites(),I.userDispatchers.setOfflineFormText(o.params.message))),b.default.openOffline(),G.emit("show_proactive"),c.default.play("notification"),l.default.trackProactiveInvitationShown(this.name),G.cancelRule(P.RuleTypes.OPEN_OFFLINE);break;case P.RuleTypes.HIDE:(0,k.getFeatures)().enableSpaNavigate?(I.appDispatchers.setHiddenByRules(!0),G.cancelRule(P.RuleTypes.PROACTIVE),G.cancelRule(P.RuleTypes.OPEN_OFFLINE),G.cancelRule(P.RuleTypes.SHOW_POPUP)):((0,F.addSyncExclude)("route"),I.appDispatchers.setAppRoute(g.Route.HIDDEN)),c.default.disableSoundPlayer();break;case P.RuleTypes.SYSTEM_MESSAGE:if(m){var S,N;const e=u.default.getLastMessage();e&&e.get("type")===f.MessageType.SYSTEM&&e.get("text")===(null===(S=o.params)||void 0===S?void 0:S.message)&&e.destroy(),(0,w.setInvitationTime)(),b.default.systemMessage(null===(N=o.params)||void 0===N?void 0:N.message),h.messageActions.addPrechatMessage()}break;case P.RuleTypes.SYSTEM_EMAIL:if(!m)return;if(m&&T===R.ContactsType.SOCIAL)return void H.log("systemMessageEmail failed, contact settings is social");if(v.email)return void H.log("Client already has email. Rule ignored.");if((0,D.hasIntegration)(v.hasIntegration))return void H.log("systemMessageEmail failed, client has integration");(0,w.setInvitationTime)(),b.default.systemMessageEmail(null===(i=o.params)||void 0===i?void 0:i.message),h.messageActions.addPrechatMessage();break;case P.RuleTypes.SHOW_CALLFORM:G.showCallForm((null===(r=o.params)||void 0===r?void 0:r.title).replace("<br>","").replace("<span>","").replace("<span style='color: #40cd72'>","").replace("</span>",""),this.name);break;case P.RuleTypes.SHOW_POPUP:const e=this.campaign_id,t=this.popup_settings,a=this.frequency;G.showCampaignPopup(U(U({},t),{},{frequency:a,campaignId:e}))}G.handleOnceADay(a,this)}};return n.initialize(),n};(0,k.getFeatures)().enableSpaNavigate&&new N.Observer({onUrlChange:()=>{const e=(0,M.getCurrentPage)(),t=e.title,n=e.url;(0,L.sendUrlChange)(t,n),(0,w.setRuleLocal)("firstMessageTime",null),j.isPopupConstructor||B.EnvironmentManager.isWidgetConstructor()||I.appDispatchers.setHiddenByRules(!1),G.initCampaignIds=[],G.campaigns=[],G.rules=[],G.init()}}),s.default.addListener((function(){s.default.agent_id&&(0,k.getApp)().chatStarted&&(0,k.getApp)().isOnline&&G.allRulesCancel()})),u.default.on("create",(()=>{u.default.getCurrentClientMessages().length&&!(0,w.getRuleLocal)("firstMessageTime")&&(H.log("cancelRules, we have client messsages."),G.cancelRule(P.RuleTypes.PROACTIVE),G.cancelRule(P.RuleTypes.SHOW_CALLFORM));const e=u.default.getLastMessage();e&&e.get("type")===P.RuleTypes.PROACTIVE&&G.cancelRule(P.RuleTypes.PROACTIVE),u.default.getAgentTextMessages().length&&e.get("from")!==f.MessageInitiator.CLIENT&&(H.log("cancel system_message, we have agentMessage"),G.cancelRule(P.RuleTypes.SYSTEM_MESSAGE))})),(0,T.addListener)(window.parent,"jBeforeunload",q.removeEvents);var K=G;t.default=K},26754:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(40694);const o=(0,i(n(85948)).default)({agent_id:0,bot_id:0,display_name:null,title:null,avatar_url:null,typing:0,state:null,isUpdateFromBot:null});o.toReduxFormat=()=>(0,r.agentToReduxFormat)(o);var a=o;t.default=a},95003:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(85948)),o=i(n(73727)),a=n(69882),s=i(n(19955)),l=n(31484),u=n(47060),c=n(4425),d=i(n(73687)),f=n(44733),p=n(71047),g=n(94537),h=n(44145),_=n(97615),m=n(45948);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const y={route:u.Route.LABEL,is_online:0,is_focused:!1,chat_started:!1,chat_accepted:!1,widget_color:o.default.widget_color,widget_color2:o.default.widget_color2,widget_font_color:o.default.widget_font_color,cap_id:null,forcedOffline:!1,callText:null,eula_accepted:!1,show_eula:!1,width:!1,height:!1,viReconnectTime:null,lastMsgId:null,lastChatOpened:null,started:!1,lastMsgTime:null,didFreezeData:!1,lastChatStatus:null,quoteMsgId:null,hiddenByRules:!1},b=_.EnvironmentManager.isDesignerEditor()?null:f.StorageProvider.createKeyForStore(p.STORAGED_ID.APP),E=(0,r.default)(y,b),C=(0,h.getClient)();E.widget_color=o.default.widget_color,E.widget_color2=o.default.widget_color2,E.widget_font_color=o.default.widget_font_color,E.is_online=o.default.chat_mode===c.ChatMode.ONLINE?1:0,E.is_online||null!==C.sessionId||(E.chat_started=!1),(0,a.isWixEditor)()&&(E.chat_started=!1),s.default.mobileOrTablet()&&(E.route=u.Route.LABEL),(0,l.defaults)(o.default,{contacts_settings:{name:{show:!1,required:!1},phone:{show:!1,required:!1},email:{show:!1,required:!1}}}),1!==o.default.hide_offline||512&o.default.options||(o.default.hide_offline=0),1!=o.default.show_rate_form||64&o.default.options||(o.default.show_rate_form=0),(0,r.addSyncExclude)("hiddenByRules"),E.hiddenByRules&&(0,r.addSyncExclude)("route"),E.route==u.Route.HIDDEN&&(E.route=u.Route.LABEL),E.chat_started&&E.chat_accepted&&!s.default.mobileOrTablet()?(o.default.label_bubble?E.route=E.route===u.Route.LABEL?u.Route.LABEL:u.Route.CHAT:E.route=E.route===u.Route.CHAT_MIN?u.Route.CHAT_MIN:u.Route.CHAT,o.default.hide_offline=0):E.route=u.Route.LABEL,E.route==u.Route.INTRODUCE&&o.default.contacts_ask!==g.ContactsType.BEFORE_CHAT&&(E.route=u.Route.CHAT),E.route==u.Route.INTRODUCE&&C.isIntroduced&&(E.route=u.Route.CHAT),E.route!=u.Route.INTRODUCE||E.is_online||(E.route=u.Route.CHAT),E.route==u.Route.CHAT_SOCIAL&&(E.route=u.Route.CHAT),E.route==u.Route.CHAT_EULA&&(E.route=u.Route.CHAT),E.route==u.Route.CALL_EULA&&(E.route=u.Route.CALL),E.route!=u.Route.CHAT_EVAL&&E.route!=u.Route.CHAT_INTRODUCE||(E.route=u.Route.CHAT),!s.default.mobile()&&E.zoom&&(E.zoom=null),E.show_eula=!1,_.EnvironmentManager.isRegPage()&&(E.route=u.Route.CHAT);const T=o.default.contacts_ask===g.ContactsType.BEFORE_CHAT&&!C.isIntroduced&&E.is_online;(0,a.isChatPage)()?T?E.route=u.Route.INTRODUCE:o.default.departments&&!E.chat_started&&E.is_online?E.route=u.Route.DEPARTMENTS:E.route=u.Route.CHAT:T&&E.route==u.Route.CHAT&&(E.route=u.Route.INTRODUCE),(!E.is_online&&o.default.hide_offline&&!E.chat_started||d.default.get("is_blacklisted")||s.default.mobileOrTablet()&&o.default.disable_mobile||(0,a.isAppCobrowse)())&&(E.route=u.Route.HIDDEN),m.isPopupConstructor&&(E.route=u.Route.HIDDEN),E.hiddenByRules=!1,o.default.cookie_domain&&f.StorageProvider.migrate();var D=E;t.default=D},32710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bind=function(e,t,n){if(!(0,i.isFunction)(e))throw new TypeError("Bind must be called on a function.");return e.bind(t,n)};var i=n(55004)},10895:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const n=[].concat(t);for(;n.length>0;)e=n.pop()(e);return e}}},53401:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.splitCookieOnEntries=t.setCookie=t.parseCookies=t.getCookie=t.deleteCookie=void 0;var r=i(n(67375)),o=n(80210),a=n(64249),s=n(79641),l=n(21733),u=n(82138),c=n(10895);const d=e=>e.toUTCString(),f=e=>e.map((e=>e.trim())),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432e5;const t=(new Date).getTime()+e;return d(new Date(t))},g=e=>{const t=new Date;return t.setDate(t.getDate()+e),d(t)};t.getCookie=e=>{const t=(0,u.isRegExp)(e)?e:new RegExp(e+"=([^;]*)"),n=document.cookie.match(t),i=(0,c.compose)(JSON.parse,decodeURIComponent);return n?i(n[1]):null};const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Object.assign({path:"/",expires:p()},n);(0,a.isDate)(i.expires)&&(i.expires=d(i.expires)),(0,s.isNumber)(i.expires)&&(i.expires=g(i.expires));const u=Object.entries(i),c=(0,l.isString)(t)?t:JSON.stringify(t),f=(0,o.encodeAndJoinPair)([e,c]),h=u.reduceRight(((e,t)=>{let n=(0,r.default)(t,2);return e+`; ${n[0]}=${n[1]}`}),f);return document.cookie=h};t.setCookie=h;t.deleteCookie=e=>h(e,"",{"max-age":-1});t.parseCookies=()=>document.cookie.split(";").reduce(((e,t)=>{var n;const i=(0,o.splitAndDecodePair)(t),r=i[0].trim(),a=null!==(n=i[1])&&void 0!==n?n:"";return e[r]=a.trim(),e}),{});t.splitCookieOnEntries=()=>{const e=document.cookie.split(";"),t=(0,c.compose)(f,o.splitAndDecodePair);return e.map(t)}},90991:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){let i,r,o,a,s;const l=function(){const u=Date.now()-r;t>u?i=setTimeout(l,t-u):(i=null,n||(a=e.apply(s,o)),i||(o=s=null))},u=function(){return s=this,o=arguments,r=Date.now(),i||(i=setTimeout(l,t),n&&(a=e.apply(s,o))),a};return u.cancel=function(){clearTimeout(i),i=o=s=null},u}},31484:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t[0],o=t.slice(1),a=Object.assign({},i);return Object.assign.apply(Object,[i].concat((0,r.default)(o),[a]))};var r=i(n(15687))},34548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.difference=void 0;var i=n(28008);t.difference=(e,t)=>{if((0,i.isUndefined)(t))return e;const n=new Set(t);return e.filter((e=>!n.has(e)))}},9393:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.each=function(e,t,n){const i=n?function(e,i,r){return t.call(n,e,i,r)}:t;Array.isArray(e)&&e.forEach(i);(0,s.isObject)(e)&&Object.entries(e).forEach(((e,t,n)=>{let o=(0,r.default)(e,2),a=o[0],s=o[1];return i(s,a,n)}));((0,o.isNodeList)(e)||(0,a.isHTMLCollection)(e))&&Array.from(e).forEach(i);return e};var r=i(n(67375)),o=n(82384),a=n(2423),s=n(46322)},60277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extend=void 0;t.extend=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e?Object.assign.apply(Object,[e].concat(n)):{}}},21434:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.fileName=void 0;var r=i(n(67375)),o=n(39731);t.fileName=e=>{const t=(0,o.splitString)(e,"."),n=(0,r.default)(t,2);return{name:n[0],ext:n[1]}}},58271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileSize=t.bytesToMB=void 0;const n=["B","KB","MB","gB","tB"];t.fileSize=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0";const i=Math.floor(Math.log(e)/Math.log(1024)),r=e/1024**i,o=t?Math.round(r):r.toFixed(2),a=n[i];return o+a};t.bytesToMB=e=>e/1048576},37578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterObj=void 0;var i=n(28650);t.filterObj=(e,t)=>Object.keys(e).reduce(((n,r)=>((0,i.hasOwn)(e,r)&&t(e[r],r)&&(n[r]=e[r]),n)),{})},39715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return(0,r.isString)(t)?o(t.match(/([^[.\]])+/g)):(0,i.isArray)(t)?o(t):void 0;function o(t){return t.reduce(((e,t)=>{try{e=e[t]}catch(e){return n}return e}),e)}};var i=n(73422),r=n(21733)},28650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},35967:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.intersection=void 0;var r=i(n(55067));t.intersection=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return[];const o=(0,r.default)(Set,n);return e.filter((e=>o.has(e)))}},64249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDate=function(e){return e instanceof Date&&!isNaN(e)}},92560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var i=n(73422),r=n(98986),o=n(28008);t.isEmpty=e=>""===e||(0,r.isNull)(e)||(0,o.isUndefined)(e)||((0,i.isObject)(e)||(0,i.isArray)(e))&&0===Object.keys(e).length},55004:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}},2423:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLCollection=void 0;t.isHTMLCollection=e=>!!e&&"HTMLCollection"===e.constructor.name},82384:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeList=void 0;t.isNodeList=e=>!!e&&"NodeList"===e.constructor.name},98986:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNull=void 0;t.isNull=e=>null===e},79641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=function(e){return"number"==typeof e}},46322:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=void 0;t.isObject=e=>!!e&&"Object"===e.constructor.name},82138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRegExp=function(e){return e instanceof RegExp}},21733:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e}},28008:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=function(e){return void 0===e}},79257:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;t.last=e=>e.length?e[e.length-1]:void 0},82956:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.xhrPromised=t.xhr=t.createCancelablePromise=t.CancelError=void 0;var r=i(n(92664)),o=i(n(33119)),a=i(n(7819)),s=i(n(84827)),l=i(n(85299)),u=i(n(55536)),c=i(n(51398)),d=i(n(61125)),f=i(n(67375));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().split(/[\r\n]+/).reduce(((e,t)=>{const n=t.split(": "),i=(0,f.default)(n,2),r=i[0],o=i[1];return e[r]=o,e}),{})},h=(e,t,n,i)=>{const r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.keys(n.headers).forEach((e=>{r.setRequestHeader(e,n.headers[e])})),r.timeout=n.timeout,r.responseType=n.responseType,r.withCredentials=n.withCredentials,r.onload=()=>n.validateStatus(r.status)?i(null,{data:r.response,status:r.status,statusText:r.statusText,headers:g(r.getAllResponseHeaders())}):i({data:r.response,status:r.status,statusText:r.statusText}),r.onerror=e=>i({data:r.response,status:r.status,statusText:r.statusText}),r.upload.onprogress=n.onUpload,r.onprogress=n.onDownload,r.ontimeout=n.onTimeout||i,r.send(n.body),r};t.xhr=h;t.xhrPromised=(e,t,n)=>new Promise(((i,r)=>h(e,t,n,((e,t)=>e?r(e):i(t)))));let _=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e;(0,o.default)(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),(0,d.default)((0,a.default)(e),"name","CancelError"),(0,d.default)((0,a.default)(e),"message","Canceled"),e}return(0,r.default)(n)}((0,c.default)(Error));t.CancelError=_;t.createCancelablePromise=e=>{let t=!1;const n=new _;return{promise:new Promise(((i,r)=>{e.then((e=>t?r(n):i(e))).catch((e=>r(t?n:e)))})),cancel:()=>t=!0,isCanceled:t}}},42687:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.omit=void 0;var r=i(n(61125));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.omit=function(e){e=a({},e);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return null!=n&&n.length?(n.forEach((t=>delete e[t])),e):e}},38392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=void 0;var i=n(28008);t.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,i.isUndefined)(n)?{}:n.reduce(((t,n)=>(n in e&&(t[n]=e[n]),t)),{})}},80210:function(e,t,n){"use strict";var i=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAndJoinPair=a,t.querystring=void 0,t.splitAndDecodePair=s;var r=i(n(67375)),o=n(39731);function a(e){return e.map(encodeURIComponent).join("=")}function s(e){return e.split("=").map(decodeURIComponent)}function l(e){return function(e){if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");let t={};for(let i of e){var n=(0,r.default)(i,2);let e=n[0],o=n[1];t[e]=o}return t}(e.split("&").map(s))}const u={create:e=>e?function(e){return Object.entries(e).map(a).join("&")}(e):"",parse:e=>{if(e){const t=(0,o.splitString)(e,"?");return l((0,r.default)(t,2)[1])}}};t.querystring=u},53489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){if(!1===(0,i.isString)(e))throw new TypeError("Filename must be string.");const t=(0,r.fileName)(e),n=t.name,s=t.ext,l=n.replace(o,"").replace(a,"_");return(l.length?l:"Untitled")+"."+s};var i=n(21733),r=n(21434);const o=/[/?<>\\:*|"%#]/g,a=/\s+/g},75291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e,t,n){if((0,r.isString)(t))return a(t.match(/([^[.\]])+/g));if((0,i.isArray)(t))return a(t);function a(t){t.reduce(((e,t,i,r)=>((0,o.isUndefined)(e[t])&&(e[t]={}),i===r.length-1&&(e[t]=n),e[t])),e)}};var i=n(73422),r=n(21733),o=n(28008)},45950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortBy=void 0;var i=n(55004);t.sortBy=(e,t)=>{if(null==e||!e.length||!t)return[];const n=e=>(0,i.isFunction)(t)?t(e):e[t];return e.slice().sort(((e,t)=>n(e)>n(t)?1:n(t)>n(e)?-1:0))}},39731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitString=void 0;t.splitString=(e,t,n)=>{const i=e[n?"indexOf":"lastIndexOf"](t),r=e.substring(0,i);return[r,e.substring(i+(r?t.length:1))]}},38632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parentSS=t.parentLS=void 0;var i=n(22932),r=n(71047),o=n(21733),a=n(4623);const s=u(r.STORAGE_TYPE.LOCAL);t.parentLS=s;const l=u(r.STORAGE_TYPE.SESSION);function u(e,t){(0,a.tryCatch)((()=>e=(0,i.getPageWindow)()[e]));const n=e=>(0,a.tryCatch)(e,t);return{get(t){return n((()=>{const n=e.getItem(t);return JSON.parse(n)}))},set(t,i){return n((()=>{const n=(0,o.isString)(i)?i:JSON.stringify(i);return e.setItem(t,n),i}))},remove(t){return n((()=>e.removeItem(t)))},keys(){return n((()=>Object.keys(e)))},values(){return n((()=>Object.values(e).map(JSON.parse)))},all(){return n((()=>Object.assign({},e)))},clear(){return n((()=>e.clear()))},status(){return function(e){return(0,a.tryCatch)((()=>{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),r.STORAGE_STATUS.AVAILABLE}),(t=>{return t instanceof DOMException&&function(e){return e&&0!==e.length}(e)&&(22===(n=t).code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUATA_REACHED"===n.name)?r.STORAGE_STATUS.EXCEED:r.STORAGE_STATUS.UNAVAILABLE;var n}))}(e)}}}t.parentSS=l},4623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=function(e,t){try{return e()}catch(e){return(0,i.isFunction)(t)?t(e):t}};var i=n(55004)},76784:function(e,t,n){"use strict";t.G=void 0;var i=n(58345);t.G=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,i.unique)(e.concat.apply(e,n))}},15201:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.without=void 0;t.without=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(0===n.length)return e;const r=new Set(n);return e.filter((e=>!r.has(e)))}},94184:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},95299:function(e,t,n){var i=n(27698);e.exports=i},83450:function(e,t,n){var i=n(83363);e.exports=i},66820:function(e,t,n){var i=n(56243);e.exports=i},90093:function(e,t,n){var i=n(28196);e.exports=i},15684:function(e,t,n){var i=n(19373);e.exports=i},84234:function(e,t,n){var i=n(82073);e.exports=i},92182:function(e,t,n){var i=n(15868);e.exports=i},65362:function(e,t,n){var i=n(63383);e.exports=i},32271:function(e,t,n){var i=n(14471);e.exports=i},43536:function(e,t,n){var i=n(41910);e.exports=i},37331:function(e,t,n){var i=n(79427);e.exports=i},73151:function(e,t,n){var i=n(9534);e.exports=i},99565:function(e,t,n){var i=n(96507);e.exports=i},45012:function(e,t,n){var i=n(23059);e.exports=i},78690:function(e,t,n){var i=n(16670);e.exports=i},84670:function(e,t,n){var i=n(61895);e.exports=i},41285:function(e,t,n){var i=n(18254);e.exports=i},80281:function(e,t,n){var i=n(92547);e.exports=i},40031:function(e,t,n){var i=n(46509);e.exports=i},54493:function(e,t,n){n(77971),n(53242);var i=n(54058);e.exports=i.Array.from},24034:function(e,t,n){n(92737);var i=n(54058);e.exports=i.Array.isArray},8700:function(e,t,n){n(99076);var i=n(35703);e.exports=i("Array").indexOf},24900:function(e,t,n){n(60186);var i=n(35703);e.exports=i("Array").slice},27700:function(e,t,n){n(73381);var i=n(35703);e.exports=i("Function").bind},13830:function(e,t,n){n(66274),n(77971);var i=n(22902);e.exports=i},16246:function(e,t,n){var i=n(7046),r=n(27700),o=Function.prototype;e.exports=function(e){var t=e.bind;return e===o||i(o,e)&&t===o.bind?r:t}},34570:function(e,t,n){var i=n(7046),r=n(8700),o=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===o||i(o,e)&&t===o.indexOf?r:t}},69601:function(e,t,n){var i=n(7046),r=n(24900),o=Array.prototype;e.exports=function(e){var t=e.slice;return e===o||i(o,e)&&t===o.slice?r:t}},91018:function(e,t,n){n(66274),n(37501),n(55967),n(77971);var i=n(54058);e.exports=i.Map},45999:function(e,t,n){n(49221);var i=n(54058);e.exports=i.Object.assign},35254:function(e,t,n){n(53882);var i=n(54058).Object;e.exports=function(e,t){return i.create(e,t)}},48171:function(e,t,n){n(86450);var i=n(54058).Object,r=e.exports=function(e,t,n){return i.defineProperty(e,t,n)};i.defineProperty.sham&&(r.sham=!0)},286:function(e,t,n){n(46924);var i=n(54058).Object,r=e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)};i.getOwnPropertyDescriptor.sham&&(r.sham=!0)},30498:function(e,t,n){n(35824);var i=n(54058);e.exports=i.Object.getOwnPropertySymbols},13966:function(e,t,n){n(17405);var i=n(54058);e.exports=i.Object.getPrototypeOf},48494:function(e,t,n){n(21724);var i=n(54058);e.exports=i.Object.keys},3065:function(e,t,n){n(90108);var i=n(54058);e.exports=i.Object.setPrototypeOf},14983:function(e,t,n){n(7453);var i=n(54058);e.exports=i.Reflect.construct},37095:function(e,t,n){n(42355);var i=n(54058);e.exports=i.Reflect.get},57473:function(e,t,n){n(85906),n(55967),n(35824),n(8555),n(52615),n(21732),n(35903),n(1825),n(28394),n(45915),n(61766),n(62737),n(89911),n(74315),n(63131),n(64714),n(70659),n(69120),n(79413),n(1502);var i=n(54058);e.exports=i.Symbol},24227:function(e,t,n){n(66274),n(55967),n(77971),n(1825);var i=n(11477);e.exports=i.f("iterator")},27385:function(e,t,n){e.exports=n(64225)},81522:function(e,t,n){e.exports=n(30382)},32209:function(e,t,n){e.exports=n(40478)},14122:function(e,t,n){e.exports=n(89097)},69447:function(e,t,n){e.exports=n(628)},81493:function(e,t,n){e.exports=n(97088)},86672:function(e,t,n){e.exports=n(44574)},60269:function(e,t,n){e.exports=n(76936)},76094:function(e,t,n){e.exports=n(26467)},73685:function(e,t,n){e.exports=n(80621)},27533:function(e,t,n){e.exports=n(48403)},84710:function(e,t,n){e.exports=n(14058)},74303:function(e,t,n){e.exports=n(28688)},93799:function(e,t,n){e.exports=n(92093)},55122:function(e,t,n){e.exports=n(5383)},10856:function(e,t,n){e.exports=n(46733)},31524:function(e,t,n){e.exports=n(82432)},86600:function(e,t,n){e.exports=n(52201)},9759:function(e,t,n){e.exports=n(27398)},64225:function(e,t,n){var i=n(95299);e.exports=i},30382:function(e,t,n){var i=n(83450);e.exports=i},40478:function(e,t,n){var i=n(66820);e.exports=i},89097:function(e,t,n){var i=n(90093);e.exports=i},628:function(e,t,n){var i=n(15684);e.exports=i},97088:function(e,t,n){var i=n(84234);e.exports=i},44574:function(e,t,n){var i=n(92182);n(52453),n(32523),n(66591),n(55121),n(14751),n(52407),n(48580),n(27281),n(36507),n(93647),n(47641),n(18552),n(27693),n(8),n(48514),n(8212),n(89642),n(78485),n(42256),n(68826),e.exports=i},76936:function(e,t,n){var i=n(65362);e.exports=i},26467:function(e,t,n){var i=n(32271);e.exports=i},80621:function(e,t,n){var i=n(43536);e.exports=i},48403:function(e,t,n){var i=n(37331);e.exports=i},14058:function(e,t,n){var i=n(73151);e.exports=i},28688:function(e,t,n){var i=n(99565);e.exports=i},92093:function(e,t,n){var i=n(45012);e.exports=i},5383:function(e,t,n){var i=n(78690);e.exports=i},46733:function(e,t,n){var i=n(84670);e.exports=i},82432:function(e,t,n){var i=n(41285);e.exports=i},52201:function(e,t,n){var i=n(80281);n(28783),n(43975),n(65799),n(31943),n(46774),n(45414),n(80620),n(36172),e.exports=i},27398:function(e,t,n){var i=n(40031);e.exports=i},24883:function(e,t,n){var i=n(57475),r=n(69826),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a function")}},174:function(e,t,n){var i=n(24284),r=n(69826),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a constructor")}},11851:function(e,t,n){var i=n(57475),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+r(e)+" as a prototype")}},18479:function(e){e.exports=function(){}},5743:function(e,t,n){var i=n(7046),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},96059:function(e,t,n){var i=n(10941),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not an object")}},97135:function(e,t,n){var i=n(95981);e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},11354:function(e,t,n){"use strict";var i=n(86843),r=n(78834),o=n(89678),a=n(75196),s=n(6782),l=n(24284),u=n(10623),c=n(55449),d=n(53476),f=n(22902),p=Array;e.exports=function(e){var t=o(e),n=l(this),g=arguments.length,h=g>1?arguments[1]:void 0,_=void 0!==h;_&&(h=i(h,g>2?arguments[2]:void 0));var m,v,y,b,E,C,T=f(t),D=0;if(!T||this===p&&s(T))for(m=u(t),v=n?new this(m):p(m);m>D;D++)C=_?h(t[D],D):t[D],c(v,D,C);else for(E=(b=d(t,T)).next,v=n?new this:[];!(y=r(E,b)).done;D++)C=_?a(b,h,[y.value,D],!0):y.value,c(v,D,C);return v.length=D,v}},31692:function(e,t,n){var i=n(74529),r=n(59413),o=n(10623),a=function(e){return function(t,n,a){var s,l=i(t),u=o(l),c=r(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3610:function(e,t,n){var i=n(86843),r=n(95329),o=n(37026),a=n(89678),s=n(10623),l=n(64692),u=r([].push),c=function(e){var t=1==e,n=2==e,r=3==e,c=4==e,d=6==e,f=7==e,p=5==e||d;return function(g,h,_,m){for(var v,y,b=a(g),E=o(b),C=i(h,_),T=s(E),D=0,w=m||l,O=t?w(g,T):n||f?w(g,0):void 0;T>D;D++)if((p||D in E)&&(y=C(v=E[D],D,b),e))if(t)O[D]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return D;case 2:u(O,v)}else switch(e){case 4:return!1;case 7:u(O,v)}return d?-1:r||c?c:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},50568:function(e,t,n){var i=n(95981),r=n(99813),o=n(53385),a=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34194:function(e,t,n){"use strict";var i=n(95981);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},15790:function(e,t,n){var i=n(59413),r=n(10623),o=n(55449),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=r(e),u=i(t,l),c=i(void 0===n?l:n,l),d=a(s(c-u,0)),f=0;u<c;u++,f++)o(d,f,e[u]);return d.length=f,d}},93765:function(e,t,n){var i=n(95329);e.exports=i([].slice)},5693:function(e,t,n){var i=n(1052),r=n(24284),o=n(10941),a=n(99813)("species"),s=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===s||i(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},64692:function(e,t,n){var i=n(5693);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},75196:function(e,t,n){var i=n(96059),r=n(7609);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},21385:function(e,t,n){var i=n(99813)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},82532:function(e,t,n){var i=n(95329),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},9697:function(e,t,n){var i=n(22885),r=n(57475),o=n(82532),a=n(99813)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:l?o(t):"Object"==(i=o(t))&&r(t.callee)?"Arguments":i}},28984:function(e,t,n){"use strict";var i=n(78834),r=n(24883),o=n(96059);e.exports=function(){for(var e,t=o(this),n=r(t.delete),a=!0,s=0,l=arguments.length;s<l;s++)e=i(n,t,arguments[s]),a=a&&e;return!!a}},83590:function(e,t,n){"use strict";var i=n(86843),r=n(78834),o=n(24883),a=n(174),s=n(82119),l=n(93091),u=[].push;e.exports=function(e){var t,n,c,d,f=arguments.length,p=f>1?arguments[1]:void 0;return a(this),(t=void 0!==p)&&o(p),s(e)?new this:(n=[],t?(c=0,d=i(p,f>2?arguments[2]:void 0),l(e,(function(e){r(u,n,d(e,c++))}))):l(e,u,{that:n}),new this(n))}},45226:function(e,t,n){"use strict";var i=n(93765);e.exports=function(){return new this(i(arguments))}},85616:function(e,t,n){"use strict";var i=n(65988).f,r=n(29290),o=n(94380),a=n(86843),s=n(5743),l=n(82119),u=n(93091),c=n(75105),d=n(23538),f=n(94431),p=n(55746),g=n(21647).fastKey,h=n(45402),_=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,i){s(e,f),_(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),l(i)||u(i,e[c],{that:e,AS_ENTRIES:n})})),f=d.prototype,h=m(t),v=function(e,t,n){var i,r,o=h(e),a=y(e,t);return a?a.value=n:(o.last=a={index:r=g(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),p?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},y=function(e,t){var n,i=h(e),r=g(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return o(f,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=h(t),i=y(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),p?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=h(this),i=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(f,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&i(f,"size",{get:function(){return h(this).size}}),d},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),o=m(i);c(e,t,(function(e,t){_(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),f(t)}}},24683:function(e,t,n){"use strict";var i=n(76887),r=n(21899),o=n(21647),a=n(95981),s=n(32029),l=n(93091),u=n(5743),c=n(57475),d=n(10941),f=n(90904),p=n(65988).f,g=n(3610).forEach,h=n(55746),_=n(45402),m=_.set,v=_.getterFor;e.exports=function(e,t,n){var _,y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),E=y?"set":"add",C=r[e],T=C&&C.prototype,D={};if(h&&c(C)&&(b||T.forEach&&!a((function(){(new C).entries().next()})))){var w=(_=t((function(t,n){m(u(t,w),{type:e,collection:new C}),null!=n&&l(n,t[E],{that:t,AS_ENTRIES:y})}))).prototype,O=v(e);g(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in T)||b&&"clear"==e||s(w,e,(function(n,i){var r=O(this).collection;if(!t&&b&&!d(n))return"get"==e&&void 0;var o=r[e](0===n?0:n,i);return t?this:o}))})),b||p(w,"size",{configurable:!0,get:function(){return O(this).collection.size}})}else _=n.getConstructor(t,e,y,E),o.enable();return f(_,e,!1,!0),D[e]=_,i({global:!0,forced:!0},D),b||n.setStrong(_,e,y),_}},64160:function(e,t,n){var i=n(95981);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},23538:function(e){e.exports=function(e,t){return{value:e,done:t}}},32029:function(e,t,n){var i=n(55746),r=n(65988),o=n(31887);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},31887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},55449:function(e,t,n){"use strict";var i=n(83894),r=n(65988),o=n(31887);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,o(0,n)):e[a]=n}},95929:function(e,t,n){var i=n(32029);e.exports=function(e,t,n,r){return r&&r.enumerable?e[t]=n:i(e,t,n),e}},94380:function(e,t,n){var i=n(95929);e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:i(e,r,t[r],n);return e}},75609:function(e,t,n){var i=n(21899),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},55746:function(e,t,n){var i=n(95981);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},76616:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},61333:function(e,t,n){var i=n(21899),r=n(10941),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},66796:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},63281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2861:function(e,t,n){var i=n(626);e.exports=i("navigator","userAgent")||""},53385:function(e,t,n){var i,r,o=n(21899),a=n(2861),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},35703:function(e,t,n){var i=n(54058);e.exports=function(e){return i[e+"Prototype"]}},56759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},76887:function(e,t,n){"use strict";var i=n(21899),r=n(79730),o=n(97484),a=n(57475),s=n(49677).f,l=n(37252),u=n(54058),c=n(86843),d=n(32029),f=n(90953),p=function(e){var t=function(n,i,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,i)}return new e(n,i,o)}return r(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,r,g,h,_,m,v,y,b=e.target,E=e.global,C=e.stat,T=e.proto,D=E?i:C?i[b]:(i[b]||{}).prototype,w=E?u:u[b]||d(u,b,{})[b],O=w.prototype;for(g in t)n=!l(E?g:b+(C?".":"#")+g,e.forced)&&D&&f(D,g),_=w[g],n&&(m=e.dontCallGetSet?(y=s(D,g))&&y.value:D[g]),h=n&&m?m:t[g],n&&typeof _==typeof h||(v=e.bind&&n?c(h,i):e.wrap&&n?p(h):T&&a(h)?o(h):h,(e.sham||h&&h.sham||_&&_.sham)&&d(v,"sham",!0),d(w,g,v),T&&(f(u,r=b+"Prototype")||d(u,r,{}),d(u[r],g,h),e.real&&O&&!O[g]&&d(O,g,h)))}},95981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},45602:function(e,t,n){var i=n(95981);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},79730:function(e,t,n){var i=n(18285),r=Function.prototype,o=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},86843:function(e,t,n){var i=n(97484),r=n(24883),o=n(18285),a=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},18285:function(e,t,n){var i=n(95981);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},98308:function(e,t,n){"use strict";var i=n(95329),r=n(24883),o=n(10941),a=n(90953),s=n(93765),l=n(18285),u=Function,c=i([].concat),d=i([].join),f={},p=function(e,t,n){if(!a(f,t)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";f[t]=u("C,a","return new C("+d(i,",")+")")}return f[t](e,n)};e.exports=l?u.bind:function(e){var t=r(this),n=t.prototype,i=s(arguments,1),a=function(){var n=c(i,s(arguments));return this instanceof a?p(t,n.length,n):t.apply(e,n)};return o(n)&&(a.prototype=n),a}},78834:function(e,t,n){var i=n(18285),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},79417:function(e,t,n){var i=n(55746),r=n(90953),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!i||i&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},97484:function(e,t,n){var i=n(82532),r=n(95329);e.exports=function(e){if("Function"===i(e))return r(e)}},95329:function(e,t,n){var i=n(18285),r=Function.prototype,o=r.call,a=i&&r.bind.bind(o,o);e.exports=i?a:function(e){return function(){return o.apply(e,arguments)}}},626:function(e,t,n){var i=n(54058),r=n(21899),o=n(57475),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},22902:function(e,t,n){var i=n(9697),r=n(14229),o=n(82119),a=n(12077),s=n(99813)("iterator");e.exports=function(e){if(!o(e))return r(e,s)||r(e,"@@iterator")||a[i(e)]}},53476:function(e,t,n){var i=n(78834),r=n(24883),o=n(96059),a=n(69826),s=n(22902),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return o(i(n,e));throw l(a(e)+" is not iterable")}},79993:function(e,t,n){var i=n(53476);e.exports=i},14229:function(e,t,n){var i=n(24883),r=n(82119);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},21899:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},90953:function(e,t,n){var i=n(95329),r=n(89678),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},27748:function(e){e.exports={}},15463:function(e,t,n){var i=n(626);e.exports=i("document","documentElement")},2840:function(e,t,n){var i=n(55746),r=n(95981),o=n(61333);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},37026:function(e,t,n){var i=n(95329),r=n(95981),o=n(82532),a=Object,s=i("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},81302:function(e,t,n){var i=n(95329),r=n(57475),o=n(63030),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},21647:function(e,t,n){var i=n(76887),r=n(95329),o=n(27748),a=n(10941),s=n(90953),l=n(65988).f,u=n(10946),c=n(684),d=n(91584),f=n(99418),p=n(45602),g=!1,h=f("meta"),_=0,m=function(e){l(e,h,{value:{objectID:"O"+_++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},g=!0;var e=u.f,t=r([].splice),n={};n[h]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,o=i.length;r<o;r++)if(i[r]===h){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,h)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[h].objectID},getWeakData:function(e,t){if(!s(e,h)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[h].weakData},onFreeze:function(e){return p&&g&&d(e)&&!s(e,h)&&m(e),e}};o[h]=!0},45402:function(e,t,n){var i,r,o,a=n(47093),s=n(21899),l=n(10941),u=n(32029),c=n(90953),d=n(63030),f=n(44262),p=n(27748),g="Object already initialized",h=s.TypeError,_=s.WeakMap;if(a||d.state){var m=d.state||(d.state=new _);m.get=m.get,m.has=m.has,m.set=m.set,i=function(e,t){if(m.has(e))throw h(g);return t.facade=e,m.set(e,t),t},r=function(e){return m.get(e)||{}},o=function(e){return m.has(e)}}else{var v=f("state");p[v]=!0,i=function(e,t){if(c(e,v))throw h(g);return t.facade=e,u(e,v,t),t},r=function(e){return c(e,v)?e[v]:{}},o=function(e){return c(e,v)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}},6782:function(e,t,n){var i=n(99813),r=n(12077),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},1052:function(e,t,n){var i=n(82532);e.exports=Array.isArray||function(e){return"Array"==i(e)}},57475:function(e,t,n){var i=n(76616),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},24284:function(e,t,n){var i=n(95329),r=n(95981),o=n(57475),a=n(9697),s=n(626),l=n(81302),u=function(){},c=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=i(f.exec),g=!f.exec(u),h=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},_=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(f,l(e))}catch(e){return!0}};_.sham=!0,e.exports=!d||r((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?_:h},77040:function(e,t,n){var i=n(90953);e.exports=function(e){return void 0!==e&&(i(e,"value")||i(e,"writable"))}},37252:function(e,t,n){var i=n(95981),r=n(57475),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==c||n!=u&&(r(t)?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},82119:function(e){e.exports=function(e){return null==e}},10941:function(e,t,n){var i=n(57475),r=n(76616),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===o}:function(e){return"object"==typeof e?null!==e:i(e)}},82529:function(e){e.exports=!0},56664:function(e,t,n){var i=n(626),r=n(57475),o=n(7046),a=n(32302),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,s(e))}},93091:function(e,t,n){var i=n(86843),r=n(78834),o=n(96059),a=n(69826),s=n(6782),l=n(10623),u=n(7046),c=n(53476),d=n(22902),f=n(7609),p=TypeError,g=function(e,t){this.stopped=e,this.result=t},h=g.prototype;e.exports=function(e,t,n){var _,m,v,y,b,E,C,T=n&&n.that,D=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_RECORD),O=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),A=i(t,T),I=function(e){return _&&f(_,"normal",e),new g(!0,e)},k=function(e){return D?(o(e),S?A(e[0],e[1],I):A(e[0],e[1])):S?A(e,I):A(e)};if(w)_=e.iterator;else if(O)_=e;else{if(!(m=d(e)))throw p(a(e)+" is not iterable");if(s(m)){for(v=0,y=l(e);y>v;v++)if((b=k(e[v]))&&u(h,b))return b;return new g(!1)}_=c(e,m)}for(E=w?e.next:_.next;!(C=r(E,_)).done;){try{b=k(C.value)}catch(e){f(_,"throw",e)}if("object"==typeof b&&b&&u(h,b))return b}return new g(!1)}},7609:function(e,t,n){var i=n(78834),r=n(96059),o=n(14229);e.exports=function(e,t,n){var a,s;r(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=i(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return r(a),n}},53847:function(e,t,n){"use strict";var i=n(35143).IteratorPrototype,r=n(29290),o=n(31887),a=n(90904),s=n(12077),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=r(i,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},75105:function(e,t,n){"use strict";var i=n(76887),r=n(78834),o=n(82529),a=n(79417),s=n(57475),l=n(53847),u=n(249),c=n(88929),d=n(90904),f=n(32029),p=n(95929),g=n(99813),h=n(12077),_=n(35143),m=a.PROPER,v=a.CONFIGURABLE,y=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,E=g("iterator"),C="keys",T="values",D="entries",w=function(){return this};e.exports=function(e,t,n,a,g,_,O){l(n,t,a);var S,A,I,k=function(e){if(e===g&&N)return N;if(!b&&e in R)return R[e];switch(e){case C:case T:case D:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",P=!1,R=e.prototype,x=R[E]||R["@@iterator"]||g&&R[g],N=!b&&x||k(g),L="Array"==t&&R.entries||x;if(L&&(S=u(L.call(new e)))!==Object.prototype&&S.next&&(o||u(S)===y||(c?c(S,y):s(S[E])||p(S,E,w)),d(S,M,!0,!0),o&&(h[M]=w)),m&&g==T&&x&&x.name!==T&&(!o&&v?f(R,"name",T):(P=!0,N=function(){return r(x,this)})),g)if(A={values:k(T),keys:_?N:k(C),entries:k(D)},O)for(I in A)(b||P||!(I in R))&&p(R,I,A[I]);else i({target:t,proto:!0,forced:b||P},A);return o&&!O||R[E]===N||p(R,E,N,{name:g}),h[t]=N,A}},35143:function(e,t,n){"use strict";var i,r,o,a=n(95981),s=n(57475),l=n(10941),u=n(29290),c=n(249),d=n(95929),f=n(99813),p=n(82529),g=f("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(r=c(c(o)))!==Object.prototype&&(i=r):h=!0),!l(i)||a((function(){var e={};return i[g].call(e)!==e}))?i={}:p&&(i=u(i)),s(i[g])||d(i,g,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},12077:function(e){e.exports={}},10623:function(e,t,n){var i=n(43057);e.exports=function(e){return i(e.length)}},48721:function(e,t,n){"use strict";var i=n(78834),r=n(24883),o=n(96059);e.exports=function(e,t){var n,a,s=o(this),l=r(s.get),u=r(s.has),c=r(s.set);return i(u,s,e)?(n=i(l,s,e),"update"in t&&(n=t.update(n,e,s),i(c,s,e,n)),n):(a=t.insert(e,s),i(c,s,e,a),a)}},20716:function(e,t,n){"use strict";var i=n(78834),r=n(24883),o=n(57475),a=n(96059),s=TypeError;e.exports=function(e,t){var n,l=a(this),u=r(l.get),c=r(l.has),d=r(l.set),f=arguments.length>2?arguments[2]:void 0;if(!o(t)&&!o(f))throw s("At least one callback required");return i(c,l,e)?(n=i(u,l,e),o(t)&&(n=t(n),i(d,l,e,n))):o(f)&&(n=f(),i(d,l,e,n)),n}},35331:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},24420:function(e,t,n){"use strict";var i=n(55746),r=n(95329),o=n(78834),a=n(95981),s=n(14771),l=n(87857),u=n(36760),c=n(89678),d=n(37026),f=Object.assign,p=Object.defineProperty,g=r([].concat);e.exports=!f||a((function(){if(i&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=r}))?function(e,t){for(var n=c(e),r=arguments.length,a=1,f=l.f,p=u.f;r>a;)for(var h,_=d(arguments[a++]),m=f?g(s(_),f(_)):s(_),v=m.length,y=0;v>y;)h=m[y++],i&&!o(p,_,h)||(n[h]=_[h]);return n}:f},29290:function(e,t,n){var i,r=n(96059),o=n(59938),a=n(56759),s=n(27748),l=n(15463),u=n(61333),c=n(44262),d=c("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"</"+"script>"},g=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&i?g(i):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):g(i);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=r(e),n=new f,f.prototype=null,n[d]=e):n=h(),void 0===t?n:o.f(n,t)}},59938:function(e,t,n){var i=n(55746),r=n(83937),o=n(65988),a=n(96059),s=n(74529),l=n(14771);t.f=i&&!r?Object.defineProperties:function(e,t){a(e);for(var n,i=s(t),r=l(t),u=r.length,c=0;u>c;)o.f(e,n=r[c++],i[n]);return e}},65988:function(e,t,n){var i=n(55746),r=n(2840),o=n(83937),a=n(96059),s=n(83894),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=i?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var i=c(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:i.configurable,enumerable:d in n?n.enumerable:i.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},49677:function(e,t,n){var i=n(55746),r=n(78834),o=n(36760),a=n(31887),s=n(74529),l=n(83894),u=n(90953),c=n(2840),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!r(o.f,e,t),e[t])}},684:function(e,t,n){var i=n(82532),r=n(74529),o=n(10946).f,a=n(15790),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==i(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(r(e))}},10946:function(e,t,n){var i=n(55629),r=n(56759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},87857:function(e,t){t.f=Object.getOwnPropertySymbols},249:function(e,t,n){var i=n(90953),r=n(57475),o=n(89678),a=n(44262),s=n(64160),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},91584:function(e,t,n){var i=n(95981),r=n(10941),o=n(82532),a=n(97135),s=Object.isExtensible,l=i((function(){s(1)}));e.exports=l||a?function(e){return!!r(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},7046:function(e,t,n){var i=n(95329);e.exports=i({}.isPrototypeOf)},55629:function(e,t,n){var i=n(95329),r=n(90953),o=n(74529),a=n(31692).indexOf,s=n(27748),l=i([].push);e.exports=function(e,t){var n,i=o(e),u=0,c=[];for(n in i)!r(s,n)&&r(i,n)&&l(c,n);for(;t.length>u;)r(i,n=t[u++])&&(~a(c,n)||l(c,n));return c}},14771:function(e,t,n){var i=n(55629),r=n(56759);e.exports=Object.keys||function(e){return i(e,r)}},36760:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},88929:function(e,t,n){var i=n(95329),r=n(96059),o=n(11851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},95623:function(e,t,n){"use strict";var i=n(22885),r=n(9697);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},39811:function(e,t,n){var i=n(78834),r=n(57475),o=n(10941),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!o(s=i(n,e)))return s;if(r(n=e.valueOf)&&!o(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!o(s=i(n,e)))return s;throw a("Can't convert object to primitive value")}},54058:function(e){e.exports={}},48219:function(e,t,n){var i=n(82119),r=TypeError;e.exports=function(e){if(i(e))throw r("Can't call method on "+e);return e}},57309:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},94431:function(e,t,n){"use strict";var i=n(626),r=n(65988),o=n(99813),a=n(55746),s=o("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},90904:function(e,t,n){var i=n(22885),r=n(65988).f,o=n(32029),a=n(90953),s=n(95623),l=n(99813)("toStringTag");e.exports=function(e,t,n,u){if(e){var c=n?e:e.prototype;a(c,l)||r(c,l,{configurable:!0,value:t}),u&&!i&&o(c,"toString",s)}}},44262:function(e,t,n){var i=n(68726),r=n(99418),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},63030:function(e,t,n){var i=n(21899),r=n(75609),o="__core-js_shared__",a=i[o]||r(o,{});e.exports=a},68726:function(e,t,n){var i=n(82529),r=n(63030);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:i?"pure":"global",copyright:"¬© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},70487:function(e,t,n){var i=n(96059),r=n(174),o=n(82119),a=n(99813)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||o(n=i(s)[a])?t:r(n)}},64620:function(e,t,n){var i=n(95329),r=n(62435),o=n(85803),a=n(48219),s=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(e){return function(t,n){var i,c,d=o(a(t)),f=r(n),p=d.length;return f<0||f>=p?e?"":void 0:(i=l(d,f))<55296||i>56319||f+1===p||(c=l(d,f+1))<56320||c>57343?e?s(d,f):i:e?u(d,f,f+2):c-56320+(i-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},63405:function(e,t,n){var i=n(53385),r=n(95981);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},29630:function(e,t,n){var i=n(78834),r=n(626),o=n(99813),a=n(95929);e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return i(n,this)}),{arity:1})}},34680:function(e,t,n){var i=n(63405);e.exports=i&&!!Symbol.for&&!!Symbol.keyFor},59413:function(e,t,n){var i=n(62435),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},74529:function(e,t,n){var i=n(37026),r=n(48219);e.exports=function(e){return i(r(e))}},62435:function(e,t,n){var i=n(35331);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},43057:function(e,t,n){var i=n(62435),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},89678:function(e,t,n){var i=n(48219),r=Object;e.exports=function(e){return r(i(e))}},46935:function(e,t,n){var i=n(78834),r=n(10941),o=n(56664),a=n(14229),s=n(39811),l=n(99813),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},83894:function(e,t,n){var i=n(46935),r=n(56664);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},22885:function(e,t,n){var i={};i[n(99813)("toStringTag")]="z",e.exports="[object z]"===String(i)},85803:function(e,t,n){var i=n(9697),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},69826:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},99418:function(e,t,n){var i=n(95329),r=0,o=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+o,36)}},32302:function(e,t,n){var i=n(63405);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},83937:function(e,t,n){var i=n(55746),r=n(95981);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},47093:function(e,t,n){var i=n(21899),r=n(57475),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},73464:function(e,t,n){var i=n(54058),r=n(90953),o=n(11477),a=n(65988).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||a(t,e,{value:o.f(e)})}},11477:function(e,t,n){var i=n(99813);t.f=i},99813:function(e,t,n){var i=n(21899),r=n(68726),o=n(90953),a=n(99418),s=n(63405),l=n(32302),u=r("wks"),c=i.Symbol,d=c&&c.for,f=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):f(t)}return u[e]}},85906:function(e,t,n){"use strict";var i=n(76887),r=n(95981),o=n(1052),a=n(10941),s=n(89678),l=n(10623),u=n(66796),c=n(55449),d=n(64692),f=n(50568),p=n(99813),g=n(53385),h=p("isConcatSpreadable"),_=g>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),m=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)};i({target:"Array",proto:!0,arity:1,forced:!_||!m},{concat:function(e){var t,n,i,r,o,a=s(this),f=d(a,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(v(o=-1===t?a:arguments[t]))for(r=l(o),u(p+r),n=0;n<r;n++,p++)n in o&&c(f,p,o[n]);else u(p+1),c(f,p++,o);return f.length=p,f}})},53242:function(e,t,n){var i=n(76887),r=n(11354);i({target:"Array",stat:!0,forced:!n(21385)((function(e){Array.from(e)}))},{from:r})},99076:function(e,t,n){"use strict";var i=n(76887),r=n(97484),o=n(31692).indexOf,a=n(34194),s=r([].indexOf),l=!!s&&1/s([1],1,-0)<0,u=a("indexOf");i({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},92737:function(e,t,n){n(76887)({target:"Array",stat:!0},{isArray:n(1052)})},66274:function(e,t,n){"use strict";var i=n(74529),r=n(18479),o=n(12077),a=n(45402),s=n(65988).f,l=n(75105),u=n(23538),c=n(82529),d=n(55746),f="Array Iterator",p=a.set,g=a.getterFor(f);e.exports=l(Array,"Array",(function(e,t){p(this,{type:f,target:i(e),index:0,kind:t})}),(function(){var e=g(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values");var h=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&d&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},60186:function(e,t,n){"use strict";var i=n(76887),r=n(1052),o=n(24284),a=n(10941),s=n(59413),l=n(10623),u=n(74529),c=n(55449),d=n(99813),f=n(50568),p=n(93765),g=f("slice"),h=d("species"),_=Array,m=Math.max;i({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var n,i,d,f=u(this),g=l(f),v=s(e,g),y=s(void 0===t?g:t,g);if(r(f)&&(n=f.constructor,(o(n)&&(n===_||r(n.prototype))||a(n)&&null===(n=n[h]))&&(n=void 0),n===_||void 0===n))return p(f,v,y);for(i=new(void 0===n?_:n)(m(y-v,0)),d=0;v<y;v++,d++)v in f&&c(i,d,f[v]);return i.length=d,i}})},73381:function(e,t,n){var i=n(76887),r=n(98308);i({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},32619:function(e,t,n){var i=n(76887),r=n(626),o=n(79730),a=n(78834),s=n(95329),l=n(95981),u=n(1052),c=n(57475),d=n(10941),f=n(56664),p=n(93765),g=n(63405),h=r("JSON","stringify"),_=s(/./.exec),m=s("".charAt),v=s("".charCodeAt),y=s("".replace),b=s(1..toString),E=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,T=/^[\uDC00-\uDFFF]$/,D=!g||l((function(){var e=r("Symbol")();return"[null]"!=h([e])||"{}"!=h({a:e})||"{}"!=h(Object(e))})),w=l((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),O=function(e,t){var n=p(arguments),i=t;if((d(t)||void 0!==e)&&!f(e))return u(t)||(t=function(e,t){if(c(i)&&(t=a(i,this,e,t)),!f(t))return t}),n[1]=t,o(h,null,n)},S=function(e,t,n){var i=m(n,t-1),r=m(n,t+1);return _(C,e)&&!_(T,r)||_(T,e)&&!_(C,i)?"\\u"+b(v(e,0),16):e};h&&i({target:"JSON",stat:!0,arity:3,forced:D||w},{stringify:function(e,t,n){var i=p(arguments),r=o(D?O:h,null,i);return w&&"string"==typeof r?y(r,E,S):r}})},69120:function(e,t,n){var i=n(21899);n(90904)(i.JSON,"JSON",!0)},23112:function(e,t,n){"use strict";n(24683)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(85616))},37501:function(e,t,n){n(23112)},79413:function(){},49221:function(e,t,n){var i=n(76887),r=n(24420);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},53882:function(e,t,n){n(76887)({target:"Object",stat:!0,sham:!n(55746)},{create:n(29290)})},86450:function(e,t,n){var i=n(76887),r=n(55746),o=n(65988).f;i({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!r},{defineProperty:o})},46924:function(e,t,n){var i=n(76887),r=n(95981),o=n(74529),a=n(49677).f,s=n(55746),l=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},37144:function(e,t,n){var i=n(76887),r=n(63405),o=n(95981),a=n(87857),s=n(89678);i({target:"Object",stat:!0,forced:!r||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},17405:function(e,t,n){var i=n(76887),r=n(95981),o=n(89678),a=n(249),s=n(64160);i({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},21724:function(e,t,n){var i=n(76887),r=n(89678),o=n(14771);i({target:"Object",stat:!0,forced:n(95981)((function(){o(1)}))},{keys:function(e){return o(r(e))}})},90108:function(e,t,n){n(76887)({target:"Object",stat:!0},{setPrototypeOf:n(88929)})},55967:function(){},7453:function(e,t,n){var i=n(76887),r=n(626),o=n(79730),a=n(98308),s=n(174),l=n(96059),u=n(10941),c=n(29290),d=n(95981),f=r("Reflect","construct"),p=Object.prototype,g=[].push,h=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),_=!d((function(){f((function(){}))})),m=h||_;i({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(_&&!h)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return o(g,i,t),new(o(a,e,i))}var r=n.prototype,d=c(u(r)?r:p),m=o(e,d,t);return u(m)?m:d}})},42355:function(e,t,n){var i=n(76887),r=n(78834),o=n(10941),a=n(96059),s=n(77040),l=n(49677),u=n(249);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,c,d=arguments.length<3?t:arguments[2];return a(t)===d?t[n]:(i=l.f(t,n))?s(i)?i.value:void 0===i.get?void 0:r(i.get,d):o(c=u(t))?e(c,n,d):void 0}})},1502:function(){},77971:function(e,t,n){"use strict";var i=n(64620).charAt,r=n(85803),o=n(45402),a=n(75105),s=n(23538),l="String Iterator",u=o.set,c=o.getterFor(l);a(String,"String",(function(e){u(this,{type:l,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?s(void 0,!0):(e=i(n,r),t.index+=e.length,s(e,!1))}))},8555:function(e,t,n){n(73464)("asyncIterator")},48616:function(e,t,n){"use strict";var i=n(76887),r=n(21899),o=n(78834),a=n(95329),s=n(82529),l=n(55746),u=n(63405),c=n(95981),d=n(90953),f=n(7046),p=n(96059),g=n(74529),h=n(83894),_=n(85803),m=n(31887),v=n(29290),y=n(14771),b=n(10946),E=n(684),C=n(87857),T=n(49677),D=n(65988),w=n(59938),O=n(36760),S=n(95929),A=n(68726),I=n(44262),k=n(27748),M=n(99418),P=n(99813),R=n(11477),x=n(73464),N=n(29630),L=n(90904),F=n(45402),j=n(3610).forEach,B=I("hidden"),W="Symbol",U=F.set,H=F.getterFor(W),z=Object.prototype,G=r.Symbol,V=G&&G.prototype,$=r.TypeError,q=r.QObject,Z=T.f,K=D.f,Y=E.f,J=O.f,X=a([].push),Q=A("symbols"),ee=A("op-symbols"),te=A("wks"),ne=!q||!q.prototype||!q.prototype.findChild,ie=l&&c((function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=Z(z,t);i&&delete z[t],K(e,t,n),i&&e!==z&&K(z,t,i)}:K,re=function(e,t){var n=Q[e]=v(V);return U(n,{type:W,tag:e,description:t}),l||(n.description=t),n},oe=function(e,t,n){e===z&&oe(ee,t,n),p(e);var i=h(t);return p(n),d(Q,i)?(n.enumerable?(d(e,B)&&e[B][i]&&(e[B][i]=!1),n=v(n,{enumerable:m(0,!1)})):(d(e,B)||K(e,B,m(1,{})),e[B][i]=!0),ie(e,i,n)):K(e,i,n)},ae=function(e,t){p(e);var n=g(t),i=y(n).concat(ce(n));return j(i,(function(t){l&&!o(se,n,t)||oe(e,t,n[t])})),e},se=function(e){var t=h(e),n=o(J,this,t);return!(this===z&&d(Q,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d(Q,t)||d(this,B)&&this[B][t])||n)},le=function(e,t){var n=g(e),i=h(t);if(n!==z||!d(Q,i)||d(ee,i)){var r=Z(n,i);return!r||!d(Q,i)||d(n,B)&&n[B][i]||(r.enumerable=!0),r}},ue=function(e){var t=Y(g(e)),n=[];return j(t,(function(e){d(Q,e)||d(k,e)||X(n,e)})),n},ce=function(e){var t=e===z,n=Y(t?ee:g(e)),i=[];return j(n,(function(e){!d(Q,e)||t&&!d(z,e)||X(i,Q[e])})),i};u||(G=function(){if(f(V,this))throw $("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,t=M(e),n=function(e){this===z&&o(n,ee,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),ie(this,t,m(1,e))};return l&&ne&&ie(z,t,{configurable:!0,set:n}),re(t,e)},S(V=G.prototype,"toString",(function(){return H(this).tag})),S(G,"withoutSetter",(function(e){return re(M(e),e)})),O.f=se,D.f=oe,w.f=ae,T.f=le,b.f=E.f=ue,C.f=ce,R.f=function(e){return re(P(e),e)},l&&(K(V,"description",{configurable:!0,get:function(){return H(this).description}}),s||S(z,"propertyIsEnumerable",se,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),j(y(te),(function(e){x(e)})),i({target:W,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?v(e):ae(v(e),t)},defineProperty:oe,defineProperties:ae,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),N(),L(G,W),k[B]=!0},52615:function(){},64523:function(e,t,n){var i=n(76887),r=n(626),o=n(90953),a=n(85803),s=n(68726),l=n(34680),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=r("Symbol")(t);return u[t]=n,c[n]=t,n}})},21732:function(e,t,n){n(73464)("hasInstance")},35903:function(e,t,n){n(73464)("isConcatSpreadable")},1825:function(e,t,n){n(73464)("iterator")},35824:function(e,t,n){n(48616),n(64523),n(38608),n(32619),n(37144)},38608:function(e,t,n){var i=n(76887),r=n(90953),o=n(56664),a=n(69826),s=n(68726),l=n(34680),u=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(r(u,e))return u[e]}})},45915:function(e,t,n){n(73464)("matchAll")},28394:function(e,t,n){n(73464)("match")},61766:function(e,t,n){n(73464)("replace")},62737:function(e,t,n){n(73464)("search")},89911:function(e,t,n){n(73464)("species")},74315:function(e,t,n){n(73464)("split")},63131:function(e,t,n){var i=n(73464),r=n(29630);i("toPrimitive"),r()},64714:function(e,t,n){var i=n(626),r=n(73464),o=n(90904);r("toStringTag"),o(i("Symbol"),"Symbol")},70659:function(e,t,n){n(73464)("unscopables")},66591:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:n(28984)})},55121:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,forced:!0},{emplace:n(48721)})},14751:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(86843),a=n(79993),s=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return!s(n,(function(e,n,r){if(!i(n,e,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},52407:function(e,t,n){"use strict";var i=n(76887),r=n(626),o=n(86843),a=n(78834),s=n(24883),l=n(96059),u=n(70487),c=n(79993),d=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=l(this),n=c(t),i=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,r("Map"))),p=s(f.set);return d(n,(function(e,n){i(n,e,t)&&a(p,f,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},27281:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(86843),a=n(79993),s=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,r){if(i(n,e,t))return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},48580:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(86843),a=n(79993),s=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,r){if(i(n,e,t))return r(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},52453:function(e,t,n){n(76887)({target:"Map",stat:!0,forced:!0},{from:n(83590)})},36507:function(e,t,n){"use strict";var i=n(76887),r=n(78834),o=n(95329),a=n(24883),s=n(53476),l=n(93091),u=o([].push);i({target:"Map",stat:!0,forced:!0},{groupBy:function(e,t){a(t);var n=s(e),i=new this,o=a(i.has),c=a(i.get),d=a(i.set);return l(n,(function(e){var n=t(e);r(o,i,n)?u(r(c,i,n),e):r(d,i,n,[e])}),{IS_ITERATOR:!0}),i}})},93647:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(79993),a=n(57309),s=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return s(o(r(this)),(function(t,n,i){if(a(n,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},47641:function(e,t,n){"use strict";var i=n(76887),r=n(78834),o=n(93091),a=n(24883);i({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var n=new this;a(t);var i=a(n.set);return o(e,(function(e){r(i,n,t(e),e)})),n}})},18552:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(79993),a=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return a(o(r(this)),(function(t,n,i){if(n===e)return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},27693:function(e,t,n){"use strict";var i=n(76887),r=n(626),o=n(86843),a=n(78834),s=n(24883),l=n(96059),u=n(70487),c=n(79993),d=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=l(this),n=c(t),i=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,r("Map"))),p=s(f.set);return d(n,(function(e,n){a(p,f,i(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},8:function(e,t,n){"use strict";var i=n(76887),r=n(626),o=n(86843),a=n(78834),s=n(24883),l=n(96059),u=n(70487),c=n(79993),d=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=l(this),n=c(t),i=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,r("Map"))),p=s(f.set);return d(n,(function(e,n){a(p,f,e,i(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},48514:function(e,t,n){"use strict";var i=n(76887),r=n(24883),o=n(96059),a=n(93091);i({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=o(this),n=r(t.set),i=arguments.length,s=0;s<i;)a(arguments[s++],n,{that:t,AS_ENTRIES:!0});return t}})},32523:function(e,t,n){n(76887)({target:"Map",stat:!0,forced:!0},{of:n(45226)})},8212:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(24883),a=n(79993),s=n(93091),l=TypeError;i({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=r(this),n=a(t),i=arguments.length<2,u=i?void 0:arguments[1];if(o(e),s(n,(function(n,r){i?(i=!1,u=r):u=e(u,r,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw l("Reduce of empty map with no initial value");return u}})},89642:function(e,t,n){"use strict";var i=n(76887),r=n(96059),o=n(86843),a=n(79993),s=n(93091);i({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,r){if(i(n,e,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},68826:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:n(20716)})},78485:function(e,t,n){"use strict";var i=n(76887),r=n(78834),o=n(96059),a=n(24883),s=TypeError;i({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=o(this),i=a(n.get),l=a(n.has),u=a(n.set),c=arguments.length;a(t);var d=r(l,n,e);if(!d&&c<3)throw s("Updating absent value");var f=d?r(i,n,e):a(c>2?arguments[2]:void 0)(e,n);return r(u,n,e,t(f,e,n)),n}})},42256:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:n(20716)})},28783:function(e,t,n){n(73464)("asyncDispose")},43975:function(e,t,n){n(73464)("dispose")},65799:function(e,t,n){n(73464)("matcher")},31943:function(e,t,n){n(73464)("metadataKey")},45414:function(e,t,n){n(73464)("metadata")},46774:function(e,t,n){n(73464)("observable")},80620:function(e,t,n){n(73464)("patternMatch")},36172:function(e,t,n){n(73464)("replaceAll")},7634:function(e,t,n){n(66274);var i=n(63281),r=n(21899),o=n(9697),a=n(32029),s=n(12077),l=n(99813)("toStringTag");for(var u in i){var c=r[u],d=c&&c.prototype;d&&o(d)!==l&&a(d,l,u),s[u]=s.Array}},27698:function(e,t,n){var i=n(54493);e.exports=i},83363:function(e,t,n){var i=n(24034);e.exports=i},56243:function(e,t,n){var i=n(13830);n(7634),e.exports=i},28196:function(e,t,n){var i=n(16246);e.exports=i},19373:function(e,t,n){var i=n(34570);e.exports=i},82073:function(e,t,n){var i=n(69601);e.exports=i},15868:function(e,t,n){var i=n(91018);n(7634),e.exports=i},63383:function(e,t,n){var i=n(45999);e.exports=i},14471:function(e,t,n){var i=n(35254);e.exports=i},41910:function(e,t,n){var i=n(48171);e.exports=i},79427:function(e,t,n){var i=n(286);e.exports=i},9534:function(e,t,n){var i=n(30498);e.exports=i},96507:function(e,t,n){var i=n(13966);e.exports=i},23059:function(e,t,n){var i=n(48494);e.exports=i},16670:function(e,t,n){var i=n(3065);e.exports=i},61895:function(e,t,n){var i=n(14983);e.exports=i},18254:function(e,t,n){var i=n(37095);e.exports=i},92547:function(e,t,n){var i=n(57473);n(7634),e.exports=i},46509:function(e,t,n){var i=n(24227);n(7634),e.exports=i},53879:function(e,t,n){var i=n(87236),r=n(6189),o={float:"cssFloat"},a=n(93379);function s(e,t,n){var s=o[t];if(void 0===s&&(s=function(e){var t=r(e),n=i(t);return o[t]=o[e]=o[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=a(s,n)}}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function u(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=u,e.exports.set=u,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},89766:function(e,t,n){var i={EventEmitter:n(47333),EmitterSubscription:n(86584)};e.exports=i},47333:function(e,t,n){"use strict";var i=n(86584),r=n(68231),o=n(73759),a=n(60139),s=function(){function e(){this._subscriber=new r,this._currentSubscription=null}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new i(this._subscriber,t,n))},t.once=function(e,t,n){var i=this;return this.addListener(e,(function(){i.removeCurrentListener(),t.apply(n,arguments)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){this._currentSubscription||o(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(a.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],o=t[r];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=s},86584:function(e,t,n){"use strict";var i=function(e){var t,n;function i(t,n,i){var r;return(r=e.call(this,t)||this).listener=n,r.context=i,r}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n(27024));e.exports=i},27024:function(e){"use strict";var t=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},68231:function(e,t,n){"use strict";var i=n(73759),r=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber!==this&&i(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,i=this._subscriptionsForType[t];i&&delete i[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=r},60139:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},73759:function(e){"use strict";var t=function(e){};e.exports=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];if(t(n),!e){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(n.replace(/%s/g,(function(){return String(r[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},8679:function(e,t,n){"use strict";var i=n(21296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(g){var r=p(n);r&&r!==g&&e(t,r,i)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),h=l(n),_=0;_<a.length;++_){var m=a[_];if(!(o[m]||i&&i[m]||h&&h[m]||s&&s[m])){var v=f(n,m);try{u(t,m,v)}catch(e){}}}}return t}},96103:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case _:case h:case l:return e;default:return t}}case r:return t}}}function C(e){return E(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=_,t.Memo=h,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||E(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===_},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===r},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},t.typeOf=E},21296:function(e,t,n){"use strict";e.exports=n(96103)},68337:function(e,t,n){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function r(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===r(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,n){var i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|—Ä—Ñ".split("|");function c(e){var t=e.re=n(36066)(e.__opts__),i=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===r(n))return!function(e){return"[object RegExp]"===r(e)}(n.validate)?o(n.validate)?i.validate=n.validate:u(t,n):i.validate=function(e){return function(t,n){var i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}(n.validate),void(o(n.normalize)?i.normalize=n.normalize:n.normalize?u(t,n):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===r(e)}(n)?u(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var c=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><ÔΩú]|"+t.src_ZPCc+"))("+c+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><ÔΩú]|"+t.src_ZPCc+"))("+c+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=r,this.text=r,this.url=r}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=i({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},l,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},c(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,c(this),this},p.prototype.set=function(e){return this.__opts__=i(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,i,r,o,a,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(r=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var i=t?e.slice(t):e;this.test(i);)n.push(f(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,f(this,0)):null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),c(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,c(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},36066:function(e,t,n){"use strict";e.exports=function(e){var t={};e=e||{},t.src_Any=n(29369).source,t.src_Cc=n(99413).source,t.src_Z=n(35045).source,t.src_P=n(73189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><ÔΩú]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><ÔΩú]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><ÔΩú]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><ÔΩú]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ÔΩú]|"+t.src_ZPCc+"))((?![$+<=>^`|ÔΩú])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ÔΩú]|"+t.src_ZPCc+"))((?![$+<=>^`|ÔΩú])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},72953:function(e,t,n){"use strict";n.r(t),t.default={container:"container__vcYLl",inputWrap:"inputWrap__nTGKP",countryMobileWrap:"countryMobileWrap__U0VOV",iconSelect:"iconSelect__QnHYD",__alone:"__alone__Pglbn",flagIcon:"flagIcon__VtsFm",flagWrap:"flagWrap__Y96d9",list:"list__FyquU",flagArrow:"flagArrow__arGXk",phoneCodeWrap:"phoneCodeWrap__UT88F",phoneInput:"phoneInput__WuOPH",countryWrap:"countryWrap__eAj5O",countrySelect:"countrySelect__hgJtZ",countryTabletSelect:"countryTabletSelect__L7mVz",rail:"rail__pMpws",_isScroll:"_isScroll__UQYo2",listItem:"listItem__LBpCC",countryName:"countryName__CVYoe",countryCode:"countryCode__ivjUi",__singleMod:"__singleMod__DcbBX",__error:"__error__X77EW",__focused:"__focused__jBPeg",_grey:"_grey__I3ACV",_blue:"_blue__fMoji",__mobile:"__mobile__Yupiy",__inFormMod:"__inFormMod__Ki7UG",__smallTextSize:"__smallTextSize__KUNZV"}},90146:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__PlnMz",popup:"popup__RxQJv",_show:"_show__j0Pf6",_powerBtn:"_powerBtn__Vbml_",_powerBtnPositionLeft:"_powerBtnPositionLeft__jOuGr",button:"button__ymWIG",iconWrap:"iconWrap__ZD7MG",animationBtn:"animationBtn__ZlpvR",logoCallback:"logoCallback__zKZlA"}},13279:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__KikOU",popup:"popup__vBTlT",hand:"hand__uwJd9",closeIcon:"closeIcon__yA0Cr",contentWrap:"contentWrap__qSVr7",title:"title__bQCC7",subtitle:"subtitle__oot0D",delayedWrap:"delayedWrap__HM56l",periodsWrap:"periodsWrap__UgBLM",periodSelectWrap:"periodSelectWrap__FXiPC",input:"input__Go8ty",time:"time__drQJB",eula:"eula__OlY0t",eulaText:"eulaText__NkeQX"}},35595:function(e,t,n){"use strict";n.r(t),t.default={checkbox:"checkbox__YOKp3",_checked:"_checked__uNSNJ",_error:"_error__UvF8C"}},5243:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__YoZXD",__call:"__call__F1pPG",__show:"__show__wJJmr",closeButton:"closeButton__iqwfY",closeIcon:"closeIcon__PZg2S"}},30123:function(e,t,n){"use strict";n.r(t),t.default={avatar:"avatar__fF8ua",_chatStyle:"_chatStyle__eDwLe",avatarItem:"avatarItem__src_W",avatarListImg:"avatarListImg__v9bSZ",avatarImg:"avatarImg__Gjiw3",lightAvatar:"lightAvatar__O4YtV",darkAvatar:"darkAvatar__UiS6m",_width1:"_width1__l3Lsb",_width2:"_width2__Qc4FU",_width3:"_width3__BQv5j",_connected:"_connected__WebZv",_expanded:"_expanded__RNXrl",_mobile:"_mobile__CsDEA",_tablet:"_tablet__nuzAN",__isBot:"__isBot__EUbBn",onlineBadge:"onlineBadge__btBbk",avatarList:"avatarList__BGiaV",dotsItem:"dotsItem__WV82w",_light:"_light__rJZEF",_dark:"_dark__gmmzC",botIcon:"botIcon__VpPE6",__header:"__header__pkYVX",img:"img__D4P8m"}},2903:function(e,t,n){"use strict";n.r(t),t.default={filled:"filled__BP6ow",__green:"__green__e8z46",__blue:"__blue__eJlXV",__grey:"__grey__2bWbY",light:"light__bg_8_",outline:"outline__mv4t7",subtle:"subtle__iE322",white:"white__Cmncc",__xsSize:"__xsSize__NYgHq",__compact:"__compact__LdoYb",__smSize:"__smSize__pjQ7G",__mdSize:"__mdSize__CbFPg",__lgSize:"__lgSize__R5Ssd",__xlSize:"__xlSize__XRGtE",__xsRadius:"__xsRadius__mfHzn",__smRadius:"__smRadius__nttyR",__mdRadius:"__mdRadius__UK0zV",__lgRadius:"__lgRadius__r67FS",__xlRadius:"__xlRadius__tv4v2",__uppercase:"__uppercase__xatIa",__fullWidth:"__fullWidth__NesIp",root:"root__Ao8YD",__disabled:"__disabled__dhDYD",__ios:"__ios__kBKbZ",content:"content__Q9RQj",icon:"icon__YOHaP",__left:"__left__w9GGV",__right:"__right__g_MOg",default:"default__U44eV"}},308:function(e,t,n){"use strict";n.r(t),t.default={errorWrap:"errorWrap__l3oug",header:"header__sf9ju",headerText:"headerText__XlMKJ",__dark:"__dark__KNEhH",__mobile:"__mobile__FjZcJ",connectContainer:"connectContainer__gcNTt",errorContent:"errorContent__I4p8K",disconnectWrap:"disconnectWrap__FgZlh",errorText:"errorText__Vrl29",backWrapper:"backWrapper__rFQR0",backButton:"backButton__Hg9QU",iconError:"iconError__OWX8I",pattern:"pattern__hOo0H"}},42217:function(e,t,n){"use strict";n.r(t),t.default={spacer:"spacer__fdo_E",__xsH:"__xsH__Os0kI",__smH:"__smH__X6KWQ",__mdH:"__mdH__seQfW",__lgH:"__lgH__CBZYG",__xlH:"__xlH__UdTVJ",__xsW:"__xsW__Rc_dt",__smW:"__smW__Lye8B",__mdW:"__mdW__LRBJA",__lgW:"__lgW__Sm3_Z",__xlW:"__xlW__MzGd3"}},43973:function(e,t,n){"use strict";n.r(t),t.default={copyright:"copyright__ZLNkJ",_bottom:"_bottom__iHPv0",__ru:"__ru__EAuSy",_right:"_right__LS7mA",_left:"_left__VtLvW",hide:"hide__oGA8M",logoIcon:"logoIcon__zExqr",link:"link__l9gNf",__mobile:"__mobile__IjFNk",text:"text__cQsW0",corner:"corner__zs7wi",chatCopyright:"chatCopyright__k47Qm",__tablet:"__tablet__P_jUg",__call:"__call__omBhB",__chat:"__chat__ERFjg",__offline:"__offline__nRL8n",__top:"__top__yBcyd",__hidden:"__hidden__c7R07",customWrap:"customWrap__fGpZZ"}},10611:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__xD_b7",__short:"__short__E_ikg",__active:"__active__c5_PN"}},80867:function(e,t,n){"use strict";n.r(t),t.default={label:"label__OdbC9",__show:"__show__Up8jT",leafCont:"leafCont__gfjWH",_bottom:"_bottom__J61FP",_right:"_right__vRdTl",_left:"_left__Fr0Aw",_designer:"_designer__Xb7in",__extensionsTarget:"__extensionsTarget__B7hJG",copyContainer:"copyContainer__pXZee",text:"text__jv51K",_noAd:"_noAd__kQp2Y",_offline:"_offline__sa5Je",hoverl:"hoverl__HYH9I",_custom:"_custom__CjTl5",copy:"copy__M1yg0",leafBottom:"leafBottom__HbbjX",labelStatus:"labelStatus__sBJVs",omnichannel:"omnichannel__qkmlL",left:"left__WC_Qb",right:"right__UCW0S",bottom:"bottom__Kbg4S",pattern:"pattern__hEkMf",contentTransitionWrap:"contentTransitionWrap__F_6r7",fadeIn:"fadeIn__buoqW"}},29433:function(e,t,n){"use strict";n.r(t),t.default={popupWrap:"popupWrap__Q27px",__show:"__show__oZnrg",popupBlock:"popupBlock__kzvAS",__short:"__short__ya9OW",__longText:"__longText__Fs6TW",moreIcon:"moreIcon__AVdaT",text:"text__quKGE",textBox:"textBox__t0Qs2",avatar:"avatar__gJUaZ",avatarImg:"avatarImg__MF0pB",agentName:"agentName__Hgbj9",closeBlock:"closeBlock__XhR25",closePopupIcon:"closePopupIcon__PcPm9"}},19383:function(e,t,n){"use strict";n.r(t),t.default={leaf:"leaf__A526Y",_bottom:"_bottom__WXrbS",_right:"_right__S4w3u",_left:"_left__utHQx",cssLeaf:"cssLeaf__liWHu",_offline:"_offline__HaLN4"}},80047:function(e,t,n){"use strict";n.r(t),t.default={logo:"logo__qOw_l",fallback:"fallback__rEFP6","_no-copyright":"_no-copyright__xY8dE",_bottom:"_bottom__oXkA3",hoverBox:"hoverBox__ps4Xv",_right:"_right__jAbhS",_left:"_left__oUlkz",logoIcon:"logoIcon__fxeKg",__ru:"__ru__D1W0A"}},32138:function(e,t,n){"use strict";n.r(t),t.default={main:"main__ohTSX",message:"message__Oi9ev",showmessage:"showmessage__FCeF6",__mobile:"__mobile__b3O_Z",text:"text__IrX0S",container:"container__y1H6F",__client:"__client__uRYtJ",__withError:"__withError__xGCRu",__alone:"__alone___sC3y",textWrap:"textWrap__vAgJv",__ios:"__ios__UYS9z",_green:"_green__vb7d3",_grey:"_grey__HXnFU",_blue:"_blue__zcccH",__agent:"__agent__kMR61",time:"time__P7S4p",__proactive:"__proactive__sWiP3",__background:"__background__Mwttr",__bottom_width:"__bottom_width__tZgBl",__top_width:"__top_width__XdZKg",image:"image__Po_4w",__deleted:"__deleted__R6gZ0",__edited:"__edited__AWJ5U",__flash:"__flash__Ev_qX",flash:"flash__WQL8u",editedText:"editedText__qZh4g"}},47860:function(e,t,n){"use strict";n.r(t),t.default={mobileContainer:"mobileContainer__BhsDp",__tablet:"__tablet___HmKA",__cpFull:"__cpFull__zq04M"}},29384:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup__Y9aiD",__show:"__show__UqTBd",__left:"__left__TJBJa",imOverlay:"imOverlay__Jj0_L",__widgetConstructor:"__widgetConstructor__Lo7be",popupBlock:"popupBlock__TddyF",popupAnim:"popupAnim__esaaG",__isCampaign:"__isCampaign__TsEHJ",textBox:"textBox__VNMJH",campaignTextColor:"campaignTextColor__RFggU",__noImage:"__noImage__Jiplf",__longText:"__longText__pf1NO",text:"text__xw8ZF",__short:"__short__AufJQ",whiteMore:"whiteMore__eioRS",__isMarkdown:"__isMarkdown__PWQML",avatar:"avatar__jw_DN",avatarImg:"avatarImg__UkyiE",badgeImage:"badgeImage__bOIIO",agentName:"agentName__UQjQ0",closeBlock:"closeBlock__gnvuk",showBlock:"showBlock__RfXYA",closePopupIcon:"closePopupIcon__YPCG3"}},40977:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__DE9DM",_show:"_show__nH7Ph",show:"show__V4mtU",_popupShow:"_popupShow__EZDFG",overlay:"overlay__IMMFT",button:"button__ccEXV",__hide:"__hide__fDvkh",__inzoom:"__inzoom__jERI7",closeIconWrap:"closeIconWrap__MroS0",messagesLabel:"messagesLabel__QgT2w",badge:"badge__t7rf3",closeIcon:"closeIcon__ZstxG",_hoverMenu:"_hoverMenu__p94B5",menuWrap:"menuWrap__jZdqg",__hover:"__hover__A9Qlo",_orientationRight:"_orientationRight__kHAUX",_orientationLeft:"_orientationLeft__kCBk8",_mobileDesigner:"_mobileDesigner__o7xHU",_extensionsTarget:"_extensionsTarget__WeXue",_mobileOffsetBottom:"_mobileOffsetBottom__iyJ2N"}},64734:function(e,t,n){"use strict";n.r(t),t.default={icons:"icons__XY0ov",iconWrap:"iconWrap__zUaGD",_showLogo:"_showLogo__J_jCm",wrapAnimation:"wrapAnimation__pGRrD",_isCallEnabled:"_isCallEnabled__Vmj3c",firstWrapCallAnimation:"firstWrapCallAnimation__oU07H",iconWrapClose:"iconWrapClose__xfxn_",iconWrap2:"iconWrap2__FgOQg",wrapCallNoLogoAnimation:"wrapCallNoLogoAnimation__QmnXp",secondWrapCallAnimation:"secondWrapCallAnimation__RNOQ6",iconWrap3:"iconWrap3__FrRuD",thirdWrapCallAnimation:"thirdWrapCallAnimation__lhV5r",jivoIcon:"jivoIcon__NVEUQ",closeIcon:"closeIcon__CZunu",logoIconCloud:"logoIconCloud__sfz0l",envelopeIcon:"envelopeIcon__WRNUf",callbackIcon:"callbackIcon__Go_PJ",iconCallAnimation:"iconCallAnimation__zmoRV",topIcon:"topIcon__yWBT5"}},68988:function(e,t,n){"use strict";n.r(t),t.default={player:"player__GIEgq"}},60783:function(e,t,n){"use strict";n.r(t),t.default={stand:"stand__HuOsO",standBig:"standBig__Jmeex"}},43437:function(e,t,n){"use strict";n.r(t),t.default={button:"button__bVvmq",disabled:"disabled__E4Qvd",widthFixed:"widthFixed__Z0VpU",widthFluid:"widthFluid__Dh9Tw",heightSmall:"heightSmall__WG0_n",heightMiddle:"heightMiddle__HoFpF",__green:"__green__xZ6T8",__blue:"__blue__B3LXy",__grey:"__grey__ltUOS",nativeButton:"nativeButton__wmGXn"}},56534:function(e,t,n){"use strict";n.r(t),t.default={selectWrap:"selectWrap__Kb4c1",disabled:"disabled__NCFDP",styledSelectWrap:"styledSelectWrap__h9DpP",nativeSelectWrap:"nativeSelectWrap__FdU6l",invalid:"invalid__GszPi",__green:"__green__kQrP0",label:"label__sJlkG",__blue:"__blue__pbcRv",__grey:"__grey__Kqe65",__dark:"__dark__L4GKo",item:"item__jqY4A",items:"items__R54AS",heightSmall:"heightSmall__Bfq0Q",heightMiddle:"heightMiddle__SclHt",themeFlat:"themeFlat__bKGsY",themeInset:"themeInset__xnoal",labelArrow:"labelArrow__J8QTC",iconSelect:"iconSelect__NqS2n",selectIsOpen:"selectIsOpen__BFYZ9",nativeSelect:"nativeSelect__J1ELL",scroll:"scroll__aCyRO",isCallbackPopup:"isCallbackPopup__Lmxpp",rail:"rail__JL42w"}},75598:function(e,t,n){"use strict";n.r(t),t.default={__widgetConstructor:"__widgetConstructor__PxRqJ",unset:"unset__Zmg__"}},7949:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__nkEHO",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__DV6Ck",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__AJxrz",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__mYxtj",Label_OPEN_WIDGET:"Label_OPEN_WIDGET__nPOBm",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__j4Fvh",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__L08Ub",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__KpAhd",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__i32HT"}},37871:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET___amgE",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__FhdRb",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__QR05Y",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__Qguj2",Label_OPEN_WIDGET:"Label_OPEN_WIDGET__ny4kY",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__Krh5P",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__teuZ3",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__eRzmt",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__mULHo"}},10193:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__u50nf",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__Tf7zG",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__YZc_h",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__xGtaE",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__UrIt2"}},5446:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__vuzAD",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__ma111",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__dNtkr",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__d53Pj",Label_OPEN_WIDGET:"Label_OPEN_WIDGET__MVmlR",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__ihDQx"}},86052:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET__KGX2h",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__VM3K5",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__G0MBP",Label_MIN_WIDGET:"Label_MIN_WIDGET__X7agJ",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__WYIif",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__Hx7dB",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__Dzw_d",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__wMcms",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__o717J",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__E0vZh"}},8741:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET__BUOQo",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__zt5jr",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__b6X94",Label_MIN_WIDGET:"Label_MIN_WIDGET__hJalo",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__q9mc7",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET___FnVu",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__fFkkV",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__QgiNh",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__SVGH2",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__mpig6"}},72066:function(e,t,n){"use strict";n.r(t),t.default={loadingWrap:"loadingWrap__px8Rp",__mobile:"__mobile__vjm9P"}},75:function(e){(function(){var t,n,i,r,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,r=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=r-a):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},98661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return g},Component:function(){return i.Component},Fragment:function(){return i.Fragment},PureComponent:function(){return l},StrictMode:function(){return Y},Suspense:function(){return y},SuspenseList:function(){return C},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return U},cloneElement:function(){return V},createContext:function(){return i.createContext},createElement:function(){return i.createElement},createFactory:function(){return z},createPortal:function(){return O},createRef:function(){return i.createRef},default:function(){return ne},findDOMNode:function(){return q},flushSync:function(){return K},forwardRef:function(){return f},hydrate:function(){return P},isValidElement:function(){return G},lazy:function(){return E},memo:function(){return u},render:function(){return M},startTransition:function(){return J},unmountComponentAtNode:function(){return $},unstable_batchedUpdates:function(){return Z},useCallback:function(){return r.useCallback},useContext:function(){return r.useContext},useDebugValue:function(){return r.useDebugValue},useDeferredValue:function(){return X},useEffect:function(){return r.useEffect},useErrorBoundary:function(){return r.useErrorBoundary},useId:function(){return r.useId},useImperativeHandle:function(){return r.useImperativeHandle},useInsertionEffect:function(){return ee},useLayoutEffect:function(){return r.useLayoutEffect},useMemo:function(){return r.useMemo},useReducer:function(){return r.useReducer},useRef:function(){return r.useRef},useState:function(){return r.useState},useSyncExternalStore:function(){return te},useTransition:function(){return Q},version:function(){return H}});var i=n(6400),r=n(30396);function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function l(e){this.props=e}function u(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:a(this.props,e)}function r(t){return this.shouldComponentUpdate=n,(0,i.createElement)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(l.prototype=new i.Component).isPureReactComponent=!0,l.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var c=i.options.__b;i.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return null==e?null:(0,i.toChildArray)((0,i.toChildArray)(e).map(t))},g={map:p,forEach:p,count:function(e){return e?(0,i.toChildArray)(e).length:0},only:function(e){var t=(0,i.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:i.toChildArray},h=i.options.__e;i.options.__e=function(e,t,n,i){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);h(e,t,n,i)};var _=i.options.unmount;function m(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return m(e,t,n)}))),e}function v(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return v(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function y(){this.__u=0,this.t=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function E(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return(0,i.createElement)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function C(){this.u=null,this.o=null}i.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),_&&_(e)},(y.prototype=new i.Component).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=b(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,r?r(s):s())};n.__R=a;var s=function(){if(!--i.__u){if(i.state.__a){var e=i.state.__a;i.__v.__k[0]=v(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__a:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},y.prototype.componentWillUnmount=function(){this.t=[]},y.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=m(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&(0,i.createElement)(i.Fragment,null,e.fallback);return o&&(o.__h=null),[(0,i.createElement)(i.Fragment,null,t.__a?null:e.children),o]};var T=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function D(e){return this.getChildContext=function(){return e.context},e.children}function w(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,i.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,i.render)((0,i.createElement)(D,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function O(e,t){var n=(0,i.createElement)(w,{__v:e,i:t});return n.containerInfo=t,n}(C.prototype=new i.Component).__a=function(e){var t=this,n=b(t.__v),i=t.o.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),T(t,e,i)):r()};n?n(o):o()}},C.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,i.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},C.prototype.componentDidUpdate=C.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){T(e,n,t)}))};var S="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,A=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,I="undefined"!=typeof document,k=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function M(e,t,n){return null==t.__k&&(t.textContent=""),(0,i.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function P(e,t,n){return(0,i.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}i.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(i.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var R=i.options.event;function x(){}function N(){return this.cancelBubble}function L(){return this.defaultPrevented}i.options.event=function(e){return R&&(e=R(e)),e.persist=x,e.isPropagationStopped=N,e.isDefaultPrevented=L,e.nativeEvent=e};var F,j={configurable:!0,get:function(){return this.class}},B=i.options.vnode;i.options.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var a in r={},n){var s=n[a];I&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==s||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===s?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!k(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():o&&A.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,i.toChildArray)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=(0,i.toChildArray)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(j.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",j))}e.$$typeof=S,B&&B(e)};var W=i.options.__r;i.options.__r=function(e){W&&W(e),F=e.__c};var U={ReactCurrentDispatcher:{current:{readContext:function(e){return F.__n[e.__c].props.value}}}},H="17.0.2";function z(e){return i.createElement.bind(null,e)}function G(e){return!!e&&e.$$typeof===S}function V(e){return G(e)?i.cloneElement.apply(null,arguments):e}function $(e){return!!e.__k&&((0,i.render)(null,e),!0)}function q(e){return e&&(e.base||1===e.nodeType&&e)||null}var Z=function(e,t){return e(t)},K=function(e,t){return e(t)},Y=i.Fragment;function J(e){e()}function X(e){return e}function Q(){return[!1,J]}var ee=r.useLayoutEffect;function te(e,t){var n=t(),i=(0,r.useState)({h:{__:n,v:t}}),o=i[0].h,a=i[1];return(0,r.useLayoutEffect)((function(){o.__=n,o.v=t,s(o.__,t())||a({h:o})}),[e,n,t]),(0,r.useEffect)((function(){return s(o.__,o.v())||a({h:o}),e((function(){s(o.__,o.v())||a({h:o})}))}),[e]),n}var ne={useState:r.useState,useId:r.useId,useReducer:r.useReducer,useEffect:r.useEffect,useLayoutEffect:r.useLayoutEffect,useInsertionEffect:ee,useTransition:Q,useDeferredValue:X,useSyncExternalStore:te,startTransition:J,useRef:r.useRef,useImperativeHandle:r.useImperativeHandle,useMemo:r.useMemo,useCallback:r.useCallback,useContext:r.useContext,useDebugValue:r.useDebugValue,version:"17.0.2",Children:g,render:M,hydrate:P,unmountComponentAtNode:$,createPortal:O,createElement:i.createElement,createContext:i.createContext,createFactory:z,cloneElement:V,createRef:i.createRef,Fragment:i.Fragment,isValidElement:G,findDOMNode:q,Component:i.Component,PureComponent:l,memo:u,forwardRef:f,flushSync:K,unstable_batchedUpdates:Z,StrictMode:Y,Suspense:y,SuspenseList:C,lazy:E,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:U}},67665:function(e,t,n){"use strict";n.r(t),n.d(t,{resetPropWarnings:function(){return o}});var i=n(6400),r=(n(14369),{});function o(){r={}}function a(e){return e.type===i.Fragment?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var s=[],l=[];function u(){return s.length>0?s[s.length-1]:null}var c=!1;function d(e){return"function"==typeof e.type&&e.type!=i.Fragment}function f(e){for(var t=[e],n=e;null!=n.__o;)t.push(n.__o),n=n.__o;return t.reduce((function(e,t){e+="  in "+a(t);var n=t.__source;return n?e+=" (at "+n.fileName+":"+n.lineNumber+")":c||(c=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}var p="function"==typeof WeakMap;function g(e){return e?"function"==typeof e.type?g(e.__):e:{}}var h=i.Component.prototype.setState;i.Component.prototype.setState=function(e,t){return null==this.__v&&null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+f(u())),h.call(this,e,t)};var _=i.Component.prototype.forceUpdate;function m(e){var t=e.props,n=a(e),i="";for(var r in t)if(t.hasOwnProperty(r)&&"children"!==r){var o=t[r];"function"==typeof o&&(o="function "+(o.displayName||o.name)+"() {}"),o=Object(o)!==o||o.toString?o+"":Object.prototype.toString.call(o),i+=" "+r+"="+JSON.stringify(o)}var s=t.children;return"<"+n+i+(s&&s.length?">..</"+n+">":" />")}i.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+f(u())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),_.call(this,e)},function(){!function(){var e=i.options.__b,t=i.options.diffed,n=i.options.__,r=i.options.vnode,o=i.options.__r;i.options.diffed=function(e){d(e)&&l.pop(),s.pop(),t&&t(e)},i.options.__b=function(t){d(t)&&s.push(t),e&&e(t)},i.options.__=function(e,t){l=[],n&&n(e,t)},i.options.vnode=function(e){e.__o=l.length>0?l[l.length-1]:null,r&&r(e)},i.options.__r=function(e){d(e)&&l.push(e),o&&o(e)}}();var e=!1,t=i.options.__b,n=i.options.diffed,o=i.options.vnode,u=i.options.__e,c=i.options.__,h=i.options.__h,_=p?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];i.options.__e=function(e,t,n,i){if(t&&t.__c&&"function"==typeof e.then){var r=e;e=new Error("Missing Suspense. The throwing component was: "+a(t));for(var o=t;o;o=o.__)if(o.__c&&o.__c.__c){e=r;break}if(e instanceof Error)throw e}try{(i=i||{}).componentStack=f(t),u(e,t,n,i),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},i.options.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var n;switch(t.nodeType){case 1:case 11:case 9:n=!0;break;default:n=!1}if(!n){var i=a(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+i+" />, "+t+");")}c&&c(e,t)},i.options.__b=function(n){var i=n.type,o=g(n.__);if(e=!0,void 0===i)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+m(n)+"\n\n"+f(n));if(null!=i&&"object"==typeof i){if(void 0!==i.__k&&void 0!==i.__e)throw new Error("Invalid type passed to createElement(): "+i+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+a(n)+" = "+m(i)+";\n  let vnode = <My"+a(n)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+f(n));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(i)?"array":i))}if("thead"!==i&&"tfoot"!==i&&"tbody"!==i||"table"===o.type?"tr"===i&&"thead"!==o.type&&"tfoot"!==o.type&&"tbody"!==o.type&&"table"!==o.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+m(n)+"\n\n"+f(n)):"td"===i&&"tr"!==o.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+m(n)+"\n\n"+f(n)):"th"===i&&"tr"!==o.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+m(n)+"\n\n"+f(n)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+m(n)+"\n\n"+f(n)),void 0!==n.ref&&"function"!=typeof n.ref&&"object"!=typeof n.ref&&!("$$typeof"in n))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+"] instead\n"+m(n)+"\n\n"+f(n));if("string"==typeof n.type)for(var s in n.props)if("o"===s[0]&&"n"===s[1]&&"function"!=typeof n.props[s]&&null!=n.props[s])throw new Error("Component's \""+s+'" property should be a function, but got ['+typeof n.props[s]+"] instead\n"+m(n)+"\n\n"+f(n));if("function"==typeof n.type&&n.type.propTypes){if("Lazy"===n.type.displayName&&_&&!_.lazyPropTypes.has(n.type)){var l="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var u=n.type();_.lazyPropTypes.set(n.type,!0),console.warn(l+"Component wrapped in lazy() is "+a(u))}catch(e){console.warn(l+"We will log the wrapped component's name once it is loaded.")}}var c=n.props;n.type.__f&&delete(c=function(e,t){for(var n in t)e[n]=t[n];return e}({},c)).ref,function(e,t,n,i,o){Object.keys(e).forEach((function(n){var a;try{a=e[n](t,n,i,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}a&&!(a.message in r)&&(r[a.message]=!0,console.error("Failed prop type: "+a.message+(o&&"\n"+o()||"")))}))}(n.type.propTypes,c,0,a(n),(function(){return f(n)}))}t&&t(n)},i.options.__h=function(t,n,i){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");h&&h(t,n,i)};var y=function(e,t){return{get:function(){var n="get"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},b={nodeName:y("nodeName","use vnode.type"),attributes:y("attributes","use vnode.props"),children:y("children","use vnode.props.children")},E=Object.create({},b);i.options.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var i in t){var r=t[i];"__source"===i?e.__source=r:"__self"===i?e.__self=r:n[i]=r}}e.__proto__=E,o&&o(e)},i.options.diffed=function(t){if(t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+f(t))}})),e=!1,n&&n(t),null!=t.__k)for(var i=[],r=0;r<t.__k.length;r++){var o=t.__k[r];if(o&&null!=o.key){var a=o.key;if(-1!==i.indexOf(a)){console.error('Following component has two or more children with the same key attribute: "'+a+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+m(t)+"\n\n"+f(t));break}i.push(a)}}}}()},14369:function(e,t,n){"use strict";n.r(t),n.d(t,{addHookName:function(){return r}});var i=n(6400);function r(e,t){return i.options.__a&&i.options.__a(t),e}"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.11.3",i.options,{Fragment:i.Fragment,Component:i.Component})},6400:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return y},Fragment:function(){return v},cloneElement:function(){return W},createContext:function(){return U},createElement:function(){return h},createRef:function(){return m},h:function(){return h},hydrate:function(){return B},isValidElement:function(){return a},options:function(){return r},render:function(){return j},toChildArray:function(){return O}});var i,r,o,a,s,l,u,c={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var r,o,a,s={};for(a in t)"key"==a?r=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return _(e,s,r,o,null)}function _(e,t,n,i,a){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=r.vnode&&r.vnode(s),s}function m(){return{current:null}}function v(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function C(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!T.__r++||l!==r.debounceRendering)&&((l=r.debounceRendering)||setTimeout)(T)}function T(){for(var e;T.__r=s.length;)e=s.sort((function(e,t){return e.__v.__b-t.__v.__b})),s=[],e.some((function(e){var t,n,i,r,o,a;e.__d&&(o=(r=(t=e).__v).__e,(a=t.__P)&&(n=[],(i=p({},r)).__v=r.__v+1,P(a,r,i,t.__n,void 0!==a.ownerSVGElement,null!=r.__h?[o]:null,n,null==o?b(r):o,r.__h),R(n,r),r.__e!=o&&E(r)))}))}function D(e,t,n,i,r,o,a,s,l,u){var f,p,g,h,m,y,E,C=i&&i.__k||d,T=C.length;for(n.__k=[],f=0;f<t.length;f++)if(null!=(h=n.__k[f]=null==(h=t[f])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?_(null,h,null,null,h):Array.isArray(h)?_(v,{children:h},null,null,null):h.__b>0?_(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(g=C[f])||g&&h.key==g.key&&h.type===g.type)C[f]=void 0;else for(p=0;p<T;p++){if((g=C[p])&&h.key==g.key&&h.type===g.type){C[p]=void 0;break}g=null}P(e,h,g=g||c,r,o,a,s,l,u),m=h.__e,(p=h.ref)&&g.ref!=p&&(E||(E=[]),g.ref&&E.push(g.ref,null,h),E.push(p,h.__c||m,h)),null!=m?(null==y&&(y=m),"function"==typeof h.type&&h.__k===g.__k?h.__d=l=w(h,l,e):l=S(e,h,g,C,m,l),"function"==typeof n.type&&(n.__d=l)):l&&g.__e==l&&l.parentNode!=e&&(l=b(g))}for(n.__e=y,f=T;f--;)null!=C[f]&&L(C[f],C[f]);if(E)for(f=0;f<E.length;f++)N(E[f],E[++f],E[++f])}function w(e,t,n){for(var i,r=e.__k,o=0;r&&o<r.length;o++)(i=r[o])&&(i.__=e,t="function"==typeof i.type?w(i,t,n):S(n,i,i,r,i.__e,t));return t}function O(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){O(e,t)})):t.push(e)),t}function S(e,t,n,i,r,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||r!=o||null==r.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(r),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<i.length;l+=1)if(s==r)break e;e.insertBefore(r,o),a=o}return void 0!==a?a:r.nextSibling}function A(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function I(e,t,n,i,r){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||A(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||A(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i||e.addEventListener(t,o?M:k,o):e.removeEventListener(t,o?M:k,o);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function k(e){this.l[e.type+!1](r.event?r.event(e):e)}function M(e){this.l[e.type+!0](r.event?r.event(e):e)}function P(e,t,n,i,o,a,s,l,u){var c,d,f,g,h,_,m,b,E,C,T,w,O,S,A,I=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(c=r.__b)&&c(t);try{e:if("function"==typeof I){if(b=t.props,E=(c=I.contextType)&&i[c.__c],C=c?E?E.props.value:c.__:i,n.__c?m=(d=t.__c=n.__c).__=d.__E:("prototype"in I&&I.prototype.render?t.__c=d=new I(b,C):(t.__c=d=new y(b,C),d.constructor=I,d.render=F),E&&E.sub(d),d.props=b,d.state||(d.state={}),d.context=C,d.__n=i,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=I.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,I.getDerivedStateFromProps(b,d.__s))),g=d.props,h=d.state,f)null==I.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==I.getDerivedStateFromProps&&b!==g&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,C),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,C)||t.__v===n.__v){for(d.props=b,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,C),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(g,h,_)}))}if(d.context=C,d.props=b,d.__v=t,d.__P=e,w=r.__r,O=0,"prototype"in I&&I.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do{d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++O<25);d.state=d.__s,null!=d.getChildContext&&(i=p(p({},i),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(_=d.getSnapshotBeforeUpdate(g,h)),A=null!=c&&c.type===v&&null==c.key?c.props.children:c,D(e,Array.isArray(A)?A:[A],t,n,i,o,a,s,l,u),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),m&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=x(n.__e,t,n,i,o,a,s,u);(c=r.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=l,t.__h=!!u,a[a.indexOf(l)]=null),r.__e(e,t,n)}}function R(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function x(e,t,n,r,o,a,s,l){var u,d,f,p=n.props,h=t.props,_=t.type,m=0;if("svg"===_&&(o=!0),null!=a)for(;m<a.length;m++)if((u=a[m])&&"setAttribute"in u==!!_&&(_?u.localName===_:3===u.nodeType)){e=u,a[m]=null;break}if(null==e){if(null===_)return document.createTextNode(h);e=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,h.is&&h),a=null,l=!1}if(null===_)p===h||l&&e.data===h||(e.data=h);else{if(a=a&&i.call(e.childNodes),d=(p=n.props||c).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!l){if(null!=a)for(p={},m=0;m<e.attributes.length;m++)p[e.attributes[m].name]=e.attributes[m].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,i,r){var o;for(o in n)"children"===o||"key"===o||o in t||I(e,o,null,n[o],i);for(o in t)r&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||I(e,o,t[o],n[o],i)}(e,h,p,o,l),f)t.__k=[];else if(m=t.props.children,D(e,Array.isArray(m)?m:[m],t,n,r,o&&"foreignObject"!==_,a,s,a?a[0]:n.__k&&b(n,0),l),null!=a)for(m=a.length;m--;)null!=a[m]&&g(a[m]);l||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===_&&!m||"option"===_&&m!==p.value)&&I(e,"value",m,p.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&I(e,"checked",m,p.checked,!1))}return e}function N(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function L(e,t,n){var i,o;if(r.unmount&&r.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||N(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){r.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&L(i[o],t,n||"function"!=typeof e.type);n||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function F(e,t,n){return this.constructor(e,n)}function j(e,t,n){var o,a,s;r.__&&r.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],P(t,e=(!o&&n||t).__k=h(v,null,[e]),a||c,c,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?i.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o),R(s,e)}function B(e,t){j(e,t,B)}function W(e,t,n){var r,o,a,s=p({},e.props);for(a in t)"key"==a?r=t[a]:"ref"==a?o=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?i.call(arguments,2):n),_(e.type,s,r||e.key,o||e.ref,null)}function U(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(C)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}i=d.slice,r={__e:function(e,t,n,i){for(var r,o,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(e)),a=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(t){e=t}throw e}},o=0,a=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),C(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},y.prototype.render=v,s=[],T.__r=0,u=0},30396:function(e,t,n){"use strict";n.r(t),n.d(t,{useCallback:function(){return D},useContext:function(){return w},useDebugValue:function(){return O},useEffect:function(){return y},useErrorBoundary:function(){return S},useId:function(){return A},useImperativeHandle:function(){return C},useLayoutEffect:function(){return b},useMemo:function(){return T},useReducer:function(){return v},useRef:function(){return E},useState:function(){return m}});var i,r,o,a,s=n(6400),l=0,u=[],c=[],d=s.options.__b,f=s.options.__r,p=s.options.diffed,g=s.options.__c,h=s.options.unmount;function _(e,t){s.options.__h&&s.options.__h(r,e,l||t),l=0;var n=r.__H||(r.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:c}),n.__[e]}function m(e){return l=1,v(N,e)}function v(e,t,n){var o=_(i++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):N(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var a=r.shouldComponentUpdate;r.shouldComponentUpdate=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var r=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(r=!0)}})),!(!r&&o.__c.props===e)&&(!a||a.call(this,e,t,n))}}return o.__N||o.__}function y(e,t){var n=_(i++,3);!s.options.__s&&x(n.__H,t)&&(n.__=e,n.i=t,r.__H.__h.push(n))}function b(e,t){var n=_(i++,4);!s.options.__s&&x(n.__H,t)&&(n.__=e,n.i=t,r.__h.push(n))}function E(e){return l=5,T((function(){return{current:e}}),[])}function C(e,t,n){l=6,b((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function T(e,t){var n=_(i++,7);return x(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function D(e,t){return l=8,T((function(){return e}),t)}function w(e){var t=r.context[e.__c],n=_(i++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(r)),t.props.value):e.__}function O(e,t){s.options.useDebugValue&&s.options.useDebugValue(t?t(e):e)}function S(e){var t=_(i++,10),n=m();return t.__=e,r.componentDidCatch||(r.componentDidCatch=function(e,i){t.__&&t.__(e,i),n[1](e)}),[n[0],function(){n[1](void 0)}]}function A(){var e=_(i++,11);if(!e.__){for(var t=r.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function I(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(P),e.__H.__h.forEach(R),e.__H.__h=[]}catch(t){e.__H.__h=[],s.options.__e(t,e.__v)}}s.options.__b=function(e){r=null,d&&d(e)},s.options.__r=function(e){f&&f(e),i=0;var t=(r=e.__c).__H;t&&(o===r?(t.__h=[],r.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=c,e.__N=e.i=void 0}))):(t.__h.forEach(P),t.__h.forEach(R),t.__h=[])),o=r},s.options.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&a===s.options.requestAnimationFrame||((a=s.options.requestAnimationFrame)||M)(I)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==c&&(e.__=e.__V),e.i=void 0,e.__V=c}))),o=r=null},s.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(P),e.__h=e.__h.filter((function(e){return!e.__||R(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.options.__e(n,e.__v)}})),g&&g(e,t)},s.options.unmount=function(e){h&&h(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{P(e)}catch(e){t=e}})),n.__H=void 0,t&&s.options.__e(t,n.__v))};var k="function"==typeof requestAnimationFrame;function M(e){var t,n=function(){clearTimeout(i),k&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);k&&(t=requestAnimationFrame(n))}function P(e){var t=r,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),r=t}function R(e){var t=r;e.__c=e.__(),r=t}function x(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function N(e,t){return"function"==typeof t?t(e):t}},16584:function(e,t,n){"use strict";n.d(t,{BX:function(){return o},HY:function(){return i.Fragment},tZ:function(){return o}});var i=n(6400),r=0;function o(e,t,n,o,a){var s,l,u={};for(l in t)"ref"==l?s=t[l]:u[l]=t[l];var c={type:e,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--r,__source:a,__self:o};if("function"==typeof e&&(s=e.defaultProps))for(l in s)void 0===u[l]&&(u[l]=s[l]);return i.options.vnode&&i.options.vnode(c),c}},87236:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var i=t.style;if(e in i)return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var a=n[o]+r;if(a in i)return a}return!1}},92703:function(e,t,n){"use strict";var i=n(50414);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},54087:function(e,t,n){for(var i=n(75),r="undefined"==typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=r[o[u]+"Request"+a],l=r[o[u]+"Cancel"+a]||r[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,d=0,f=[];s=function(e){if(0===f.length){var t=i(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},28843:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.9044 15.2138C18.5013 14.8056 17.9637 14.5896 17.3773 14.5896C16.7787 14.5896 16.1923 14.8176 15.7526 15.2498C15.3372 15.646 15.0196 16.1381 14.8363 16.6784C14.1155 16.6063 11.7567 15.1092 10.3029 13.6446C8.89803 12.2161 7.40653 9.84261 7.32102 9.11033C7.88298 8.95427 8.39607 8.65415 8.81143 8.258C9.25122 7.83784 9.50777 7.29764 9.5322 6.70941C9.55663 6.12119 9.34895 5.56898 8.94581 5.16082L7.3821 3.57622C7.01561 3.20408 6.52695 3 5.98942 3C5.43968 3 4.91437 3.21608 4.51123 3.60023L4.2669 3.84032C3.93705 4.14043 3.68051 4.50057 3.50948 4.89672C3.48504 4.95675 2.80092 6.45732 3.05747 7.58575C3.10633 7.75381 4.47667 12.0854 8.23834 15.6494C12 19.2133 16.0824 20.8679 16.2656 20.928C16.4611 20.976 16.681 21 16.9131 21C17.9027 21 18.9533 20.5798 18.9899 20.5678C19.4053 20.3998 19.7718 20.1597 20.1016 19.8596L20.346 19.6195C21.1645 18.8392 21.2255 17.5667 20.4681 16.7984L18.9044 15.2138Z" fill="_COLOR1_"/>\n</svg>\n'},2482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M16.5 8v9.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V7a2.5 2.5 0 0 1 5 0v8.5c0 .55-.45 1-1 1s-1-.45-1-1V8H10v7.5a2.5 2.5 0 0 0 5 0V7c0-2.21-1.79-4-4-4S7 4.79 7 7v10.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V8h-1.5z"/>\n</svg>\n'},92809:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M.941 0h15v15h-15z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M3.497 9.624c.36.002.694-.14.954-.401.266-.266.425-.627.428-1.014.009-.36-.069-.72-.227-1.04.352-.288 2.063-.67 3.357-.665 1.258.01 2.972.401 3.335.688-.18.319-.274.68-.283 1.04-.009.381.117.735.367 1.007.25.271.588.424.948.426l1.396.01c.328.002.635-.124.874-.363.244-.243.381-.572.39-.922l.001-.215a1.932 1.932 0 0 0-.132-.804c-.016-.038-.378-1.007-.993-1.394-.096-.053-2.626-1.367-5.876-1.279-3.25.088-5.796 1.165-5.904 1.22a1.718 1.718 0 0 0-.319.255c-.439.439-.719 1.091-.73 1.113-.11.259-.165.528-.178.808l-.002.214c-.017.71.52 1.301 1.197 1.306l1.397.01z"/></g></svg>'},87409:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path fill="#18C139" fill-rule="nonzero" d="M12.603 10.143a1.408 1.408 0 0 0-1.018-.417c-.4 0-.79.152-1.083.44a2.377 2.377 0 0 0-.611.953c-.48-.048-2.053-1.046-3.022-2.023-.937-.952-1.931-2.534-1.988-3.022.374-.104.716-.305.993-.569.293-.28.465-.64.48-1.032a1.372 1.372 0 0 0-.39-1.032L4.92 2.384A1.285 1.285 0 0 0 3.993 2c-.367 0-.717.144-.986.4l-.162.16c-.22.2-.391.44-.505.704-.017.04-.473 1.04-.302 1.793.033.112.946 3 3.454 5.376 2.508 2.376 5.23 3.479 5.352 3.519.13.032.277.048.431.048.66 0 1.36-.28 1.385-.288.277-.112.521-.272.741-.472l.163-.16c.546-.52.586-1.369.081-1.881l-1.042-1.056z"/></g></svg>'},93867:function(e,t,n){"use strict";n.r(t),t.default='<svg id="jivo-icon-closewidget" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><style>.jivo-st0{opacity:.8;fill:#FFF;stroke:#000;enable-background:new}.jivo-st0,.jivo-st1{stroke-width:1.5;stroke-linecap:round}.jivo-st1{fill:none;stroke:#383d45}</style><circle class="jivo-st0" cx="12" cy="12" r="11"/><path class="jivo-st1" d="M7.5 16.5l9-9M16.5 16.5l-9-9"/></svg>'},85972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd" transform="translate(3 4)">\n    <circle cx="8.5" cy="8.5" r="9.3" stroke="_COLOR1_" stroke-width="1.6"/>\n    <circle cx="5.375" cy="6.375" r="1.375" fill="_COLOR1_"/>\n    <circle cx="11.875" cy="6.375" r="1.375" fill="_COLOR1_" transform="matrix(-1 0 0 1 23.75 0)"/>\n    <path stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.6" d="M4.25 10.5S4.5 13 8.5 13s4.25-2.5 4.25-2.5"/>\n  </g>\n</svg>'},28336:function(e,t,n){"use strict";n.r(t),t.default='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path fill=\'_COLOR1_\' d="M22.5 5l-10 6.25L2.5 5V2.5l10 6.25 10-6.25V5zm0-5h-20A2.49 2.49 0 0 0 0 2.5v15A2.5 2.5 0 0 0 2.5 20h20a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 22.5 0z"/></svg>\n'},21525:function(e,t,n){"use strict";n.r(t),t.default='<svg width="84" height="65" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity=".6" d="M41.9983 64.5c-.9715 0-1.8662-.2429-2.6843-.7286-.7925-.4857-1.4316-1.1376-1.9173-1.9556-.4602-.7925-.6902-1.6745-.6902-2.6459 0-.997.23-1.8918.6902-2.6843.4857-.7925 1.1248-1.4316 1.9173-1.9173.8181-.4857 1.7128-.7286 2.6843-.7286.9714 0 1.8534.2429 2.6459.7286.818.4857 1.4571 1.1248 1.9173 1.9173.4857.7925.7285 1.6873.7285 2.6843 0 .9714-.2428 1.8534-.7285 2.6459-.4602.818-1.0993 1.4699-1.9173 1.9556-.7925.4857-1.6745.7286-2.6459.7286Zm.0383-16.7573c-.8692 0-1.5722-.2557-2.109-.767-.5369-.5368-.8181-1.2654-.8437-2.1857-.0255-2.7098-.0511-5.4452-.0767-8.2061-.0255-2.761-.0511-5.5091-.0766-8.2445-.0256-2.7353-.0512-5.4707-.0767-8.2061 0-2.7609-.0128-5.5091-.0384-8.2444-.0256-2.73541-.0511-5.47079-.0767-8.20616 0-.94587.3196-1.7128.9587-2.30077C40.3366.793988 41.1035.5 41.9983.5c.8691 0 1.6361.293988 2.3007.88197.6647.58797.997 1.3549.997 2.30077-.0255 2.73537-.0511 5.47075-.0767 8.20616-.0255 2.7353-.0511 5.4835-.0766 8.2444 0 2.7354-.0128 5.4708-.0384 8.2061-.0256 2.7354-.0511 5.4835-.0767 8.2445 0 2.7609-.0128 5.4963-.0383 8.2061 0 .9203-.2812 1.6489-.8437 2.1857-.5368.5113-1.2398.767-2.109.767ZM33.447 5.40833l.1534 10.73697c-4.8828.7925-9.4843 2.3391-13.8047 4.6399-4.2947 2.3008-8.1805 5.3046-11.65724 9.0114-.33233.3323-.72858.5113-1.18874.5368-.43459 0-.81805-.1661-1.15039-.4985L.891007 24.8883c-.281207-.3324-.434592-.6775-.460156-1.0354 0-.3835.127821-.7286.383463-1.0353C3.16622 19.9032 6.0422 17.2573 9.44223 14.8799c3.40007-2.3775 7.13237-4.3715 11.19717-5.98206 4.0902-1.63611 8.3595-2.79928 12.8076-3.48951Zm17.0641 0c4.4993.66467 8.7813 1.81506 12.8461 3.45117 4.0647 1.6361 7.7843 3.6557 11.1587 6.0587 3.4001 2.3775 6.3016 5.0106 8.7046 7.8994.2557.3067.3707.6518.3452 1.0353 0 .3579-.1534.703-.4602 1.0354l-4.9083 4.8699c-.3324.3324-.7158.5113-1.1504.5369-.409 0-.7797-.1662-1.1121-.4985-3.5278-3.6813-7.4519-6.6723-11.7723-8.9731-4.2948-2.3263-8.8835-3.8857-13.7663-4.6782l.115-10.73697Zm-.1533 21.47397c3.8601.7925 7.388 2.1474 10.5835 4.0647 3.1956 1.8917 5.8031 4.0647 7.8227 6.5188.2812.3324.409.6775.3834 1.0354-.0255.3579-.1917.6774-.4985.9587l-5.4835 5.4451c-.3579.3324-.7413.5113-1.1504.5369-.409 0-.7797-.179-1.112-.5369-1.3805-1.4571-2.9782-2.7737-4.7933-3.9496-1.7895-1.2016-3.7196-2.1602-5.7903-2.876l.0384-11.1971Zm-16.6807 0 .0767 11.1587c-2.0451.7158-3.9625 1.6617-5.7519 2.8377-1.7895 1.1504-3.3617 2.4669-4.7166 3.9496-.3579.3835-.7542.6008-1.1888.6519-.4346.0256-.8436-.1534-1.2271-.5368l-5.4835-5.4835c-.3323-.3068-.5113-.6264-.5368-.9587 0-.3579.1278-.703.3834-1.0354 2.0963-2.5052 4.7294-4.691 7.8994-6.5572 3.1955-1.8662 6.7106-3.2083 10.5452-4.0263Z" fill="url(#a)"/><defs><linearGradient id="a" x1="42" y1=".5" x2="42" y2="64.5" gradientUnits="userSpaceOnUse"><stop stop-color="#8796A5"/><stop offset="1" stop-color="#C6C6C6"/></linearGradient></defs></svg>'},34886:function(e,t,n){"use strict";n.r(t),t.default='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.1 0H1.9C.85 0 0 .85 0 1.9V19l3.8-3.8h13.3c1.05 0 1.9-.85 1.9-1.9V1.9C19 .85 18.15 0 17.1 0M3.8 6.65h11.4v1.9H3.8m7.6 2.85H3.8V9.5h7.6m3.8-3.8H3.8V3.8h11.4" fill="#05B24B"/></g></svg>\n'},38353:function(e,t,n){"use strict";n.r(t),t.default='<svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M2.967 22.226l-.025.008s7.698 13.9 26.975 5.546c0 0-1.495-1.752-4.384-3.52a14.067 14.067 0 0 0 2.588-14.047c-2.655-7.297-10.7-11.07-17.964-8.425C2.89 4.433-.847 12.492 1.81 19.79c.313.863.703 1.677 1.157 2.436z" fill-rule="evenodd"/></svg>\n'},81483:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h20v20H0z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M3 3h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M16.074 7.064l-6.01 4.01-6.01-4.01"/>\n    </g>\n</svg>\n'},22764:function(e,t,n){"use strict";n.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>ABB53DC4-C95A-47C0-BDA2-177372AC59FA</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="ios-Full" transform="translate(-64.000000, -499.000000)" fill="#0076FF">\n            <g id="popup" transform="translate(0.000000, 190.000000)">\n                <path d="M65.0702042,309.547272 C63.6395848,310.838212 63.3600869,312.442576 66.0124393,316.105342 C68.6644642,319.767967 72.3286805,322.837952 74.9458442,324.128565 C77.5634291,325.418898 78.6800637,324.72144 79.4127573,323.709857 C80.1457784,322.697899 80.1457784,321.895624 79.0291437,321.058674 C77.9121815,320.22121 76.3420236,318.616705 74.9110766,319.802641 C73.4804572,320.988905 72.5381753,319.73334 72.1194665,319.279396 C71.8161507,318.951279 69.6064185,316.733031 69.1531761,316.279648 C68.6992786,315.825984 68.3153375,314.710145 69.1180342,313.837773 C69.9210116,312.965822 68.8470059,311.39805 68.5596934,311.04752 C68.2457086,310.663579 66.9719412,307.831492 65.0702042,309.547272" id="Page-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},18317:function(e,t,n){"use strict";n.r(t),t.default='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M.937 0C.42 0 0 .42 0 .937 0 9.73 7.13 16.86 15.922 16.86c.25 0 .487-.1.663-.275.175-.176.274-.414.274-.663v-3.278c0-.517-.42-.936-.938-.936-1.17 0-2.294-.188-3.343-.534-.33-.103-.694-.028-.957.225l-2.06 2.06C6.913 12.11 4.74 9.946 3.39 7.286l2.06-2.07c.263-.244.338-.61.235-.937C5.34 3.23 5.15 2.107 5.15.937 5.15.42 4.733 0 4.216 0H.937zM11.24 0v1.405h3.278l-5.152 5.15.937.938 5.15-5.15V5.62h1.406V0h-5.62z" fill="#4185F2"/></svg>\n'},18079:function(e,t,n){"use strict";n.r(t),t.default='<svg width="34" height="34" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="_COLOR1_" cx="17" cy="17" r="17"/><g transform="translate(10 9)" fill="#FFF"><rect x="6" y="2" width="2" height="14" rx="1"/><rect transform="rotate(-45 9.879 4.879)" x="8.879" y="-.121" width="2" height="10" rx="1"/><rect transform="scale(-1 1) rotate(-45 0 15.243)" x="3.293" y="-.121" width="2" height="10" rx="1"/></g></g></svg>\n'},99652:function(e,t,n){"use strict";n.r(t),t.default='<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 14.7V21l4.176-3H21c.56 0 .999-.448.999-1V2c0-.545-.447-1-.999-1H2A.994.994 0 0 0 1 2v12.7z" stroke="#00BE64" stroke-width="2"/><path fill="#00BE64" d="M5 6h14v2H5zM5 11h11v2H5z"/></g></svg>\n'},2427:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g transform="rotate(-180 12 12)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)" stroke="#FFF" stroke-linecap="round" stroke-width="2"><path d="M14.458 17.911l-6.364-6.364 6.364-6.364"/></g></g></svg>'},38867:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m9.818 15.227-2.863-2.863-.955.954 3.818 3.818L18 8.955 17.046 8l-7.228 7.227Z" fill="#18C139"/></svg>'},86693:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6c-3.312 0-6 2.688-6 6s2.688 6 6 6 6-2.688 6-6-2.688-6-6-6Zm.6 9h-1.2v-1.2h1.2V15Zm0-2.4h-1.2V9h1.2v3.6Z" fill="#e54c44"/></svg>'},34948:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path fill="_COLOR1_" d="M.813.006l9.18 9.18-.806.807L.007.813z"/><path fill="_COLOR1_" d="M9.994.813l-9.18 9.18-.808-.806 9.18-9.18z"/></svg>\n'},12298:function(e,t,n){"use strict";n.r(t),t.default='<svg width="10" height="35" viewBox="0 0 9 35" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M1.31 34.966H.975c-.295 0-.53-.09-.71-.27C.09 34.516 0 34.3 0 34.05v-2.33c0-.25.097-.465.288-.645.193-.18.42-.27.687-.27H1.3c1.776 0 3.223-1.37 3.238-3.06v-8.94H.975c-.236 0-.458-.09-.665-.27-.206-.18-.31-.395-.31-.645v-2.33c0-.223.104-.43.31-.625.207-.194.43-.292.665-.292h7.019c.266 0 .494.09.687.27.192.182.29.396.29.646V27.77c0 .032-.008.058-.01.09-.08 3.937-3.477 7.098-7.65 7.104zM.318 0C-.25 11.117 8.62 12.702 8.62 12.702 8.17.522.318 0 .318 0z"/></svg>\n'},54446:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path fill="_COLOR1_" fill-rule="evenodd" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z"/>\n        <path fill="_COLOR2_" fill-rule="evenodd" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z"/>\n    </g>\n</svg>\n'},22722:function(e,t,n){"use strict";n.r(t),t.default='<svg width="46" height="15" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><path d="M.048 0c-.2 3.774 2.893 4.31 2.893 4.31C2.78.178.05 0 .05 0zm2.587 4.784H.35c-.08 0-.15.04-.215.103-.07.07-.103.136-.103.217v.803c0 .088.04.162.103.226.07.065.136.097.216.097h1.16v5.795c0 .542-.405.994-.924 1.06H.35c-.086 0-.16.03-.224.095a.303.303 0 0 0-.097.226v.804c0 .087.03.162.086.226a.303.303 0 0 0 .232.097H.46c1.318 0 2.397-1.04 2.478-2.35a.675.675 0 0 0 .013-.145V5.104a.307.307 0 0 0-.096-.226.29.29 0 0 0-.22-.094zm3.012 0h-.802c-.087 0-.16.04-.226.103-.065.07-.097.136-.097.217v6.01c0 .088.022.162.096.226a.3.3 0 0 0 .225.097h.802a.3.3 0 0 0 .216-.097.289.289 0 0 0 .103-.226v-6.01c0-.08-.04-.152-.103-.217-.07-.07-.136-.103-.216-.103zm7.313.016h-.648c-.242 0-.393.055-.448.184l-1.85 4.068h-.03L8.22 4.984a.294.294 0 0 0-.29-.184h-.875c-.12 0-.21.032-.258.113-.048.07-.04.162.016.258l2.867 6.254c.055.113.15.168.29.168h.087c.12 0 .216-.055.274-.168L13.2 5.17c.054-.095.064-.176.016-.257-.05-.074-.13-.113-.255-.113zm3.874-.152c-.927 0-1.723.336-2.387 1.02-.663.682-.992 1.492-.992 2.43 0 .947.335 1.774.986 2.458.665.69 1.457 1.036 2.388 1.036.93 0 1.723-.345 2.377-1.036.664-.69.992-1.508.992-2.457 0-.94-.328-1.75-.992-2.43-.663-.686-1.45-1.022-2.37-1.022zm1.41 4.965c-.382.41-.85.61-1.4.61-.56 0-1.034-.2-1.41-.6-.378-.4-.57-.914-.57-1.524 0-.595.183-1.092.57-1.486a1.88 1.88 0 0 1 1.41-.594c.56 0 1.024.194 1.4.594.378.394.572.89.572 1.485-.004.6-.197 1.107-.57 1.513zm8.576.123l-.447-.362c-.16-.12-.303-.113-.448.033-.016.016-.087.087-.21.2-.12.12-.21.2-.264.242-.053.038-.144.096-.263.177-.112.08-.24.13-.377.16-.135.024-.29.04-.447.04-.56 0-1.025-.2-1.402-.61a2.141 2.141 0 0 1-.57-1.502c0-.593.2-1.09.584-1.49.384-.4.867-.6 1.427-.6.507 0 .96.215 1.364.657.167.162.303.184.432.07l.512-.473c.167-.153.193-.314.054-.476-.624-.762-1.427-1.15-2.41-1.15-.927 0-1.722.337-2.392 1.01-.664.676-1.002 1.493-1.002 2.464 0 .988.328 1.815 1.002 2.463.657.666 1.456.996 2.393.996 1.105 0 1.97-.46 2.58-1.382.103-.148.07-.31-.113-.468zm4.542-5.088c-.647 0-1.288.233-1.923.69V2c0-.08-.04-.152-.104-.216-.07-.07-.135-.103-.216-.103h-.802a.31.31 0 0 0-.225.102c-.065.07-.097.136-.097.216v9.116c0 .088.032.162.097.217a.3.3 0 0 0 .225.098h.786c.216 0 .33-.104.33-.314v-4.14c.102-.218.302-.427.608-.644.303-.216.68-.32 1.13-.32.432 0 .76.146.986.45.226.296.335.73.335 1.284v3.364c0 .087.032.16.097.226a.303.303 0 0 0 .225.097h.802c.08 0 .152-.032.216-.096a.291.291 0 0 0 .103-.226v-3.33c-.003-2.087-.86-3.13-2.574-3.13zm8.601.859a1.341 1.341 0 0 0-.712-.65c-.327-.134-.743-.21-1.248-.21-.867 0-1.627.13-2.284.38-.184.064-.258.193-.216.383l.13.546c.047.216.176.313.376.274.72-.21 1.336-.313 1.85-.313.414 0 .694.12.855.362.162.24.226.625.21 1.16l-.184-.054a4.651 4.651 0 0 0-.513-.097 4.44 4.44 0 0 0-.64-.05c-.835 0-1.49.194-1.956.595-.473.4-.705.913-.705 1.55 0 .674.2 1.22.593 1.613.4.394.912.594 1.546.594.786 0 1.456-.28 2.033-.836l.16.45c.065.15.162.23.275.23h.48c.08 0 .15-.03.215-.096a.29.29 0 0 0 .104-.226V7.576c0-.48-.022-.868-.07-1.17a3.256 3.256 0 0 0-.297-.9zm-1.056 4.106c-.113.194-.32.378-.625.546-.303.167-.61.257-.912.257-.335 0-.593-.103-.77-.297-.177-.194-.264-.45-.264-.755 0-.336.12-.6.383-.804.257-.2.583-.296.985-.296.264 0 .522.032.754.087.23.056.382.104.447.146v1.117zm7.048 1.127l-.258-.675c-.07-.2-.2-.248-.383-.145-.36.21-.712.313-1.066.313-.168 0-.303-.048-.393-.145-.087-.097-.136-.275-.136-.53V6.02h1.745c.087 0 .16-.038.226-.103a.294.294 0 0 0 .097-.216v-.583a.295.295 0 0 0-.096-.233.331.331 0 0 0-.225-.087H43.72v-1.86a.34.34 0 0 0-.088-.225.268.268 0 0 0-.215-.097h-.82a.303.303 0 0 0-.224.097.3.3 0 0 0-.097.226V4.79h-.76c-.21 0-.312.104-.312.314v.584c0 .087.032.16.096.226a.305.305 0 0 0 .226.097h.76v3.597c0 .642.12 1.14.36 1.475.25.346.68.513 1.305.513.362 0 .707-.054 1.058-.16.35-.104.615-.21.786-.314.177-.1.225-.228.16-.38z" fill="#FFF" fill-rule="evenodd"/></svg>'},30349:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18">\n    <path fill="_COLOR1_" d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd"/>\n    <path fill="_COLOR2_" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill-rule="evenodd"/>\n</svg>'},15504:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18"><path d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd" fill="#fff"/><path data-name="–§–∏–≥—É—Ä–∞ 13 –∫–æ–ø–∏—è 3" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill="#00c151" fill-rule="evenodd"/></svg>'},43832:function(e,t,n){"use strict";n.r(t),t.default='<svg width="12" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.25 6.433 1.818 4.001l-.829.822L4.25 8.084l7-7-.822-.822L4.25 6.433Z" fill="_COLOR1_"/></svg>'},26552:function(e,t,n){"use strict";n.r(t),t.default='<svg width="14" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 1.084 9.678.262 5.979 3.96l.823.823L10.5 1.084Zm2.473-.822L6.802 6.433 4.363 4.001l-.822.822L6.8 8.084l7-7-.828-.822ZM.24 4.823 3.5 8.084l.823-.822L1.068 4l-.829.822Z" fill="_COLOR1_"/></svg>'},71481:function(e,t,n){"use strict";n.r(t),t.default='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.994.166A5.83 5.83 0 0 0 .167 5.999a5.83 5.83 0 0 0 5.827 5.834 5.837 5.837 0 0 0 5.84-5.834A5.837 5.837 0 0 0 5.993.166ZM6 10.666a4.665 4.665 0 0 1-4.667-4.667A4.665 4.665 0 0 1 6 1.333a4.665 4.665 0 0 1 4.667 4.666A4.665 4.665 0 0 1 6 10.666Zm.292-7.583h-.875v3.5L8.479 8.42l.438-.717-2.625-1.558V3.083Z" fill="_COLOR1_"/></svg>'},39186:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n    <style>\n        @-webkit-keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        @keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        #dot-1 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0s;\n        }\n        #dot-2 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: .3s;\n        }\n        #dot-3 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0.6s;\n        }\n    </style>\n  <g fill="#18c139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n    <g transform="translate(43 14)">\n      <circle id=\'dot-1\' cx="5" cy="5" r="5"/>\n      <circle id=\'dot-2\' cx="23" cy="5" r="5"/>\n      <circle id=\'dot-3\' cx="41" cy="5" r="5"/>\n    </g>\n  </g>\n</svg>'},1900:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n  <g fill="#18C139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n  </g>\n</svg>'},75630:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119 119"><path fill="#e8ecf1" d="M60.4 117.6c-13.7.3-27.3-5.2-37.8-14 7.8-7 17.1-11.9 27-14.5 2-.3 2.3-6.4 2.3-6.4-3.8-4.1-6.7-9.3-7.8-14.8-3.8 0-6.1-9-2.3-12.2-.3-3.5-4.7-26.2 18.6-26.2S79 52.5 79 55.6c3.8 3.2 1.5 12.2-2.3 12.2-1.2 5.5-3.8 10.8-7.8 14.8 0 0 0 6.1 2.3 6.4 9.9 2.6 19.2 7.6 27 14.5-7.9 6.8-20.6 14.1-37.8 14.1z"/><circle cx="59.5" cy="59.5" r="58" fill="none" stroke="#e8ecf1" stroke-miterlimit="10" stroke-width="3.5"/></svg>'},80441:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n    <g fill="none" fill-rule="evenodd" transform="translate(2 2)">\n        <circle cx="12" cy="12" r="12" fill="#FFF" opacity="1"/>\n        <circle cx="12" cy="12" r="12.75" stroke="#222D38" stroke-width="1.5" opacity="1"/>\n        <g fill="#222D38" opacity="1" transform="translate(6 6)">\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="rotate(45 6.24 6.01)"/>\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="scale(-1 1) rotate(45 0 -9.058)"/>\n        </g>\n    </g>\n</svg>\n'},799:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill="_COLOR1_" d="M14 12v1.5H3V12h11zm0-5v1.5H3V7h11zm0-5v1.5H3V2h11z" fill-rule="evenodd"/></svg>'},66574:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="24"><defs/><g fill="none" fill-rule="evenodd"><path d="M0 0h12v24H0z"/><circle cx="6" cy="5" r="2" fill="_COLOR1_"/><circle cx="6" cy="12" r="2" fill="_COLOR1_"/><circle cx="6" cy="19" r="2" fill="_COLOR1_"/></g></svg>'},88921:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="_COLOR1_" fill-rule="evenodd" transform="translate(7 7)">\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="rotate(45 5.81 5.595)"/>\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="scale(-1 1) rotate(45 0 -8.433)"/>\n  </g>\n</svg>'},31617:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="34"><path fill="_COLOR1_" d="M81.9 6.6h3.2v.8h-3.2zM9.2 20.2c.6.1 1.3.1 2 .1 3.9 0 7.3-1.2 9.4-3.6 1.6-1.7 2.4-4.1 2.4-7 0-2.9-1-5.3-2.7-6.9C18.4 1 15.5 0 11.6 0 8.4 0 5.9.3 4 .6v16.2H0v3.3h4V25H.1v3.3H4v5.4h4v-5.4h6.6V25H8v-4.8h1.2zM8 16.5V3.7c.7-.2 2-.3 3.7-.3 4.4 0 7.3 2.1 7.3 6.5 0 4.5-2.9 7-7.7 7-1.4 0-2.5-.1-3.3-.4z"/></svg>'},28122:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},36972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.5" mask="url(#b)"><path d="M13.343 16.814l-4.657-4.657L13.343 7.5"/></g></g></svg>'},62842:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR2_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z"/>\n    </g>\n</svg>\n'},93759:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR1_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="1"/>\n        <path fill="#5e5f61" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="0.7"/>\n    </g>\n</svg>\n'},39581:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 3v12.5a3.5 3.5 0 1 1-2-3.16V6.47L9 8.6v8.9a3.5 3.5 0 1 1-2-3.16V6l14-3z"/></g></svg>'},54304:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>\n'},28149:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M13 9V3.5L18.5 9H13zM6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6z"/></g></svg>'},28372:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10c5.523 0 10-4.477 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>'},69357:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 18V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></g></svg>'},43055:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></g></svg>'},54983:function(e,t,n){"use strict";n.r(t),t.default='<svg width="33" height="42" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.14273 26.7757C8.82522 26.7757 9.37848 27.3289 9.37848 28.0114C9.37848 31.8539 12.5045 34.98 16.347 34.98C20.1896 34.98 23.3156 31.8539 23.3156 28.0114C23.3156 27.3289 23.8689 26.7757 24.5514 26.7757C25.2338 26.7757 25.7871 27.3289 25.7871 28.0114C25.7871 33.2167 21.5524 37.4515 16.347 37.4515C11.1419 37.4515 6.90697 33.2167 6.90697 28.0114C6.90697 27.3289 7.46032 26.7757 8.14273 26.7757Z" fill="#445669"/>\n<path d="M16.3472 16.5601C18.8966 16.5601 20.9707 18.6342 20.9707 21.1836V28.3054C20.9707 30.8549 18.8966 32.929 16.3472 32.929C13.7978 32.929 11.7237 30.8549 11.7237 28.3054V21.1836C11.7237 18.6342 13.7978 16.5601 16.3472 16.5601ZM14.1952 28.3054C14.1952 29.4921 15.1606 30.4575 16.3472 30.4575C17.5337 30.4575 18.4992 29.492 18.4992 28.3054V21.1836C18.4992 19.997 17.5337 19.0316 16.3472 19.0316C15.1606 19.0316 14.1952 19.997 14.1952 21.1836V28.3054Z" fill="#445669"/>\n<path d="M16.3468 34.9799C17.0293 34.9799 17.5825 35.5332 17.5825 36.2157V40.0394C17.5825 40.7218 17.0293 41.2751 16.3468 41.2751C15.6643 41.2751 15.111 40.7218 15.111 40.0394V36.2157C15.111 35.5333 15.6643 34.9799 16.3468 34.9799Z" fill="#445669"/>\n<path d="M8.44618 14.7048C10.5565 12.5943 13.3624 11.4321 16.3471 11.4321C19.3317 11.4321 22.1376 12.5943 24.2479 14.7048C24.7305 15.1873 24.7305 15.9699 24.2479 16.4524C23.7654 16.9349 22.9828 16.9349 22.5004 16.4524C20.8568 14.8088 18.6714 13.9036 16.3471 13.9036C14.0227 13.9036 11.8374 14.8088 10.1938 16.4524C9.95256 16.6937 9.63631 16.8143 9.31997 16.8143C9.00372 16.8143 8.68754 16.6936 8.4461 16.4524C7.96362 15.9698 7.96362 15.1873 8.44618 14.7048Z" fill="#445669"/>\n<path d="M4.28306 10.5426C10.9346 3.89089 21.7579 3.89089 28.4096 10.5426C28.8921 11.0251 28.8921 11.8076 28.4096 12.2901C27.927 12.7727 27.1445 12.7726 26.662 12.2901C20.9738 6.60215 11.7188 6.60215 6.03064 12.2901C5.78944 12.5315 5.47319 12.6521 5.15685 12.6521C4.84052 12.6521 4.52434 12.5314 4.28306 12.2901C3.8005 11.8076 3.8005 11.0252 4.28306 10.5426Z" fill="#445669"/>\n<path d="M0.361938 6.62111C4.63165 2.35139 10.3084 0 16.3467 0C22.3849 0 28.0617 2.35139 32.3314 6.62103C32.814 7.10359 32.814 7.88604 32.3314 8.36861C31.8489 8.85117 31.0663 8.85117 30.5839 8.36861C22.7335 0.518277 9.95993 0.518277 2.10952 8.36861C1.86832 8.60997 1.55206 8.73057 1.23573 8.73057C0.919476 8.73057 0.603302 8.60997 0.361938 8.36869C-0.120625 7.88612 -0.120625 7.10375 0.361938 6.62111Z" fill="#445669"/>\n</svg>\n'},42899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">\n  <g fill="none" fill-rule="evenodd">    \n    <path d="M0 0h32v32H0z"/>\n    <circle cx="16" cy="16" r="16" fill="_COLOR1_"/>\n    <path fill="_COLOR2_" fill-rule="nonzero" d="M11.35 22.482l.697-4.32 8.84-2.16-8.84-2.16-.697-4.32 13.355 6.48-13.355 6.48zm.301.65c-.513.25-1.087-.194-.995-.768l.697-4.32a.713.713 0 0 1 .53-.583l8.841-2.16v1.4l-8.84-2.16a.713.713 0 0 1-.531-.582l-.697-4.32c-.092-.574.482-1.017.995-.768l13.355 6.48c.537.26.537 1.041 0 1.301l-13.355 6.48z"/>\n  </g>\n</svg>'},99350:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M493.815 70.629c-11.001-1.003-20.73 7.102-21.733 18.102l-2.65 29.069C424.473 47.194 346.429 0 256 0 158.719 0 72.988 55.522 30.43 138.854c-5.024 9.837-1.122 21.884 8.715 26.908 9.839 5.024 21.884 1.123 26.908-8.715C102.07 86.523 174.397 40 256 40c74.377 0 141.499 38.731 179.953 99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899 4.651-6.419 8.989-4.337 21.479 4.651 27.899l86.475 61.761c12.674 9.035 30.155.764 31.541-14.459l9.711-106.53c1.004-11.001-7.1-20.731-18.1-21.734zM472.855 346.238c-9.838-5.023-21.884-1.122-26.908 8.715C409.93 425.477 337.603 472 256 472c-74.377 0-141.499-38.731-179.953-99.408l28.517 20.367c8.989 6.419 21.479 4.337 27.899-4.651 6.419-8.989 4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-.921-31.541 14.459L.085 419.637c-1.003 11 7.102 20.73 18.101 21.733 11.014 1.001 20.731-7.112 21.733-18.102l2.65-29.069C87.527 464.806 165.571 512 256 512c97.281 0 183.012-55.522 225.57-138.854 5.024-9.837 1.122-21.884-8.715-26.908z"/></svg>'},23791:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DD2E44" d="M11.626 7.488c-.112.112-.197.247-.268.395l-.008-.008L.134 33.141l.011.011c-.208.403.14 1.223.853 1.937.713.713 1.533 1.061 1.936.853l.01.01L28.21 24.735l-.008-.009c.147-.07.282-.155.395-.269 1.562-1.562-.971-6.627-5.656-11.313-4.687-4.686-9.752-7.218-11.315-5.656z"/><path fill="#EA596E" d="M13 12L.416 32.506l-.282.635.011.011c-.208.403.14 1.223.853 1.937.232.232.473.408.709.557L17 17l-4-5z"/><path fill="#A0041E" d="M23.012 13.066c4.67 4.672 7.263 9.652 5.789 11.124-1.473 1.474-6.453-1.118-11.126-5.788-4.671-4.672-7.263-9.654-5.79-11.127 1.474-1.473 6.454 1.119 11.127 5.791z"/><path fill="#AA8DD8" d="M18.59 13.609c-.199.161-.459.245-.734.215-.868-.094-1.598-.396-2.109-.873-.541-.505-.808-1.183-.735-1.862.128-1.192 1.324-2.286 3.363-2.066.793.085 1.147-.17 1.159-.292.014-.121-.277-.446-1.07-.532-.868-.094-1.598-.396-2.11-.873-.541-.505-.809-1.183-.735-1.862.13-1.192 1.325-2.286 3.362-2.065.578.062.883-.057 1.012-.134.103-.063.144-.123.148-.158.012-.121-.275-.446-1.07-.532-.549-.06-.947-.552-.886-1.102.059-.549.55-.946 1.101-.886 2.037.219 2.973 1.542 2.844 2.735-.13 1.194-1.325 2.286-3.364 2.067-.578-.063-.88.057-1.01.134-.103.062-.145.123-.149.157-.013.122.276.446 1.071.532 2.037.22 2.973 1.542 2.844 2.735-.129 1.192-1.324 2.286-3.362 2.065-.578-.062-.882.058-1.012.134-.104.064-.144.124-.148.158-.013.121.276.446 1.07.532.548.06.947.553.886 1.102-.028.274-.167.511-.366.671z"/><path fill="#77B255" d="M30.661 22.857c1.973-.557 3.334.323 3.658 1.478.324 1.154-.378 2.615-2.35 3.17-.77.216-1.001.584-.97.701.034.118.425.312 1.193.095 1.972-.555 3.333.325 3.657 1.479.326 1.155-.378 2.614-2.351 3.17-.769.216-1.001.585-.967.702.033.117.423.311 1.192.095.53-.149 1.084.16 1.233.691.148.532-.161 1.084-.693 1.234-1.971.555-3.333-.323-3.659-1.479-.324-1.154.379-2.613 2.353-3.169.77-.217 1.001-.584.967-.702-.032-.117-.422-.312-1.19-.096-1.974.556-3.334-.322-3.659-1.479-.325-1.154.378-2.613 2.351-3.17.768-.215.999-.585.967-.701-.034-.118-.423-.312-1.192-.096-.532.15-1.083-.16-1.233-.691-.149-.53.161-1.082.693-1.232z"/><path fill="#AA8DD8" d="M23.001 20.16c-.294 0-.584-.129-.782-.375-.345-.432-.274-1.061.156-1.406.218-.175 5.418-4.259 12.767-3.208.547.078.927.584.849 1.131-.078.546-.58.93-1.132.848-6.493-.922-11.187 2.754-11.233 2.791-.186.148-.406.219-.625.219z"/><path fill="#77B255" d="M5.754 16c-.095 0-.192-.014-.288-.042-.529-.159-.829-.716-.67-1.245 1.133-3.773 2.16-9.794.898-11.364-.141-.178-.354-.353-.842-.316-.938.072-.849 2.051-.848 2.071.042.551-.372 1.031-.922 1.072-.559.034-1.031-.372-1.072-.923-.103-1.379.326-4.035 2.692-4.214 1.056-.08 1.933.287 2.552 1.057 2.371 2.951-.036 11.506-.542 13.192-.13.433-.528.712-.958.712z"/><circle fill="#5C913B" cx="25.5" cy="9.5" r="1.5"/><circle fill="#9266CC" cx="2" cy="18" r="2"/><circle fill="#5C913B" cx="32.5" cy="19.5" r="1.5"/><circle fill="#5C913B" cx="23.5" cy="31.5" r="1.5"/><circle fill="#FFCC4D" cx="28" cy="4" r="2"/><circle fill="#FFCC4D" cx="32.5" cy="8.5" r="1.5"/><circle fill="#FFCC4D" cx="29.5" cy="12.5" r="1.5"/><circle fill="#FFCC4D" cx="7.5" cy="23.5" r="1.5"/></svg>'},56482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z"/><path fill="#EE9547" d="M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z"/></svg>'},63365:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 18.084c0 .503-.12.975-.321 1.404-1.341 4.326-7.619 4.01-16.549 4.221-1.493.035-.639 1.798-.115 5.668.341 2.517-1.282 6.382-4.01 6.382-4.498 0-.171-3.548-4.148-12.322-2.125-4.688-6.875-2.062-6.875-6.771V5.948c0-1.833.18-3.595 2.758-3.885C8.195 1.781 7.633 0 11.238 0h18.044c1.838 0 3.333 1.496 3.333 3.334 0 .762-.267 1.456-.698 2.018 1.02.571 1.72 1.649 1.72 2.899 0 .76-.266 1.454-.696 2.015 1.023.57 1.725 1.649 1.725 2.901 0 .909-.368 1.733-.961 2.336.757.611 1.251 1.535 1.251 2.581z"/><path fill="#EE9547" d="M23.02 14.751h8.604c1.17 0 2.268.626 2.866 1.633.246.415.109.952-.307 1.199-.415.247-.952.108-1.199-.307-.283-.479-.806-.775-1.361-.775h-8.81c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583H28.7c.483 0 .875.392.875.875s-.392.875-.875.875h-5.888c-1.838 0-3.333-1.495-3.333-3.333 0-1.025.475-1.932 1.205-2.544-.615-.605-.998-1.445-.998-2.373 0-1.028.478-1.938 1.212-2.549-.611-.604-.99-1.441-.99-2.367 0-1.12.559-2.108 1.409-2.713-.524-.589-.852-1.356-.852-2.204 0-1.838 1.495-3.333 3.333-3.333h5.484c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.416.245-.953.11-1.199-.305-.285-.479-.808-.776-1.363-.776h-5.484c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583h6.506c1.17 0 2.27.626 2.867 1.633.247.416.11.953-.305 1.199-.419.251-.954.11-1.199-.305-.289-.487-.799-.777-1.363-.777h-7.063c-.873 0-1.583.711-1.583 1.584s.71 1.583 1.583 1.583h8.091c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.417.246-.953.11-1.199-.305-.289-.486-.799-.776-1.363-.776H23.02c-.873 0-1.583.71-1.583 1.583s.709 1.584 1.583 1.584z"/></svg>'},14534:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16 18c-.419 0-.809-.265-.949-.684C14.848 16.717 14.034 15 13 15c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.741-.632-1.265C9.177 16.307 10.356 13 13 13s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051zm10 0c-.419 0-.809-.265-.948-.684C24.849 16.717 24.033 15 23 15c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.741-.632-1.265C19.177 16.307 20.355 13 23 13s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-8 4c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-1.344 6.75-9 6.75S9 23 9 23z"/><path fill="#664500" d="M18 27.594c-3.596 0-6.272-.372-7.937-.745l-.825-1.871c.823.312 3.889.897 8.763.897 4.954 0 8.037-.616 8.864-.938l-.701 1.842c-1.634.38-4.419.815-8.164.815z"/></svg>'},22426:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="12.5" rx="2.5" ry="5.5"/><ellipse fill="#664500" cx="24.5" cy="12.5" rx="2.5" ry="5.5"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/></svg>'},78393:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/><path fill="#664500" d="M6.001 20c-.304 0-.604-.138-.801-.4-.332-.441-.242-1.068.2-1.399.143-.107 2.951-2.183 6.856-2.933C9.781 14.027 7.034 14 6.999 14c-.552-.002-.999-.45-.998-1.002 0-.551.447-.998.999-.998.221 0 5.452.038 8.707 3.293.286.286.372.716.217 1.09-.155.374-.52.617-.924.617-4.613 0-8.363 2.772-8.4 2.8-.18.135-.391.2-.599.2zm23.998-.001c-.208 0-.418-.064-.598-.198C29.363 19.772 25.59 17 21 17c-.404 0-.77-.243-.924-.617-.155-.374-.069-.804.217-1.09C23.549 12.038 28.779 12 29 12c.552 0 .998.447.999.998.001.552-.446 1-.997 1.002-.036 0-2.783.027-5.258 1.268 3.905.75 6.713 2.825 6.855 2.933.441.331.531.956.201 1.398-.196.261-.496.4-.801.4z"/></svg>'},69861:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M27.335 22.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 23.472 11.788 28.5 18 28.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zM26 19c-.419 0-.809-.265-.948-.684C24.849 17.717 24.033 16 23 16c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.74-.632-1.265C19.177 17.307 20.355 14 23 14s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-10 0c-.419 0-.809-.265-.949-.684C14.848 17.717 14.034 16 13 16c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.74-.632-1.265C9.177 17.307 10.355 14 13 14s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051z"/><path fill="#FFAC33" d="M33.175 8.316s-9.042.161-15.175.161c-3.905 0-15.206-.118-15.206-.118l-.521.876c3.043 1.856 9.064 2.917 15.727 2.917 6.596 0 12.576-1.04 15.652-2.86l.078-.047s-.374-.664-.555-.929z"/><path fill="#5DADEC" d="M23.777.345c-1.212-.094-2.473-.159-3.773-.19C19.343.139 18.676.129 18 .129c-.672 0-1.336.01-1.993.025-1.302.031-2.564.096-3.777.19C5.34.88.169 2.451.169 5.287c0 3.588 8.264 5.771 17.831 5.771s17.831-2.183 17.831-5.771c0-2.835-5.168-4.405-12.054-4.942zM18 7.383c-6.861 0-12.91-.833-12.91-2.736 0-.536.494-1.023 1.339-1.449 1.153-.581 2.978-1.044 5.189-1.349 1.911-.262 4.098-.41 6.382-.41 2.291 0 4.485.148 6.4.413 2.242.31 4.086.783 5.232 1.377.807.418 1.278.894 1.278 1.418 0 1.903-6.049 2.736-12.91 2.736z"/><path fill="#3B94D9" d="M24.4 1.853c2.242.31 4.086.783 5.232 1.377l.062.017c-2.285-1.674-4.57-2.56-5.917-2.902-1.212-.094-2.473-.159-3.773-.19l.018.007L24.4 1.853zM6.429 3.199c1.153-.581 2.978-1.044 5.189-1.349L15.984.162l.023-.008c-1.302.031-2.564.096-3.777.19-1.347.342-3.633 1.227-5.919 2.902l.118-.047z"/><path fill="#FFCC4D" d="M28.472 3.375c-.66-.443-1.346-.91-2.001-1.26C23.947.765 21.063 0 18 0c-2.929 0-5.695.7-8.14 1.941-1.089.553-1.881.999-2.17 1.434h20.782z"/></svg>'},12239:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#AA8DD8" cx="18" cy="18" r="18"/><path fill="#AA8DD8" d="M10 4C7.42 4 4.369 1.534 3.414.586 2.843.014 1.981-.157 1.235.153.487.462 0 1.191 0 2c0 3.459 1.672 10 8 10 .757 0 1.45-.428 1.789-1.106l2-4c.31-.62.277-1.356-.088-1.946C11.337 4.359 10.693 4 10 4zM34.766.153c-.75-.311-1.607-.139-2.18.434C31.7 1.472 28.589 4 26 4c-.693 0-1.337.359-1.701.949-.364.589-.397 1.326-.088 1.946l2 4C26.55 11.572 27.242 12 28 12c6.328 0 8-6.541 8-10 0-.809-.487-1.538-1.234-1.847z"/><path fill="#553986" d="M27.335 25.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 26.472 11.788 31.5 18 31.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zm-11.628-7.336C12.452 15.038 7.221 15 7 15c-.552 0-.999.447-.999.998-.001.552.446 1.001.998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 15c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.001.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},79378:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 12.458c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4 3.262-4.35 7.616-4.4 7.8-4.4.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.156.002-3.569.086-6.205 3.6-.195.262-.496.4-.8.4zm23.002 2.125c-.305 0-.604-.138-.801-.4-2.592-3.457-6.961-2.627-7.004-2.62-.547.108-1.068-.243-1.177-.784-.108-.542.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.137-.389.201-.598.201zm-5.747 8.994c-.188-.11-.432-.087-.597.06-.01.008-1.013.863-4.657.863-3.641 0-4.646-.854-4.646-.854-.159-.16-.404-.19-.6-.082-.195.111-.293.339-.238.557.01.044 1.144 4.379 5.484 4.379s5.474-4.335 5.485-4.379c.053-.213-.044-.431-.231-.544z"/></svg>'},74373:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M6.999 17c-.15 0-.303-.034-.446-.105-.494-.247-.694-.848-.447-1.342C6.158 15.448 7.424 13 11 13c3.577 0 4.842 2.449 4.894 2.553.247.494.046 1.095-.447 1.342-.491.247-1.085.049-1.336-.436C14.067 16.378 13.28 15 11 15c-2.317 0-3.099 1.433-3.106 1.447-.175.351-.528.553-.895.553zM29 17c.15 0 .303-.034.446-.105.494-.247.694-.848.447-1.342-.052-.105-1.318-2.553-4.894-2.553-3.577 0-4.842 2.449-4.894 2.553-.247.494-.046 1.095.447 1.342.491.247 1.085.049 1.336-.436.044-.081.831-1.459 3.111-1.459 2.317 0 3.099 1.433 3.106 1.447.175.351.528.553.895.553zm.503 6.52c.323-.749.461-1.257.466-1.277.134-.534-.19-1.075-.725-1.21-.536-.136-1.077.188-1.215.723C27.955 22.051 26.081 29 18 29s-9.955-6.949-10.03-7.245c-.138-.534-.679-.858-1.215-.723-.534.135-.858.676-.725 1.21C6.052 22.33 8.331 31 18 31c1.65 0 3.07-.266 4.315-.685 4.33-1.458 6.374-4.91 7.188-6.795z"/><path fill="#E75B70" d="M32.407 26.681l-2.956-3.051s-.68-.438-1.273.568c-.78 1.322-2.075 2.935-3.934 4.171-.781.519-2.139 1.189-2.697 1.318-.735.169-.388.964-.388.964.585-.127 1.051-.301 1.051-.301l.296.296 2.726 2.726c1.728 1.728 5 2 7 0s1.904-4.962.175-6.691z"/><path fill="#DE3146" d="M29.915 31.074c.213-.213.213-.558 0-.771l-3.629-3.629-.796.748 3.653 3.653c.213.212.559.212.772-.001z"/></svg>'},5541:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#292F33" d="M1.24 11.018c.24.239 1.438.957 1.677 1.675.24.717.72 4.784 2.158 5.981 1.483 1.232 7.077.774 8.148.24 2.397-1.195 2.691-4.531 3.115-6.221.239-.957 1.677-.957 1.677-.957s1.438 0 1.678.956c.424 1.691.72 5.027 3.115 6.221 1.072.535 6.666.994 8.151-.238 1.436-1.197 1.915-5.264 2.155-5.982.238-.717 1.438-1.435 1.677-1.674.241-.239.241-1.196 0-1.436-.479-.478-6.134-.904-12.223-.239-1.215.133-1.677.478-4.554.478-2.875 0-3.339-.346-4.553-.478-6.085-.666-11.741-.24-12.221.238-.239.239-.239 1.197 0 1.436z"/><path fill="#664500" d="M27.335 23.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628z"/></svg>'},87966:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M25 26H11c-.552 0-1-.447-1-1s.448-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"/></svg>'},69860:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M12 28c2-5 13-5 13-3 0 1-8-1-13 3z"/></svg>'},92380:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><ellipse fill="#664500" cx="11.5" cy="15.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm23.002 3c-.305 0-.604-.138-.801-.4-2.592-3.456-6.961-2.628-7.004-2.62-.547.11-1.068-.244-1.177-.784-.108-.541.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.136-.389.201-.598.201zm-8.922 13.042c1.335-.412 2.629-1.156 2.629-2.5 0-2.619-4.912-2.968-5.472-2.999-.274-.026-.509.193-.527.468-.017.274.19.511.464.53.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.014.001-.024.009-.037.011-.052.006-.101.018-.146.04l-.019.011c-.047.026-.088.057-.125.098-.014.015-.024.031-.036.048-.023.032-.044.063-.059.102-.012.029-.018.061-.024.092-.004.023-.016.044-.018.067 0 .011.004.021.004.031s-.005.021-.004.031c.001.024.013.045.018.068.006.031.011.061.023.09.013.03.031.057.049.084.017.024.032.05.052.071.023.023.05.041.078.061.024.017.046.034.074.047.032.015.066.021.101.027.024.006.044.018.069.02.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.274.02-.481.257-.464.53.017.265.237.469.499.469l.028-.001c.56-.031 5.472-.38 5.472-2.999 0-1.345-1.294-2.089-2.629-2.501z"/><path fill="#FFAC33" d="M34.202 25.803c-.236-.79-.779-1.486-1.578-1.875-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.11-4.087 1.406-.105.215-.18.437-.23.659-.775 2.556.64 6.341 2.192 7.948 1.23.13 2.953-.198 4.513-.873 1.5-1.46 2.733-3.183 3.653-5.088z"/><path fill="#DD2E44" d="M35.654 27.222c.739-1.516.11-3.347-1.405-4.086-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.109-4.087 1.406-.105.215-.18.437-.23.659-.774 2.556.64 6.341 2.192 7.948 2.223.234 6.077-.979 7.615-3.161.145-.179.273-.374.378-.589z"/></svg>'},94475:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#66471B" d="M15.457 15.815c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.144.591.177.143.427.147.61.014.013-.009 1.262-.902 3.703-.902 2.426 0 3.674.881 3.702.901.088.066.193.099.298.099.11 0 .221-.037.311-.109.179-.142.238-.386.146-.594z"/><path fill="#F5F8FA" d="M31 13.5c0 3.59-2.91 6.5-6.5 6.5S18 17.09 18 13.5 20.91 7 24.5 7 31 9.91 31 13.5z"/><circle fill="#292F33" cx="24.5" cy="13.5" r="2.5"/><path fill="#66471B" d="M7 21.262c0 3.964 4.596 9 11 9s11-5 11-9c0 0-10.333 2.756-22 0z"/><path fill="#E8596E" d="M18.545 23.604l-1.091-.005c-3.216-.074-5.454-.596-5.454-.596v6.961c0 3 2 6 6 6s6-3 6-6v-6.92c-1.922.394-3.787.542-5.455.56z"/><path fill="#DD2F45" d="M18 31.843c.301 0 .545-.244.545-.545v-7.694l-1.091-.005v7.699c.001.301.245.545.546.545z"/></svg>'},70881:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M23.485 28.879C23.474 28.835 22.34 24.5 18 24.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.008 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.09.219.137.344.137.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zM11.226 15.512c-.317 0-.636.039-.947.116-2.87.707-3.513 4.121-3.539 4.267-.04.223.076.443.281.54.067.031.14.047.211.047.145 0 .287-.063.385-.18.01-.012 1.01-1.178 3.379-1.761.714-.176 1.412-.265 2.073-.265 1.104 0 1.732.253 1.735.254.067.028.131.04.207.04.272.012.509-.221.509-.5 0-.165-.08-.311-.203-.402-.367-.435-1.953-2.156-4.091-2.156zm13.548 0c.317 0 .636.039.947.116 2.87.707 3.513 4.121 3.539 4.267.04.223-.076.443-.281.54-.067.031-.14.047-.211.047-.145 0-.287-.063-.385-.18-.01-.012-1.01-1.178-3.379-1.761-.714-.176-1.412-.265-2.073-.265-1.104 0-1.731.253-1.735.254-.067.028-.131.04-.206.04-.272.012-.509-.221-.509-.5 0-.165.08-.311.203-.402.366-.435 1.952-2.156 4.09-2.156z"/></svg>'},44544:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DA2F47" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#292F33" d="M25.485 29.879C25.44 29.7 24.317 25.5 18 25.5c-6.318 0-7.44 4.2-7.485 4.379-.055.217.043.442.237.554.195.109.439.079.6-.077.019-.019 1.954-1.856 6.648-1.856s6.63 1.837 6.648 1.855c.096.095.224.145.352.145.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zm-9.778-12.586C12.452 14.038 7.221 14 7 14c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 14c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},67567:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M23.485 27.879C23.474 27.835 22.34 23.5 18 23.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.007 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.091.219.137.344.137.084 0 .169-.021.246-.064.196-.111.294-.339.239-.557z"/><path fill="#5DADEC" d="M10 30c0 2.762-2.238 5-5 5s-5-2.238-5-5 4-10 5-10 5 7.238 5 10z"/><path fill="#664500" d="M30 13c-5.554 0-7.802-4.367-7.895-4.553-.247-.494-.047-1.095.447-1.342.492-.247 1.092-.048 1.34.443C23.967 7.694 25.713 11 30 11c.553 0 1 .448 1 1 0 .553-.447 1-1 1zM6 13c-.552 0-1-.448-1-1s.448-1 1-1c5.083 0 5.996-3.12 6.033-3.253.145-.528.69-.848 1.219-.709.53.139.851.673.718 1.205C13.921 8.437 12.704 13 6 13z"/></svg>'},57737:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16.664 10.543c-.207-.09-.451-.03-.592.148-.009.012-.979 1.202-3.335 1.844-.775.212-1.531.319-2.245.319-.992 0-1.559-.212-1.562-.213-.21-.085-.453-.014-.587.169-.135.184-.128.435.016.612.071.087 1.78 2.147 4.125 2.147.351 0 .702-.047 1.043-.14 2.854-.778 3.41-4.208 3.432-4.354.034-.223-.087-.441-.295-.532zm10.975 2.155c-.138-.181-.38-.245-.59-.159-.006.003-.633.256-1.737.256-.661 0-1.358-.089-2.073-.265-2.369-.583-3.369-1.749-3.377-1.758-.146-.176-.388-.233-.596-.137-.207.095-.323.318-.283.542.026.145.668 3.56 3.539 4.267.311.077.629.116.946.116 2.396 0 4.099-2.16 4.17-2.252.138-.181.137-.43.001-.61zM9.998 10c-.448 0-.855-.303-.969-.757-.133-.535.191-1.077.724-1.212.036-.009 3.593-.961 5.352-4.478.247-.494.846-.695 1.342-.447.494.247.694.848.447 1.342-2.181 4.361-6.471 5.477-6.652 5.523-.081.02-.163.029-.244.029zM26 10c-.08 0-.161-.01-.242-.03-.182-.045-4.472-1.162-6.652-5.523-.247-.494-.047-1.095.447-1.342.493-.247 1.094-.047 1.342.447 1.758 3.517 5.315 4.469 5.352 4.478.533.137.857.681.722 1.215-.116.453-.522.755-.969.755zm-8 18.965c-3.623 0-6.027.422-9 1-.679.131-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.321 2.132-2 2-2.973-.578-5.377-1-9-1z"/><path fill="#FFF" d="M10 25s3-1 8-1 8 1 8 1-2-4-8-4-8 4-8 4z"/></svg>'},45152:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><ellipse fill="#664500" cx="18" cy="25" rx="4" ry="5"/><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"/></svg>'},22783:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#C1CDD5" d="M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z"/><path fill="#60379A" d="M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z"/><path fill="#C1CDD5" d="M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z"/><path fill="#758795" d="M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z"/><circle fill="#292F33" cx="15.255" cy="14.565" r=".946"/><path fill="#53626C" d="M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z"/><path fill="#EE7C0E" d="M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z"/><path fill="#C43512" d="M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z"/></svg>'},36113:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:function(){return H},ReactReduxContext:function(){return d},batch:function(){return o.unstable_batchedUpdates},connect:function(){return U},createDispatchHook:function(){return V},createSelectorHook:function(){return m},createStoreHook:function(){return z},shallowEqual:function(){return N},useDispatch:function(){return $},useSelector:function(){return v},useStore:function(){return G}});var i=n(61688),r=n(52798),o=n(98661);let a=function(e){e()};const s=()=>a,l=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{};function c(){var e;if(!o.createContext)return{};const t=null!=(e=u[l])?e:u[l]=new Map;let n=t.get(o.createContext);return n||(n=o.createContext(null),t.set(o.createContext,n)),n}const d=c();function f(e=d){return function(){return(0,o.useContext)(e)}}const p=f(),g=()=>{throw new Error("uSES not initialized!")};let h=g;const _=(e,t)=>e===t;function m(e=d){const t=e===d?p:f(e);return function(e,n={}){const{equalityFn:i=_,stabilityCheck:r,noopCheck:a}="function"==typeof n?{equalityFn:n}:n;const{store:s,subscription:l,getServerState:u,stabilityCheck:c,noopCheck:d}=t(),f=((0,o.useRef)(!0),(0,o.useCallback)({[e.name](t){return e(t)}}[e.name],[e,c,r])),p=h(l.addNestedSub,s.getState,u||s.getState,f,i);return(0,o.useDebugValue)(p),p}}const v=m();function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var E=n(8679),C=n.n(E),T=n(72973);const D=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function w(e,t,n,i,{areStatesEqual:r,areOwnPropsEqual:o,areStatePropsEqual:a}){let s,l,u,c,d,f=!1;function p(f,p){const g=!o(p,l),h=!r(f,s,p,l);return s=f,l=p,g&&h?(u=e(s,l),t.dependsOnOwnProps&&(c=t(i,l)),d=n(u,c,l),d):g?(e.dependsOnOwnProps&&(u=e(s,l)),t.dependsOnOwnProps&&(c=t(i,l)),d=n(u,c,l),d):h?function(){const t=e(s,l),i=!a(t,u);return u=t,i&&(d=n(u,c,l)),d}():d}return function(r,o){return f?p(r,o):(s=r,l=o,u=e(s,l),c=t(i,l),d=n(u,c,l),f=!0,d)}}function O(e){return function(t){const n=e(t);function i(){return n}return i.dependsOnOwnProps=!1,i}}function S(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function A(e,t){return function(t,{displayName:n}){const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=S(e);let r=i(t,n);return"function"==typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=S(r),r=i(t,n)),r},i}}function I(e,t){return(n,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function k(e,t,n){return y({},n,e,t)}const M={notify(){},get:()=>[]};function P(e,t){let n,i=M;function r(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(r):e.subscribe(r),i=function(){const e=s();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}const a={addNestedSub:function(e){return o(),i.subscribe(e)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=M)},getListeners:()=>i};return a}const R=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?o.useLayoutEffect:o.useEffect;function x(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(x(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!x(e[n[i]],t[n[i]]))return!1;return!0}const L=["reactReduxForwardedRef"];let F=g;const j=[null,null];function B(e,t,n,i,r,o){e.current=i,n.current=!1,r.current&&(r.current=null,o())}function W(e,t){return e===t}var U=function(e,t,n,{pure:i,areStatesEqual:r=W,areOwnPropsEqual:a=N,areStatePropsEqual:s=N,areMergedPropsEqual:l=N,forwardRef:u=!1,context:c=d}={}){const f=c,p=function(e){return e?"function"==typeof e?A(e):I(e,"mapStateToProps"):O((()=>({})))}(e),g=function(e){return e&&"object"==typeof e?O((t=>function(e,t){const n={};for(const i in e){const r=e[i];"function"==typeof r&&(n[i]=(...e)=>t(r(...e)))}return n}(e,t))):e?"function"==typeof e?A(e):I(e,"mapDispatchToProps"):O((e=>({dispatch:e})))}(t),h=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:i}){let r,o=!1;return function(t,n,a){const s=e(t,n,a);return o?i(s,r)||(r=s):(o=!0,r=s),r}}}(e):I(e,"mergeProps"):()=>k}(n),_=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,i={shouldHandleStateChanges:_,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:h,areStatesEqual:r,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function c(t){const[n,r,a]=o.useMemo((()=>{const{reactReduxForwardedRef:e}=t,n=b(t,L);return[t.context,e,n]}),[t]),s=o.useMemo((()=>n&&n.Consumer&&(0,T.isContextConsumer)(o.createElement(n.Consumer,null))?n:f),[n,f]),l=o.useContext(s),u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(l)&&Boolean(l.store);const d=u?t.store:l.store,p=c?l.getServerState:d.getState,g=o.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:i,initMergeProps:r}=t,o=b(t,D);return w(n(e,o),i(e,o),r(e,o),e,o)}(d.dispatch,i)),[d]),[h,m]=o.useMemo((()=>{if(!_)return j;const e=P(d,u?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,u,l]),v=o.useMemo((()=>u?l:y({},l,{subscription:h})),[u,l,h]),E=o.useRef(),C=o.useRef(a),O=o.useRef(),S=o.useRef(!1),A=(o.useRef(!1),o.useRef(!1)),I=o.useRef();R((()=>(A.current=!0,()=>{A.current=!1})),[]);const k=o.useMemo((()=>()=>O.current&&a===C.current?O.current:g(d.getState(),a)),[d,a]),M=o.useMemo((()=>e=>h?function(e,t,n,i,r,o,a,s,l,u,c){if(!e)return()=>{};let d=!1,f=null;const p=()=>{if(d||!s.current)return;const e=t.getState();let n,p;try{n=i(e,r.current)}catch(e){p=e,f=e}p||(f=null),n===o.current?a.current||u():(o.current=n,l.current=n,a.current=!0,c())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(_,d,h,g,C,E,S,A,O,m,e):()=>{}),[h]);var x,N,W;let U;x=B,N=[C,E,S,a,O,m],R((()=>x(...N)),W);try{U=F(M,k,p?()=>g(p(),a):k)}catch(e){throw I.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${I.current.stack}\n\n`),e}R((()=>{I.current=void 0,O.current=void 0,E.current=U}));const H=o.useMemo((()=>o.createElement(e,y({},U,{ref:r}))),[r,e,U]);return o.useMemo((()=>_?o.createElement(s.Provider,{value:v},H):H),[s,H,v])}const d=o.memo(c);if(d.WrappedComponent=e,d.displayName=c.displayName=n,u){const t=o.forwardRef((function(e,t){return o.createElement(d,y({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,C()(t,e)}return C()(d,e)}};var H=function({store:e,context:t,children:n,serverState:i,stabilityCheck:r="once",noopCheck:a="once"}){const s=o.useMemo((()=>{const t=P(e);return{store:e,subscription:t,getServerState:i?()=>i:void 0,stabilityCheck:r,noopCheck:a}}),[e,i,r,a]),l=o.useMemo((()=>e.getState()),[e]);R((()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[s,l]);const u=t||d;return o.createElement(u.Provider,{value:s},n)};function z(e=d){const t=e===d?p:f(e);return function(){const{store:e}=t();return e}}const G=z();function V(e=d){const t=e===d?G:z(e);return function(){return t().dispatch}}const $=V();var q,Z;q=r.useSyncExternalStoreWithSelector,h=q,(e=>{F=e})(i.useSyncExternalStore),Z=o.unstable_batchedUpdates,a=Z},88359:function(e,t){"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen");
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case f:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case h:case g:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===u}},72973:function(e,t,n){"use strict";e.exports=n(88359)},53894:function(e,t,n){"use strict";function i(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}n.r(t);var r=i();r.withExtraArgument=i,t.default=r},14890:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return s},applyMiddleware:function(){return h},bindActionCreators:function(){return p},combineReducers:function(){return d},compose:function(){return g},createStore:function(){return u},legacy_createStore:function(){return c}});var i=n(28683);function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(u)(e,t)}if("function"!=typeof e)throw new Error(r(2));var a=e,c=t,d=[],f=d,p=!1;function g(){f===d&&(f=d.slice())}function h(){if(p)throw new Error(r(3));return c}function _(e){if("function"!=typeof e)throw new Error(r(4));if(p)throw new Error(r(5));var t=!0;return g(),f.push(e),function(){if(t){if(p)throw new Error(r(6));t=!1,g();var n=f.indexOf(e);f.splice(n,1),d=null}}}function m(e){if(!l(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if(p)throw new Error(r(9));try{p=!0,c=a(c,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(r(10));a=e,m({type:s.REPLACE})}function y(){var e,t=_;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(r(11));function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o]=function(){return this},e}return m({type:s.INIT}),(i={dispatch:m,subscribe:_,getState:h,replaceReducer:v})[o]=y,i}var c=u;function d(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:s.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,o={},s=0;s<l.length;s++){var u=l[s],c=n[u],d=e[u],f=c(d,t);if(void 0===f){t&&t.type;throw new Error(r(14))}o[u]=f,i=i||f!==d}return(i=i||l.length!==Object.keys(e).length)?o:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error(r(16));var n={};for(var i in e){var o=e[i];"function"==typeof o&&(n[i]=f(o,t))}return n}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(r(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));return o=g.apply(void 0,s)(n.dispatch),(0,i.Z)((0,i.Z)({},n),{},{dispatch:o})}}}},6189:function(e,t,n){var i=n(7966);e.exports=function(e){return i(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},71788:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(r,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():i.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var r=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},7966:function(e,t,n){var i=n(71788);e.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},38869:function(e,t,n){"use strict";n.r(t),n.d(t,{CampaignPopupContainer:function(){return M}});var i=n(16584),r=n(98661),o=n(63664),a=n(138),s=n(74379),l=n(75998),u=n(49979),c=n(92246),d=n(19955),f=n(24111),p=n(65138),g=n(79105),h=n(42601),_=n(97979),m=n(45948),v=n(68403),y=n(47060),b=n(26932),E=n(73422);var C=n(65648);const T=(e,{stringFormat:t}={stringFormat:!1})=>{4===e.length&&(e=`${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`);const n={r:0,g:0,b:0},i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&(n.r=parseInt(i[1],16),n.g=parseInt(i[2],16),n.b=parseInt(i[3],16)),t?`rgb(${n.r}, ${n.g}, ${n.b})`:n},D={white:{button:"",buttonText:"",background:"#ffffff",text:"#1B1F23",inputText:"#1B1F23",inputBg:"#ffffff",inputBorder:"#C6CBD1",inputPlaceholder:"#959DA5",eulaText:"#959da5",link:"#367fee",pollCellText:"#ffffff",pollCellTextHover:"#ffffff",pollCellBg:"#1B1F23",closeButton:"#6A737D",closeButtonBg:"#00000033",backgroundImg:"",backgroundImgAlpha:"0"},dark:{button:"",buttonText:"",background:"#24292E",text:"#ffffff",inputText:"#ffffff",inputBg:"#ffffff1a",inputBorder:"#D1D5DA",inputPlaceholder:"#D1D5DA",eulaText:"#ffffff",link:"#ffffff",pollCellText:"#1B1F23",pollCellTextHover:"#ffffff",pollCellBg:"#ffffff",closeButton:"#ffffff",closeButtonBg:"#ffffff33",backgroundImg:"",backgroundImgAlpha:"0"},black:{button:"",buttonText:"",background:"#000000",text:"#ffffff",inputText:"#ffffff",inputBg:"#ffffff1a",inputBorder:"#D1D5DA",inputPlaceholder:"#D1D5DA",eulaText:"#ffffff",link:"#ffffff",pollCellText:"#1B1F23",pollCellTextHover:"#ffffff",pollCellBg:"#ffffff",closeButton:"#ffffff",closeButtonBg:"#ffffff33",backgroundImg:"",backgroundImgAlpha:"0"},colored:{button:"",buttonText:"",background:"",text:"#ffffff",inputText:"#ffffff",inputBg:"#ffffff1a",inputBorder:"#D1D5DA",inputPlaceholder:"#D1D5DA",eulaText:"#ffffff",link:"#ffffff",pollCellText:"#ffffff",pollCellTextHover:"#ffffff",pollCellBg:"#1B1F2380",closeButton:"#ffffff",closeButtonBg:"#00000033",backgroundImg:"",backgroundImgAlpha:"0"}},w=(e,{backgroundImgSrc:t,backgroundOpacity:n,position:i})=>{const{type:r,color:o}=e,a=Boolean(o)&&"light"===(e=>("string"==typeof e&&(e=T(e)),(299*e.r+587*e.g+114*e.b)/1e3/255>.75?"light":"dark"))(o),s=Object.assign(Object.assign({},D[r]),{button:o,buttonText:a?"#1B1F23":"#ffffff",background:"colored"===r?o:D[r].background,backgroundImg:t?`url(${t})`:D[r].backgroundImg,backgroundImgAlpha:n?""+n/100:D[r].backgroundImgAlpha});return r&&o?["top_width","right_width"].includes(i)?Object.assign(Object.assign({},s),{closeButton:"#ffffff",closeButtonBg:"#00000033"}):s:D.white},O=()=>{var e;const{app:t}=(0,f.useAppSelector)(h.selectZoom),{route:n}=(0,f.useAppSelector)(p.selectApp),i=(0,f.useAppSelector)(g.selectEula),o=(0,f.useAppSelector)(g.selectBillRu),a=(0,f.useAppSelector)(_.selectClient),{target:s,previewTargetDesktop:l,previewTargetMobile:u,type:c,position:T,marking_ad_text:D,theme:O,blackout:S,screens:A,hide_logo:I,activeScreen:k,display:M,campaignId:P,clientAnswerId:R,onSubmitActionCallback:x,answerData:N,frequency:L,isMobileView:F,isGalleryView:j}=(e=>{const t="modal"===e.type,n=Object.assign({},e);return"modal"!==n.type&&"float"!==n.type||(n.type="standard"),(0,E.isNil)(n.blackout)&&(n.blackout=t),n.screens.length>0&&(n.screens=n.screens.map((e=>{const t=Object.assign({},e);return"nps_poll"===t.action&&(t.action="poll",t.poll_type="nps",t.poll_icon="numbers"),t.img_src&&"background"===t.img_position&&(t.background_img_src=t.img_src,delete t.img_src),t.background_img_src&&(0,E.isNil)(t.background_img_opacity)&&(t.background_img_opacity=55),t}))),n})((0,f.useAppSelector)(g.selectCampaignPopupSettings)),B=(e=>{const t=(0,f.useAppSelector)(g.selectCampaigns);return(0,r.useMemo)((()=>{if(!(0,E.isNil)(e)&&!(0,E.isNil)(t))return t.find((t=>t.campaign_id===e))}),[e])})(P),[W,U]=(0,r.useState)(!1),H=A[k],z=A.length-1,G=Boolean(F||d.default.mobile()),V=Boolean(d.default.mobileOrTablet()),$=A.length>0&&0===k,q=A.length>1&&k===z,Z=Boolean(m.isPopupConstructor),K=Boolean(Z&&(l||u)),Y=!Z&&Boolean(S),J=!(I||!(0,v.showAd)()),X=n===y.Route.CALL_POPUP,Q=(0,C.bt)(T,G),ee=(0,C.oL)(c,G),{position:te}=(0,C.gk)(null==H?void 0:H.img_src,null==H?void 0:H.img_position,G),ne=w(O,{backgroundImgSrc:null==H?void 0:H.background_img_src,backgroundOpacity:null==H?void 0:H.background_img_opacity,position:te}),ie=o?"logo-jivosite":"logo-jivochat",re=Boolean(i)&&!a.eulaAccepted;(0,r.useEffect)((()=>{Z&&b.appDispatchers.setHiddenByRules(!0)}),[]);const[oe,ae]=(0,r.useState)({width:0,height:0});return{type:ee,position:Q,theme:ne,themeOptions:O,logoType:ie,markingAdText:D,screenSettings:H,screensCount:A.length,zoom:t,activeScreen:k,constructorOptions:{target:s,previewTargetDesktop:l,previewTargetMobile:u,themeOptions:O,screens:K?A.concat(A):void 0},campaign:{title:null==B?void 0:B.title,campaignId:null==B?void 0:B.campaign_id,endTs:null==B?void 0:B.end_ts,tagId:null==B?void 0:B.tag_id,enableNotifications:null!==(e=null==B?void 0:B.enable_widget_notification)&&void 0!==e&&e,image:{width:oe.width,height:oe.height},clientAnswerId:R,answerData:N,frequency:L,onSubmitActionCallback:x,onImageLoaded:e=>{ae({width:e.width,height:e.height})}},isMobile:G,isMobileOrTablet:V,isFirstScreen:$,isLastScreen:q,isEULA:re,isBlackout:Y,isShowLogo:J,isDisplay:M,isConstructor:Z,isPreview:K,isCallbackPopup:X,isGalleryView:j,isSending:W,setSending:U}};var S=n(22932);const A=({type:e,screens:t,theme:n,desktopAnchor:o,mobileAnchor:a,renderItem:s})=>{const{document:l}=(0,S.getPageWindow)(),u=l.getElementById(o),c=l.getElementById(a),d=t.length,f=d/2,p=!(d>2);let g=0;return u||c?(0,i.tZ)(i.HY,{children:t.map(((t,o)=>{const a=o>=f,l={screenKey:`screen-${a?`mobile${g+1}`:o+1}`,type:a?"standard":e,theme:w(n,{backgroundImgSrc:null==t?void 0:t.background_img_src,backgroundOpacity:null==t?void 0:t.background_img_opacity,position:null==t?void 0:t.img_position}),screenSettings:t,isMobile:a,isFirstScreen:a?0===g:0===o,isLastScreen:Boolean(!p&&(a?o===d-1:o===f-1))};a&&g++;const h=a?c:u;return h?(0,r.createPortal)((0,i.tZ)(i.HY,{children:s(l)}),h):null}))}):null},I=({children:e,target:t,screensCount:n})=>{const o=(0,S.getPageWindow)().document.getElementById(t);return!o||n<=0?null:(0,r.createPortal)((0,i.tZ)(i.HY,{children:e}),o)},k=(0,r.lazy)((()=>n.e(116).then(n.bind(n,34116)))),M=()=>{(0,o.useErrorCatcher)(M.displayName);const e=O(),{isConstructor:t,isPreview:n,constructorOptions:d,type:f,campaign:p,activeScreen:g,screensCount:h,isFirstScreen:_,isLastScreen:m,isDisplay:v,isBlackout:y,isGalleryView:b}=e,[C,T]=(0,r.useState)(!1),D=(0,r.useCallback)((()=>{T(!0),!t&&y&&s.default.blockScroll()}),[t,y]),w=(0,r.useCallback)((e=>{T(!1);const n=setTimeout((()=>{l.campaignPopupDispatch.reset(),clearTimeout(n)}),250);t||(y&&s.default.unblockScroll(),p&&_&&a.default.trackPopupClosed(p.title),p.enableNotifications&&(0,E.isNumber)(null==e?void 0:e.poll_rate)&&(0,u.D)({campaign_id:p.campaignId,clientAnswer:e,image:p.image}))}),[p,t,_,y]),S=(0,r.useCallback)((e=>{if(t)return;const n=g+1;m?w():n!==h&&(l.campaignPopupDispatch.setActiveScreen(n),p.enableNotifications&&(0,E.isNumber)(null==e?void 0:e.poll_rate)&&(0,u.D)({campaign_id:p.campaignId,clientAnswer:e,image:p.image}))}),[t,p,g,m,h]);return(0,r.useEffect)((()=>{b&&(v?D():w())}),[b,v]),(0,i.tZ)(c.t.Provider,Object.assign({value:e},{children:t?n?(0,i.tZ)(A,{type:f,theme:d.themeOptions,screens:d.screens,desktopAnchor:d.previewTargetDesktop,mobileAnchor:d.previewTargetMobile,renderItem:e=>(0,i.tZ)(r.Suspense,Object.assign({fallback:null},{children:(0,i.tZ)(k,{isVisible:C,onMounted:D,onClose:w,onSetNextScreen:S,previewProps:e})}))}):b?(0,i.tZ)(r.Suspense,Object.assign({fallback:null},{children:(0,i.tZ)(k,{isVisible:C,onMounted:D,onClose:w,onSetNextScreen:S})})):(0,i.tZ)(I,Object.assign({target:d.target,screensCount:h},{children:(0,i.tZ)(r.Suspense,Object.assign({fallback:null},{children:(0,i.tZ)(k,{isVisible:C,onMounted:D,onClose:w,onSetNextScreen:S})}))})):v?(0,i.tZ)(r.Suspense,Object.assign({fallback:null},{children:(0,i.tZ)(k,{isVisible:C,onMounted:D,onClose:w,onSetNextScreen:S})})):null}))};M.displayName="CampaignPopupContainer"},92246:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});const i={type:"standard",theme:void 0,themeOptions:void 0,zoom:0,activeScreen:0,position:"top_center",logoType:"",markingAdText:"",screenSettings:void 0,screensCount:0,constructorOptions:void 0,campaign:void 0,isMobile:!1,isMobileOrTablet:!1,isFirstScreen:!1,isLastScreen:!1,isEULA:!1,isBlackout:!1,isShowLogo:!1,isDisplay:!1,isConstructor:!1,isPreview:!1,isCallbackPopup:!1,isGalleryView:!1,isSending:!1,setSending:void 0},r=n(98661).default.createContext(i)},65648:function(e,t,n){"use strict";n.d(t,{bt:function(){return i},gk:function(){return o},oL:function(){return r}});const i=(e,t)=>t?"top_center":e,r=(e,t)=>t?"standard":e,o=(e,t,n)=>{const i=Boolean(e)&&["left_width","top_width","right_width"].includes(t);return i&&n?{position:"top_width",isWideImage:i}:{position:t,isWideImage:i}}},90883:function(e,t,n){"use strict";n.r(t),n.d(t,{LoaderWrap:function(){return E}});var i=n(16584),r=(n(98661),n(36113)),o=n(94184),a=n.n(o),s=n(47060),l=n(35233),u=n(20344),c=n(19955),d=n(22932),f=n(80797),p="loadingWrap__X5ftX",g="__mobile__JQuio",h="header__Tjedk",_="headerText__M37E4",m="loadingBg__cP8uP",v="gradient__VPBfE",y=n(57147),b=n(47548);const E=({onCloseButtonClick:e,text:t})=>{const{isWidgetConstructor:n,isPreview:o}=(0,f.useWidgetConstructorContext)(),E=c.default.mobileOrTablet()||(0,d.isChatPage)(),C=(0,r.useSelector)(l.selectRoute)!==s.Route.CHAT_MIN,T=a()({[p]:!0,[g]:E});return(0,i.BX)("jdiv",Object.assign({className:T},{children:[(0,i.BX)("jdiv",Object.assign({className:h},{children:[(o||!n)&&(0,i.tZ)(b.default,{drag:!1,callEnabled:!1,inCall:!1,show:C,onClick:()=>{e&&e()},ignoreDragHeight:!1}),E?null:(0,i.tZ)(y.default,{onClick:()=>{},orientation:"bottom",backgroundColor:"#eaeaea",online:!0}),(0,i.tZ)("jdiv",Object.assign({className:_},{children:(0,u.l10n)("cb_loading")}))]})),(0,i.BX)("jdiv",Object.assign({className:m},{children:[t||null,(0,i.tZ)("jdiv",{className:v})]}))]}))}},15245:function(e,t,n){"use strict";n.r(t),n.d(t,{RootSwitch:function(){return _}});var i=n(16584),r=n(98661),o=n(97615),a=n(22932),s=n(29854),l=n(24111);const u=e=>e.extensions.target,c=({children:e})=>{const t=(()=>{const e=(0,l.useAppSelector)(u);return{target:e,isWidgetTarget:Boolean(e),isWidgetExtensions:!0}})(),{target:n,isWidgetTarget:o}=t,{document:c}=(0,a.getPageWindow)(),d=o?c.getElementById(n):null,f=(0,i.tZ)(s.M.Provider,Object.assign({value:t},{children:e}));return d?(0,r.createPortal)(f,d):f};var d=n(11297),f=n(79105),p=n(56163),g=n(26932);const h=({children:e})=>{const t=(0,l.useAppSelector)(f.selectCampaignWidgetMobileProactive),n=(()=>{const e=(0,l.useAppSelector)(f.selectCampaignWidgetMobileView),t=(0,l.useAppSelector)(f.selectCampaignWidgetPreview);return(0,r.useEffect)((()=>{g.appDispatchers.setHiddenByRules(!0),g.appDispatchers.setIsInputDisabled(!0)}),[]),{isPreview:t,isMobileView:e,isWidgetConstructor:!0}})(),{isMobileView:o,isPreview:a}=n;return(0,i.BX)(p.e.Provider,Object.assign({value:n},{children:[!a&&(0,i.tZ)("style",{children:"body > jdiv {display: none;}"}),e,o&&(0,i.tZ)(d.default,{show:!0,orientation:"right",campaignWidgetMobileProactive:t})]}))},_=({children:e})=>{const t=o.EnvironmentManager.isExtensionsEnable();let n=e;return o.EnvironmentManager.isWidgetConstructor()&&(n=(0,i.tZ)(h,{children:n})),t&&(n=(0,i.tZ)(c,{children:n})),(0,i.tZ)(i.HY,{children:n})}},36874:function(e,t,n){"use strict";n.r(t),n.d(t,{colorsFromFigma:function(){return o}});var i=JSON.parse('{"blue-80":"#0b82f7","blue-90":"#086bcd","red-80":"#ff3b30","red-90":"#e54c44","green-70":"#00d376","green-90":"#12a730","green-80":"#18c139","steel-80":"#445669","steel-90":"#303f4e","white-38":"rgba(255, 255, 255, 0.38)","white-74":"rgba(255, 255, 255, 0.84)","white-100":"#ffffff","greyscale-30":"#ededed","greyscale-20":"#f9fafc","grayscale-12":"rgba(0, 0, 0, 0.12)","grayscale-38":"rgba(0, 0, 0, 0.38)","grayscale-60":"rgba(0, 0, 0, 0.6)","grayscale-87":"rgba(0, 0, 0, 0.87)"}');const r=JSON.parse(JSON.stringify(i)),o=Object.keys(r).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toUpperCase().replace("-","_")]:r[t]})),{})},81351:function(e,t,n){"use strict";n.r(t),n.d(t,{DisconnectAlert:function(){return k}});var i=n(16584),r=n(98661),o=n(94184),a=n.n(o),s=n(43832),l=n(20344),u=n(24785),c=n(36874),d=n(36113),f=n(54415),p=n(83170),g=n(49862),h=n(81366),_=n(35233),m=n(65138);const v="online",y="offline",b="reconnect",E={stage:v,reconnects:0,disconnectTime:null,reconnectTime:null};function C(e,t){switch(t.type){case v:return Object.assign(Object.assign({},e),{stage:v});case y:return Object.assign(Object.assign({},e),{stage:y,disconnectTime:Date.now()});case b:return Object.assign(Object.assign({},e),{stage:b,reconnects:e.reconnects+1,reconnectTime:Date.now()});default:return e}}var T="container__JrKZG",D="wrapper__egiVU",w="__show__F6tK6",O="main__UYJd7",S="offline__J1MnE",A="reconnect__A2SQM",I="icon__zSvWc";const k=({children:e,onReconnect:t})=>{const{isOnline:n,isOffline:o,isReconnect:k,onTransition:M}=function(e){const[t,n]=(0,r.useReducer)(C,E),{route:i}=(0,d.useSelector)(m.selectApp),o=(0,h.c)(),a=(0,d.useSelector)(_.selectChatStarted),s=t.stage===v,l=t.stage===y,u=t.stage===b;return(0,r.useEffect)((function(){return o||u?o&&l?n({type:b}):void 0:n({type:y})}),[l,o,u]),(0,g.useDidUpdate)((function(){a&&f.Monitoring.telemetry(p.TelemetryName.RECONNECTION,{param1:i,param2:t.reconnects,param3:t.reconnectTime&&t.disconnectTime?Math.floor(t.reconnectTime-t.disconnectTime)/1e3:null})}),[t.reconnectTime]),{isOnline:s,isOffline:l,isReconnect:u,onTransition:function(t){t.stopPropagation(),u&&(null==e||e(),n({type:v}))}}}(t);return(0,i.BX)(i.HY,{children:[(0,i.tZ)("jdiv",Object.assign({className:T},{children:(0,i.tZ)("jdiv",Object.assign({className:a()(D,{[w]:o||k})},{children:(0,i.BX)("jdiv",Object.assign({className:a()(O,{[S]:o,[A]:k}),onTransitionEnd:M},{children:[o&&(0,l.l10n)("disconnect_msg"),k&&(0,i.BX)(i.HY,{children:[(0,l.l10n)("reconnect_msg"),(0,i.tZ)(u.SvgIcon,{icon:s.default,color:c.colorsFromFigma.GREEN_80,className:I})]})]}))}))})),n&&e?e:null]})}},72665:function(e,t,n){"use strict";n.r(t),n.d(t,{LandscapeOverlay:function(){return y}});var i=n(16584),r=(n(98661),n(94184)),o=n.n(r),a=n(24111),s=n(42601),l=n(43417),u=n(65138),c=n(74379),d=n(21476),f=n(47060),p=n(19955);const g=(e,t)=>{const n=[f.Route.LABEL,f.Route.HIDDEN].includes(e);return!(p.default.tablet()||!t||n)};var h="container__ps7Uv",_="__visible__DHm8p",m="__zoomPadding__ckN4c",v="image__YxgzM";const y=()=>{const{user:e}=(0,a.useAppSelector)(s.selectZoom),t=(0,a.useAppSelector)(u.selectRoute),n="landscape"===c.default.getOrientation();return(0,i.tZ)("jdiv",Object.assign({className:o()(h,{[_]:g(t,n),[m]:e&&e>1})},(0,l.onClickHandler)((()=>d.Router.next(f.RouterEvent.CloseWindow)),!0,!0),{children:(0,i.tZ)("jdiv",{className:v})}))}},56443:function(e,t,n){"use strict";n.r(t),n.d(t,{Markdown:function(){return de}});var i=n(16584),r=n(98661),o=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},a=(e,t,n)=>(((e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)})(e,t,"access private method"),n);function s(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var l={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};function u(e){l=e}var c=/[&<>"']/,d=new RegExp(c.source,"g"),f=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,p=new RegExp(f.source,"g"),g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=e=>g[e];function _(e,t){if(t){if(c.test(e))return e.replace(d,h)}else if(f.test(e))return e.replace(p,h);return e}var m=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function v(e){return e.replace(m,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var y=/(^|[^\[])\^/g;function b(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,i)=>(i=(i="object"==typeof i&&"source"in i?i.source:i).replace(y,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}var E=/[^\w:]/g,C=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function T(e,t,n){if(e){let e;try{e=decodeURIComponent(v(n)).replace(E,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!C.test(n)&&(n=function(e,t){D[" "+e]||(w.test(e)?D[" "+e]=e+"/":D[" "+e]=k(e,"/",!0));const n=-1===(e=D[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(O,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(S,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var D={},w=/^[^:]+:\/*[^/]*$/,O=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/;var A={exec:()=>null};function I(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function k(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.slice(0,i-r)}function M(e,t,n,i){const r=t.href,o=t.title?_(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:r,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:o,text:_(a)}}var P=class{constructor(e){this.options=e||l}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:k(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=k(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,o,a,s,l,u,c,d,f,p,g=t[1].trim();const h=g.length>1,_={type:"list",raw:"",ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]};g=h?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=h?g:"[*+-]");const m=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=m.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],this.options.pedantic?(o=2,f=u.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,f=u.slice(o),o+=t[1].length),s=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),a=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(d=e.split("\n",1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(c))&&!a.test(c)&&!t.test(c)&&!i.test(e);){if(c.search(/[^ ]/)>=o||!c.trim())f+="\n"+c.slice(o);else{if(s)break;if(u.search(/[^ ]/)>=4)break;if(r.test(u))break;if(a.test(u))break;if(i.test(u))break;f+="\n"+c}s||c.trim()||(s=!0),n+=d+"\n",e=e.substring(d.length+1),u=c.slice(o)}}_.loose||(l?_.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(f),i&&(r="[ ] "!==i[0],f=f.replace(/^\[[ xX]\] +/,""))),_.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:f}),_.raw+=n}_.items[_.items.length-1].raw=n.trimRight(),_.items[_.items.length-1].text=f.trimRight(),_.raw=_.raw.trimRight();const v=_.items.length;for(a=0;a<v;a++)if(this.lexer.state.top=!1,_.items[a].tokens=this.lexer.blockTokens(_.items[a].text,[]),!_.loose){const e=_.items[a].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));_.loose=t}if(_.loose)for(a=0;a<v;a++)_.items[a].loose=!0;return _}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):_(t[0]),i=e;i.type="paragraph",i.text=n,i.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:I(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i,r,o,a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(a=e.rows.length,n=0;n<a;n++)e.rows[n]=I(e.rows[n],e.header.length).map((e=>({text:e})));for(a=e.header.length,i=0;i<a;i++)e.header[i].tokens=this.lexer.inline(e.header[i].text);for(a=e.rows.length,i=0;i<a;i++)for(o=e.rows[i],r=0;r<o.length;r++)o[r].tokens=this.lexer.inline(o[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:_(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):_(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=k(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),M(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return M(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=i[0].length-1;let r,o,a=n,s=0;const l="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(o=r.length,i[3]||i[4]){a+=o;continue}if((i[5]||i[6])&&n%3&&!((n+o)%3)){s+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+s);const t=e.slice(0,n+i.index+o+1);if(Math.min(n,o)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=_(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=_(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=_(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=_(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=_(n[0]),i="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):_(n[0]):n[0]:_(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}},R={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:A,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};R.def=b(R.def).replace("label",R._label).replace("title",R._title).getRegex(),R.bullet=/(?:[*+-]|\d{1,9}[.)])/,R.listItemStart=b(/^( *)(bull) */).replace("bull",R.bullet).getRegex(),R.list=b(R.list).replace(/bull/g,R.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+R.def.source+")").getRegex(),R._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",R._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,R.html=b(R.html,"i").replace("comment",R._comment).replace("tag",R._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),R.lheading=b(R.lheading).replace(/bull/g,R.bullet).getRegex(),R.paragraph=b(R._paragraph).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",R._tag).getRegex(),R.blockquote=b(R.blockquote).replace("paragraph",R.paragraph).getRegex(),R.normal={...R},R.gfm={...R.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},R.gfm.table=b(R.gfm.table).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",R._tag).getRegex(),R.gfm.paragraph=b(R._paragraph).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",R.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",R._tag).getRegex(),R.pedantic={...R.normal,html:b("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",R._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:A,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:b(R.normal._paragraph).replace("hr",R.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",R.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:A,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:A,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};function N(e){return e.replace(/---/g,"‚Äî").replace(/--/g,"‚Äì").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‚Äò").replace(/'/g,"‚Äô").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1‚Äú").replace(/"/g,"‚Äù").replace(/\.{3}/g,"‚Ä¶")}function L(e){let t,n,i="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}x._punctuation="\\p{P}$+<=>`^|~",x.punctuation=b(x.punctuation,"u").replace(/punctuation/g,x._punctuation).getRegex(),x.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,x.anyPunctuation=/\\[punct]/g,x._escapes=/\\([punct])/g,x._comment=b(R._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),x.emStrong.lDelim=b(x.emStrong.lDelim,"u").replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimAst=b(x.emStrong.rDelimAst,"gu").replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimUnd=b(x.emStrong.rDelimUnd,"gu").replace(/punct/g,x._punctuation).getRegex(),x.anyPunctuation=b(x.anyPunctuation,"gu").replace(/punct/g,x._punctuation).getRegex(),x._escapes=b(x._escapes,"gu").replace(/punct/g,x._punctuation).getRegex(),x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,x.autolink=b(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex(),x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,x.tag=b(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex(),x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,x.link=b(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex(),x.reflink=b(x.reflink).replace("label",x._label).replace("ref",R._label).getRegex(),x.nolink=b(x.nolink).replace("ref",R._label).getRegex(),x.reflinkSearch=b(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex(),x.normal={...x},x.pedantic={...x.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()},x.gfm={...x.normal,escape:b(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},x.gfm.url=b(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex(),x.breaks={...x.gfm,br:b(x.br).replace("{2,}","*").getRegex(),text:b(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};var F,j,B,W,U=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||l,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:R.normal,inline:x.normal};this.options.pedantic?(t.block=R.pedantic,t.inline=x.pedantic):this.options.gfm&&(t.block=R.gfm,this.options.breaks?t.inline=x.breaks:t.inline=x.gfm),this.tokenizer.rules=t}static get rules(){return{block:R,inline:x}}static lex(e,t){return new U(t).lex(e)}static lexInline(e,t){return new U(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,r,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((e=>{i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))i=t[t.length-1],o&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),o=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,o,a,s,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,L))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,L))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((e=>{i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,N))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}},H=class{constructor(e){this.options=e||l}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+_(i)+'">'+(n?e:_(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:_(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n,i){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+i.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=T(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=T(this.options.sanitize,this.options.baseUrl,e)))return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}},z=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},G=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++,n=e+"-"+i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},V=class{constructor(e){this.options=e||l,this.options.renderer=this.options.renderer||new H,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new z,this.slugger=new G}static parse(e,t){return new V(t).parse(e)}static parseInline(e,t){return new V(t).parseInline(e)}parse(e,t=!0){let n,i,r,o,a,s,l,u,c,d,f,p,g,h,_,m,y,b,E,C="";const T=e.length;for(n=0;n<T;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(E=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==E||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))C+=E||"";else switch(d.type){case"space":continue;case"hr":C+=this.renderer.hr();continue;case"heading":C+=this.renderer.heading(this.parseInline(d.tokens),d.depth,v(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":C+=this.renderer.code(d.text,d.lang,!!d.escaped);continue;case"table":for(u="",l="",o=d.header.length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(d.header[i].tokens),{header:!0,align:d.align[i]});for(u+=this.renderer.tablerow(l),c="",o=d.rows.length,i=0;i<o;i++){for(s=d.rows[i],l="",a=s.length,r=0;r<a;r++)l+=this.renderer.tablecell(this.parseInline(s[r].tokens),{header:!1,align:d.align[r]});c+=this.renderer.tablerow(l)}C+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(d.tokens),C+=this.renderer.blockquote(c);continue;case"list":for(f=d.ordered,p=d.start,g=d.loose,o=d.items.length,c="",i=0;i<o;i++)_=d.items[i],m=_.checked,y=_.task,h="",_.task&&(b=this.renderer.checkbox(!!m),g?_.tokens.length>0&&"paragraph"===_.tokens[0].type?(_.tokens[0].text=b+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&"text"===_.tokens[0].tokens[0].type&&(_.tokens[0].tokens[0].text=b+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:b}):h+=b),h+=this.parse(_.tokens,g),c+=this.renderer.listitem(h,y,!!m);C+=this.renderer.list(c,f,p);continue;case"html":C+=this.renderer.html(d.text,d.block);continue;case"paragraph":C+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(c=d.tokens?this.parseInline(d.tokens):d.text;n+1<T&&"text"===e[n+1].type;)d=e[++n],c+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);C+=t?this.renderer.paragraph(c):c;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}return C}parseInline(e,t){t=t||this.renderer;let n,i,r,o="";const a=e.length;for(n=0;n<a;n++)if(i=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(r=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))o+=r||"";else switch(i.type){case"escape":case"text":o+=t.text(i.text);break;case"html":o+=t.html(i.text);break;case"link":o+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":o+=t.image(i.href,i.title,i.text);break;case"strong":o+=t.strong(this.parseInline(i.tokens,t));break;case"em":o+=t.em(this.parseInline(i.tokens,t));break;case"codespan":o+=t.codespan(i.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(i.tokens,t));break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}return o}},$=class{constructor(e){this.options=e||l}preprocess(e){return e}postprocess(e){return e}};$.passThroughHooks=new Set(["preprocess","postprocess"]);F=new WeakSet,j=function(e,t){return(n,i,r)=>{"function"==typeof i&&(r=i,i=null);const o={...i},s={...this.defaults,...o},l=a(this,B,W).call(this,!!s.silent,!!s.async,r);if(null==n)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e,t){e&&!e.silent&&(t&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(e.sanitize||e.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(e.highlight||"language-"!==e.langPrefix)&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),e.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),e.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),e.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),e.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(e.headerIds||e.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}(s,r),s.hooks&&(s.hooks.options=s),r){const i=s.highlight;let o;try{s.hooks&&(n=s.hooks.preprocess(n)),o=e(n,s)}catch(e){return l(e)}const a=e=>{let n;if(!e)try{s.walkTokens&&this.walkTokens(o,s.walkTokens),n=t(o,s),s.hooks&&(n=s.hooks.postprocess(n))}catch(t){e=t}return s.highlight=i,e?l(e):r(null,n)};if(!i||i.length<3)return a();if(delete s.highlight,!o.length)return a();let u=0;return this.walkTokens(o,(e=>{"code"===e.type&&(u++,setTimeout((()=>{i(e.text,e.lang,((t,n)=>{if(t)return a(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),u--,0===u&&a()}))}),0))})),void(0===u&&a())}if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then((t=>e(t,s))).then((e=>s.walkTokens?Promise.all(this.walkTokens(e,s.walkTokens)).then((()=>e)):e)).then((e=>t(e,s))).then((e=>s.hooks?s.hooks.postprocess(e):e)).catch(l);try{s.hooks&&(n=s.hooks.preprocess(n));const i=e(n,s);s.walkTokens&&this.walkTokens(i,s.walkTokens);let r=t(i,s);return s.hooks&&(r=s.hooks.postprocess(r)),r}catch(e){return l(e)}}},B=new WeakSet,W=function(e,t,n){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+_(i.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(i);if(!n)throw i;n(i)}};var q=new class{constructor(...e){o(this,F),o(this,B),this.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},this.options=this.setOptions,this.parse=a(this,F,j).call(this,U.lex,V.parse),this.parseInline=a(this,F,j).call(this,U.lexInline,V.parseInline),this.Parser=V,this.parser=V.parse,this.Renderer=H,this.TextRenderer=z,this.Lexer=U,this.lexer=U.lex,this.Tokenizer=P,this.Slugger=G,this.Hooks=$,this.use(...e)}walkTokens(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":for(const e of i.header)n=n.concat(this.walkTokens(e.tokens,t));for(const e of i.rows)for(const i of e)n=n.concat(this.walkTokens(i.tokens,t));break;case"list":n=n.concat(this.walkTokens(i.items,t));break;default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach((e=>{n=n.concat(this.walkTokens(i[e],t))})):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new H(this.defaults);for(const n in e.renderer){const i=t[n];t[n]=(...r)=>{let o=e.renderer[n].apply(t,r);return!1===o&&(o=i.apply(t,r)),o}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new P(this.defaults);for(const n in e.tokenizer){const i=t[n];t[n]=(...r)=>{let o=e.tokenizer[n].apply(t,r);return!1===o&&(o=i.apply(t,r)),o}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new $;for(const n in e.hooks){const i=t[n];$.passThroughHooks.has(n)?t[n]=r=>{if(this.defaults.async)return Promise.resolve(e.hooks[n].call(t,r)).then((e=>i.call(t,e)));const o=e.hooks[n].call(t,r);return i.call(t,o)}:t[n]=(...r)=>{let o=e.hooks[n].apply(t,r);return!1===o&&(o=i.apply(t,r)),o}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens;n.walkTokens=function(n){let i=[];return i.push(e.walkTokens.call(this,n)),t&&(i=i.concat(t.call(this,n))),i}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}};function Z(e,t,n){return q.parse(e,t,n)}Z.options=Z.setOptions=function(e){return q.setOptions(e),Z.defaults=q.defaults,u(Z.defaults),Z},Z.getDefaults=s,Z.defaults=l,Z.use=function(...e){return q.use(...e),Z.defaults=q.defaults,u(Z.defaults),Z},Z.walkTokens=function(e,t){return q.walkTokens(e,t)},Z.parseInline=q.parseInline,Z.Parser=V,Z.parser=V.parse,Z.Renderer=H,Z.TextRenderer=z,Z.Lexer=U,Z.lexer=U.lex,Z.Tokenizer=P,Z.Slugger=G,Z.Hooks=$,Z.parse=Z;Z.options,Z.setOptions,Z.use,Z.walkTokens,Z.parseInline,V.parse;var K=U.lex,Y=n(30633),J=n(79225),X=n(94184),Q=n.n(X),ee=n(54415),te=n(83170);const ne=/&(?:amp|lt|gt|quot|#(0+)?39);/g,ie=RegExp(ne.source),re={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var oe=n(7466),ae={wrapper:"wrapper__RE7bo","heading-1":"heading-1__B1inb",text:"text__NTcgj",imageContainer:"imageContainer__Lo5wT",imageLink:"imageLink__QYWd5",image:"image__pTsjq",mediaType:"mediaType__o829Y",blockquote:"blockquote__CuMsb",paragraph:"paragraph__cjXwx",list:"list__ayNJ8",listItem:"listItem__to6X3",marker:"marker__ezzII",unordered:"unordered__VJ8hl",content:"content__msvSZ",strong:"strong__I542f",italic:"italic__amb4b",strikethrough:"strikethrough__B_mhi",link:"link__TJiny",emoji:"emoji__W2rxP"};const se=({containerClassName:e,className:t,href:n,title:r})=>{const o=Boolean(n&&(n.includes("youtube")||n.includes("youtu.be"))),a=Boolean(n&&!o&&n.includes(".gif")),s=(0,i.BX)(i.HY,{children:[(0,i.tZ)("img",{src:n,title:r,className:Q()(ae.image,t)}),o||a?(0,i.tZ)("jdiv",Object.assign({className:ae.mediaType},{children:o?"YouTube":"GIF"})):null]});return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.imageContainer,e)},{children:o?(0,i.tZ)("a",Object.assign({href:n,title:r,target:"_blank",rel:"nofollow noopener noreferrer",className:ae.imageLink},{children:s})):s}))},le=({className:e,listItemClassName:t,markerClassName:n,contentClassName:r,items:o,ordered:a,startNumber:s,parseToken:l})=>(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.list,e)},{children:o.map(((e,o)=>{var u;return(0,i.BX)("jdiv",Object.assign({className:Q()(ae.listItem,t)},{children:[(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.marker,n,{[ae.unordered]:!a})},{children:a?`${s+o}.`:(0,i.tZ)(i.HY,{children:"‚Ä¢"})})),(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.content,r)},{children:null===(u=e.tokens)||void 0===u?void 0:u.map(l)}))]}),e.raw)}))})),ue=({tokens:e,emojiQueue:t,theme:n,nativeEmoji:r,onLinkClick:o})=>{const a=(()=>{let e=0;return(t,n)=>{if(!n||!n.length||!t.includes(":emoji:"))return t;let i=t;for(;i.includes(":emoji:");)i=i.replace(":emoji:",n[e]),e+=1;return i}})(),s=e=>{var l,u,c,d,f,p,g,h,_,m,v,y,b,E,C,T;switch(e.type){case"image":return(0,i.tZ)(se,{href:e.href,title:e.title,containerClassName:null===(l=null==n?void 0:n.image)||void 0===l?void 0:l.container,className:null===(u=null==n?void 0:n.image)||void 0===u?void 0:u.base});case"link":return(0,i.tZ)("a",Object.assign({href:e.href,title:e.text,target:"_blank",rel:"nofollow noopener noreferrer",className:Q()(ae.link,null==n?void 0:n.link),onClick:()=>{null==o||o(),ee.Monitoring.telemetry(te.TelemetryName.MARKDOWN_LINK_CLICK,{param1:e.href})}},{children:null===(c=e.tokens)||void 0===c?void 0:c.map(s)}));case"heading":return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae[`heading-${e.depth}`],{[String(null===(d=null==n?void 0:n.heading)||void 0===d?void 0:d.h1)]:(null===(f=null==n?void 0:n.heading)||void 0===f?void 0:f.h1)&&1===e.depth})},{children:null===(p=e.tokens)||void 0===p?void 0:p.map(s)}));case"paragraph":return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.paragraph,null==n?void 0:n.paragraph)},{children:null===(g=e.tokens)||void 0===g?void 0:g.map(s)}));case"blockquote":return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.blockquote,null==n?void 0:n.blockquote)},{children:null===(h=e.tokens)||void 0===h?void 0:h.map(s)}));case"list":return(0,i.tZ)(le,{className:null===(_=null==n?void 0:n.list)||void 0===_?void 0:_.base,listItemClassName:null===(m=null==n?void 0:n.list)||void 0===m?void 0:m.li,markerClassName:null===(v=null==n?void 0:n.list)||void 0===v?void 0:v.marker,contentClassName:null===(y=null==n?void 0:n.list)||void 0===y?void 0:y.content,items:e.items,ordered:e.ordered,startNumber:e.start,parseToken:s});case"text":case"singlequote":case"code":case"codespan":case"html":return(0,i.tZ)(oe.Text,Object.assign({className:Q()(ae.text,null==n?void 0:n.text),nativeEmoji:r,includeWrapper:!0,disableLinkify:!0,disableAloneEmoji:!0},{children:e.tokens?e.tokens.map(s):a((T=e.text,T&&ie.test(T)?T.replace(ne,(e=>re[e]||"'")):T),t)}));case"strong":return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.strong,null==n?void 0:n.strong)},{children:null===(b=e.tokens)||void 0===b?void 0:b.map(s)}));case"em":return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.italic,null==n?void 0:n.italic)},{children:null===(E=e.tokens)||void 0===E?void 0:E.map(s)}));case"del":return(0,i.tZ)("jdiv",Object.assign({className:Q()(ae.strikethrough,null==n?void 0:n.strikethrough)},{children:null===(C=e.tokens)||void 0===C?void 0:C.map(s)}));default:return null}};return(0,i.tZ)("jdiv",Object.assign({className:ae.wrapper},{children:e.map(s)}))},ce={name:"singlequote",level:"inline",start(e){return e.indexOf("'")},tokenizer(e){const t=/^'/.exec(e);if(t)return{type:"singlequote",raw:t[0],text:t[0]}},renderer(e){return e.text}};Z.use({mangle:!1,extensions:[ce]});const de=(0,r.memo)((({children:e,theme:t,nativeEmoji:n,onLinkClick:o})=>{if(e&&"string"!=typeof e)throw new TypeError("Markdown: Expected children to be of type string but got "+typeof e);const{tokens:a,emojiQueue:s}=(0,r.useMemo)((()=>{const t=e,n=t.match(Y.EMOJI_REGEX);return{tokens:K((0,J.replaceAll)(t,Y.EMOJI_REGEX,":emoji:")),emojiQueue:n}}),[e]);return(0,i.tZ)(ue,{tokens:a,emojiQueue:s,theme:t,nativeEmoji:n,onLinkClick:o})}))},84998:function(e,t,n){"use strict";n.r(t),n.d(t,{addHistory:function(){return a}});var i=n(44145),r=n(20676),o=n(92790);const a=()=>{var e;!(0,i.getFeatures)().disableMobileBack&&r.platform.isMobileOrTablet&&window.history&&"function"==typeof window.history.pushState&&(null===(e=(0,o.historyManagerInstance)())||void 0===e||e.setHistoryState())}},5526:function(e,t,n){"use strict";n.r(t),n.d(t,{RootContainer:function(){return f}});var i=n(16584),r=(n(98661),n(94184)),o=n.n(r),a=n(73727),s=n(22932),l=n(79225),u=n(20676);var c={global:"global__DEu03",__dark:"__dark__i7WWL",__light:"__light__hgOfK",__green:"__green__mQnRo",__blue:"__blue__IxOX0",__grey:"__grey__QerEG"},d="globalClass__ou4kK";const f=({children:e})=>(0,i.tZ)("jdiv",Object.assign({className:o()(d,c.global,c.__light,{[c[`__${null===a.default||void 0===a.default?void 0:a.default.bubble_color}`]]:Boolean(null===a.default||void 0===a.default?void 0:a.default.bubble_color)},{"jv-chatpage":(0,s.isChatPage)()},Object.keys(u.platform).reduce(((e,t)=>u.platform[t]?`${e} ${(0,l.kebabCase)(t).replace("is-","jv-")}`:e),"").trim())},{children:e}))},7466:function(e,t,n){"use strict";n.r(t),n.d(t,{Text:function(){return G}});var i=n(16584),r=n(98661),o=n(73727);const a=/\uFE0F/g,s=String.fromCharCode(8205),l=()=>Boolean(null===o.default||void 0===o.default?void 0:o.default.disable_emoji),u=e=>{let t="string"==typeof e?parseInt(e,16):e;return t<65536?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))};var c=n(94184),d=n.n(c),f=n(54415),p=n(83170),g=n(22932);const h={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"};var _=n(85347);const m=({children:e,className:t,source:n})=>(0,i.tZ)("jdiv",Object.assign({className:t,draggable:!1,alt:e,style:{backgroundImage:`url(${n})`}},{children:e}));var v=n(69861),y=n(22783),b=n(69860),E=n(44544),C=n(12239),T=n(70881),D=n(92380),w=n(74373),O=n(67567),S=n(57737),A=n(14534),I=n(78393),k=n(79378),M=n(5541),P=n(87966),R=n(94475),x=n(45152),N=n(63365),L=n(22426),F=n(56482),j=n(23791);const B={angel:v.default,unicorn_face:y.default,confused:b.default,rage:E.default,imp:C.default,disappointed:T.default,kissing_heart:D.default,yum:w.default,disappointed_relieved:O.default,weary:S.default,grin:A.default,laughing:I.default,wink:k.default,sunglasses:M.default,neutral_face:P.default,winking_eye:R.default,hushed:x.default,thumbsup:F.default,thumbsdown:N.default,smile:L.default,tada:j.default};var W={emojiIcon:"emojiIcon__ZoM86",emojiMessages:"emojiMessages__iPogW",__isAlone:"__isAlone__yoS19",iconSuccess:"iconSuccess__yb2YW",icon:"icon__r5bSg"};const U=(0,r.memo)((({icon:e,className:t,type:n="emojiMessages",isAlone:r=!1})=>{var o;const a=(0,g.hasExternalEmojiProcessor)(),s=d()(W.emojiIcon,{[W[n]]:n,[W.__isAlone]:r},t);if(!B[e]){const t=null!==(o=h[e])&&void 0!==o?o:e,n=u(t),r=(0,_.getEmojiURL)(t);return r.endsWith("/.svg")?(f.Monitoring.telemetryOnce(p.TelemetryName.ASSET_ERROR,{param1:"emoji",param2:e}),null):(0,i.tZ)(m,Object.assign({source:r,className:s},{children:a?null:n}))}const l=u(e);return(0,i.tZ)("jdiv",Object.assign({className:s},{children:(0,i.tZ)("jdiv",Object.assign({className:W.icon,style:{backgroundImage:`url("data:image/svg+xml,${encodeURIComponent(B[e])}")`},alt:l},{children:a?null:l}))}))}));var H=n(30633),z=n(25635);const G=(0,r.memo)((({children:e,className:t,nativeEmoji:n=l(),disableLinkify:r=!1,disableAloneEmoji:o=!1,includeWrapper:u=!1})=>{const c="string"==typeof e,d=!(!c||o)&&(e=>{let t=0;const n=e.replace(H.EMOJI_REGEX,(()=>(t++,""))).match(/\S/gu);return 1===t&&!n})(e),f=c?((e,t,n)=>{const{disableLinkify:i,nativeEmoji:r}=n,o=i?null:(0,z.replaceLinksWithAnchor)(e,"array"),a=r?null:e.match(H.EMOJI_REGEX);let s=[e];if(o&&(s=o.map(((e,n)=>"string"!=typeof e?t.link(`link-${n}`,e):e))),a){const e=a.map(((e,n)=>t.emoji(`emoji-${n}`,e)));let n=0;s=s.map((t=>"string"==typeof t&&H.EMOJI_REGEX.test(t)?t.split(H.EMOJI_REGEX).reduce(((t,i,r,{length:o})=>(t.push(i),r!==o-1&&(t.push(e[n]),n++),t)),[]):t)).flat()}return s})(e,{emoji:(e,t)=>{return(0,i.tZ)(U,{icon:(n=t,((e,t)=>{const n=[];let i=0,r=0,o=0;for(;o<e.length;)i=e.charCodeAt(o++),r?(n.push((65536+(r-55296<<10)+(i-56320)).toString(16)),r=0):55296<=i&&i<=56319?r=i:n.push(i.toString(16));return n.join(t||"-")})(n.indexOf(s)<0?n.replace(a,""):n,r)),isAlone:d},e);var n,r},link:(e,{url:t,title:n,text:r})=>(0,i.tZ)("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer",title:n},{children:r}),e)},{nativeEmoji:n,disableLinkify:r}):e;return c&&u?(0,i.tZ)("jdiv",Object.assign({className:t},{children:f})):(0,i.tZ)(i.HY,{children:f})}))},29312:function(e,t,n){"use strict";n.r(t),n.d(t,{ZoomOverlay:function(){return F}});var i=n(16584),r=n(98661),o=n(24111),a=n(65138),s=n(42601),l=n(74379),u=n(19955),c=n(54415),d=n(83170),f=n(73262),p=n(89334),g=n(39733),h=n(52274),_=n(47060),m=n(69882),v=n(73422);const y=(e,t)=>!((0,m.isWixContext)()||e===_.Route.HIDDEN||u.default.ios()&&l.default.isWidgetOnWix)&&(!E(e)&&!(0,v.isNil)(t)&&t>h.MAX_ALLOWED_USER_ZOOM),b=e=>{if(!e)return;const{width:t,height:n,offsetLeft:i,offsetTop:r}=e;return{width:t,height:n,transform:`translate(${i}px, ${r}px)`}},E=e=>e===_.Route.LABEL;var C=n(94184),T=n.n(C),D=n(24785),w="iconContainer__V1pkY",O="hand__ltMSC",S="arrow__vKv8G",A="arrow2__ZBPsK";const I=()=>(0,i.BX)("jdiv",Object.assign({className:w},{children:[(0,i.tZ)(D.SvgIcon,{icon:'<svg width="160" height="173" viewBox="0 0 160 173" xmlns="http://www.w3.org/2000/svg"><title>hand</title><path d="M56.31 169.5S8.685 109 5.968 106.25c-2.717-2.75-5.84-12.663 0-20.05C11.807 78.816 21.295 82.95 24 85c2.705 2.05 13.06 10.5 13.06 10.5s7.646 6.35 14.5 2.093c6.857-4.256 6.42-11.392 6.42-11.392s1.93-16.115-1.67-35.2C52.714 31.915 49 25.25 46.75 20c-2.25-5.25-1.124-11.59 5.938-16.045C59.75-.5 67 6.5 68.5 9.25s6.396 9.49 12.12 27.253c5.722 17.763 7.69 41.372 7.69 41.372l-2-23.25c5.576 0 13.464-2.994 24.017 9.168 4.736 5.457 6.86 24.332 6.86 24.332s-1.874-15.188-5.25-21.75c4.5-1.25 12.583-4.006 21.376 4.875 6.31 6.375 5.375 23.25 5.375 23.25s1.25-13.063-4.25-21.938c13.68-1.527 19.937 11.313 21.937 19.563 2 8.25-.875 26.75-.875 26.75l-14.19 51.875" stroke="#A3AFB8" fill-rule="nonzero" stroke-width="4" fill="#FFF" stroke-linecap="round" stroke-linejoin="round"/></svg>',className:O}),(0,i.tZ)(D.SvgIcon,{icon:'<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow1</title><g transform="rotate(163 27.277 33.133)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>',className:S}),(0,i.tZ)(D.SvgIcon,{icon:'<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow2</title><g transform="rotate(-17 45.338 20.625)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>',className:A})]}));var k="container__XgjTz",M="__visible__L7uWq",P="zoomPane__V1dih",R="iconContainer__Vf3js",x="viewContainer__MT0iu",N="view__GumNr";const L=({appZoom:e,innerWidth:t,innerHeight:n,viewportStyles:r,isVisible:o,hasVisualViewport:a})=>(0,i.BX)("jdiv",Object.assign({className:T()(k,{[M]:o})},{children:[(0,i.tZ)("jdiv",{className:P}),(0,i.tZ)("jdiv",Object.assign({className:R,style:{width:a?"100%":t,height:n}},{children:(0,i.tZ)("jdiv",Object.assign({className:x,style:a?r:void 0},{children:(0,i.tZ)("jdiv",Object.assign({className:N,style:{zoom:e}},{children:(0,i.tZ)(I,{})}))}))}))]})),F=()=>{const e=(0,o.useAppSelector)(a.selectRoute),{app:t,user:n}=(0,o.useAppSelector)(s.selectZoom),{innerWidth:h,innerHeight:_,visualViewport:m}=l.default.window,[v,C]=(0,r.useState)(y(e,n)),[T,D]=(0,r.useState)(b(m));return(0,g.r)((()=>{const t=y(e,n),i=l.default.bodyEl;t&&u.default.safari()&&i&&(i.scrollTop=0,i.scrollLeft=0),t!==v&&E(e)&&c.Monitoring.telemetryOnce(t?d.TelemetryName.ZOOM_OVERLAY_SHOW:d.TelemetryName.ZOOM_OVERLAY_HIDE),C(t)}),[e,t,n]),(0,p.useEffectOnce)((()=>{if(!m)return;const e=(0,f.throttle)((()=>D(b(m))),150);return m.addEventListener("scroll",e),m.addEventListener("resize",e),()=>{m.removeEventListener("scroll",e),m.removeEventListener("resize",e)}})),(0,i.tZ)(L,{appZoom:t,innerWidth:h,innerHeight:_,viewportStyles:T,isVisible:v,hasVisualViewport:Boolean(m)})}},58164:function(e,t,n){"use strict";n.r(t),n.d(t,{initCampaignWidgetConstructorAPI:function(){return g}});var i=n(97615),r=n(48999),o=n(22932),a=n(26932),s=n(20361),l=n(21476),u=n(47060),c=n(75998),d=n(44145);let f=!1;const p={updateConfig(e){const{isMobileView:t}=(0,d.getCampaignWidgetSettings)(),{img_src:n,img_position:i,text_color:o,background:a}=e,s=(e=>{const{prechat_buttons:t,text_color:n,background:i,img_src:o,img_position:a}=e;return[{from:"agent",from_id:1,text:(0,r.formatProactiveContent)(e),type:"proactive",status:"read",body:{unsave:!0,is_markdown:!0,extra:{text_color:n,background:i,img_src:o,img_position:a}}},{body:{unsave:!0,prechats:t},type:"prechat",from:"form"}]})(e),l=(0,r.formatProactiveContent)(Object.assign(Object.assign({},e),{img_src:null}));c.campaignWidgetDispatch.setMessageFeed(s),c.campaignWidgetDispatch.setMobileProactive({img_src:n,img_position:i,background:a,text_color:o,message:l}),f||t||p.openWidget()},setMobileView(e){c.campaignWidgetDispatch.setMobileView(e)},showWidgetGalleryPreview(e){c.campaignWidgetDispatch.setPreview(e)},openWidget(){f=!0,l.Router.next(u.RouterEvent.ToChat),a.transitionDispatchers.startTransition(s.ScriptName.OPEN_WIDGET)},closeWidget(){f=!1,l.Router.next(u.RouterEvent.CloseWindow),a.transitionDispatchers.startTransition(s.ScriptName.CLOSE_WIDGET)},reset(){p.closeWidget(),c.campaignWidgetDispatch.reset()}},g=()=>{i.EnvironmentManager.isWidgetConstructor()&&((0,o.getPageWindow)()._widgetCampaignConstructorAPI=p)}},15688:function(e,t,n){"use strict";n.r(t),n.d(t,{initExtensionsAPI:function(){return s}});var i=n(97615),r=n(22932),o=n(75998);const a={setRenderTarget(e){return new Promise((t=>{o.extensionsDispatch.setTarget(e),setTimeout((()=>t()),100)}))},reset(){return new Promise((e=>{o.extensionsDispatch.resetExtensions(),setTimeout((()=>e()),100)}))}},s=()=>{i.EnvironmentManager.isExtensionsEnable()&&((0,r.getPageWindow)()._widgetExtensionsAPI=a)}},12398:function(e,t,n){"use strict";n.r(t),n.d(t,{addClientTag:function(){return h},postClientTags:function(){return _},sendClientTags:function(){return y},sendTagsIfNeed:function(){return m}});var i=n(36113),r=n(73687),o=n(71047),a=n(86961),s=n(44145),l=n(26932),u=n(73422),c=n(54415),d=n(83170),f=n(4855),p=n(58345);const g=f.default.name("CampaignHelpers"),h=e=>{if(!(0,u.isNumber)(e))return;let t=(0,s.getClient)().tags;if((0,u.isArray)(t)){if(t.includes(e))return;t.push(e)}else t=[e];l.clientDispatchers.setClientTags(t.sort())},_=(e,t)=>{g.warn("postClientTags",e),(0,u.isArray)(e)&&e.length?a.default.postClientTags(e,((n,i)=>{var r,o;i&&(null==t||t(null===(o=null===(r=i.data)||void 0===r?void 0:r.result)||void 0===o?void 0:o.attached_tags_id),c.Monitoring.telemetry(d.TelemetryName.SET_TAGS_SUCCESS)),n&&(null==t||t(!1),c.Monitoring.telemetry(d.TelemetryName.SET_TAGS_ERROR,{param1:JSON.stringify(e),param2:n.status}))})):null==t||t(!1)},m=()=>{const{clientId:e,tags:t}=(0,s.getClient)(),n=r.default.get(o.TempKey.SENDED_TAGS);g.log("sendTagsIfNeed",e,n,t),e&&t&&!(0,i.shallowEqual)(t,n)&&y(t)},v=e=>{r.default.set(o.TempKey.SENDED_TAGS,e,604800)},y=e=>{_(e,(t=>{if((0,u.isArray)(t)){t=t.sort();const n=r.default.get(o.TempKey.SENDED_TAGS)||[];if(t.length){const e=(0,p.unique)(n.sort().concat(t));v(e),l.clientDispatchers.setClientTags(e)}else v(e.sort())}}))}},50339:function(e,t,n){"use strict";n.r(t),n.d(t,{buildBackground:function(){return i}});const i=e=>(e=>"string"!=typeof e)(e)?e.colors.reduce(((e,[t,n],i,{length:r})=>e+=` ${t}${n?` ${n}%`:""}${i===r-1?")":","}`),`${e.type}-gradient(${e.direction},`):e},83425:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigUtils:function(){return c}});var i=n(73727),r=n(22932),o=n(54415),a=n(83170),s=n(97615),l=n(95911);const u=n(4855).default.name("ConfigUtils");const c=new class{constructor(){this.loadCount=0}reloadConfig(e){if(this.loadCount>5)return o.Monitoring.telemetryOnce(a.TelemetryName.CONFIG_LIMIT),void u.error("Reload config limit is reached!");let t=`${(0,r.getProtocol)()}${i.default.base_url}/script/widget/config/${i.default.widget_id}`;s.EnvironmentManager.isDevelopment()&&(t="/config.json"),t+=`?rnd=${Math.random()}`,u.log("Reloading config from",t,this.loadCount),(0,r.getPageWindow)().__jivoConfigOnLoad=t=>{if((null==t?void 0:t.isDeleted)||!t)return void u.log("Reload on deleted config",t);const n=t;(0,i.getViHost)()===n.vi_host&&(0,i.getCometHost)()===n.chat_host||(u.log("initConfig new config",n),(0,i.initConfig)(n),e(n)),u.log("jivoConfigOnLoad from reloadConfig")},l.xhrRequest.get(t,((e,t)=>{var n,i;if(e)return void u.log("Load config error",e);const o=t.data;try{u.log("Config is loaded",o),this.loadCount++,null===(i=(n=(0,r.getPageWindow)()).__jivoConfigOnLoad)||void 0===i||i.call(n,o)}catch(e){u.log("Config parse error",o,e)}}))}}},41504:function(e,t,n){"use strict";n.r(t),n.d(t,{AcceptEula:function(){return _},AgentMessagesAck:function(){return l},AgentMessagesRead:function(){return u},ChatServerOutgoingMessage:function(){return i},ClientMessage:function(){return p},ClientServiceMessage:function(){return m},ClientTyping:function(){return f},Introduction:function(){return h},OfflineMessage:function(){return d},Rate:function(){return s},StartChat:function(){return c},Startup:function(){return r},UpdateCustomData:function(){return o},UpdateExternalInfo:function(){return g},UpdateUserToken:function(){return a},UrlChange:function(){return v}});class i{constructor(e){this.name=e}}class r extends i{constructor(e,t,n,i,r,o,a,s,l,u,c,d,f,p,g){super("startup"),this.jv_widget_id=p.widgetId?p.widgetId:void 0,this.site_id=p.siteId?p.siteId:void 0,this.current_page=e||void 0,this.is_mobile=t,this.visits_count=n||void 0,this.page_visible=i,this.chat_opened=r,this.chat_id=o||void 0,this.widget_version=a||void 0,this.abtest=s||void 0,this.history=l||void 0,this.new_utm=u||void 0,this.proactive_rule=this.getProactiveRule(c,g),this.visitor_id=f.visitorId?f.visitorId:void 0,this.jv_client_id=f.clientId?f.clientId:void 0,this.pa_id=f.priorityAgentId?f.priorityAgentId:void 0,this.custom_data=f.customData?f.customData:void 0,this.user_token=f.userToken?f.userToken:void 0,this.analytics=d||void 0,this.cap_token=f.captchaToken?f.captchaToken:void 0}getProactiveRule(e,t){if(t){const e=t.toJSON();return{invitation_text:e.text,agent_id:e.body.agent_id,bot_id:e.body.bot_id,private_id:e.private_id,created_ts:Math.floor(e.created_ts/1e3),is_markdown:Boolean(null==e?void 0:e.body.is_markdown)}}const{agentId:n,botId:i,text:r,privateId:o,createdTs:a,isMarkdown:s}=e,l={invitation_text:r,agent_id:n,bot_id:i,private_id:o,created_ts:a};return s&&(l.is_markdown=!0),r&&(n||i)&&o&&a?l:void 0}}class o extends i{constructor(e){super("update_custom_data"),this.custom_data=e}}class a extends i{constructor(e){super("update_user_token"),this.user_token=e}}class s extends i{constructor(e,t,n){super("rate"),this.rate=e,this.chat_id=t,this.comment=n}}class l extends i{constructor(e,t){super("agent_message_ack"),this.ack_msg_ids=e,this.chat_id=t}}class u extends i{constructor(e,t){super("agent_message_read"),this.msg_ids=e,this.chat_id=t}}class c extends i{constructor(e){super("start_chat"),this.invited_agent=e}}class d extends i{constructor(e,t,n,i,r,o,a,s){super("offline_message"),this.message=e,this.email=t,this.phone=n,this.client_name=i,this.cap_symbols=r,this.from_online=o,this.description=a,this.accept_eula=s}}class f extends i{constructor(e){super("client_typing"),this.typing=e}}class p extends i{constructor(e,t,n,i,r,o,a){super("client_message"),this.message=e,this.private_id=t,this.widget_department_id=n||null,this.is_prechat_btn=i||null,this.media=r||null,this.button_id=o||null,this.campaign=a||null}}class g extends i{constructor(e){super("update_external_info"),this.external_info=e}}class h extends i{constructor(e,t,n,i,r){super("introduction"),this.client_name=e,this.phone=t,this.email=n,this.description=i,this.accept_eula=r}}class _ extends i{constructor(){super("accept_eula")}}class m extends i{constructor(e){super("client_service_message"),this.service="typing_insight",this.event="input_changed",this.new_val=e}}class v extends i{constructor(e,t){super("url_change"),this.url=e,this.title=t}}},40426:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i=n(88319),r=n(4855),o=n(47060),a=n(44145),s=n(69882),l=n(97615),u=n(73727),c=n(19955),d=n(54415),f=n(50216),p=n(32183),g=n(73687),h=n(22932);class _ extends Error{constructor(e,t){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=_.name,this.provider=t}}class m extends _{constructor(e,t){super(e,t)}}class v extends m{constructor(e,t){super(`Message parse error: ${e}`,t)}}class y extends m{constructor(e,t){super(`JC error: ${e}`,t)}}const b=r.default.name("ChatServerProvider");var E=class{constructor(e){this.name="ChatServerProvider",this.manager=e,this.url=this.getUrl(),this.connection=null,this.connected=!1,this.lastError=null}connect(e){return b.log("connect, force:",e),new Promise(((t,n)=>{try{this.needToConnect(e)&&this.setupConnection(t,n)}catch(e){b.error(e),n(e)}}))}disconnect(){b.warn("disconnect",this.connection),this.connection&&(this.connection.off(),this.connection.close(),this.connection=null)}send(e){b.log("send",this.connected,e);try{if(this.connection&&this.connected){let t=null;try{t=JSON.stringify(e)}catch(e){throw new v(e.message,this.name)}if(t)try{this.connection.send(t),this.manager.logSocketEvent(e)}catch(e){throw new y(e.message,this.name)}}else b.warn("open connection",this.connected),this.manager.open(null,!0)}catch(e){this.handleSendError(e)}}setLastError(e){b.warn("setLastError",e),this.lastError=e}handleSendError(e){(e instanceof y||e instanceof v)&&d.Monitoring.reportException(e)}setupConnection(e,t){b.log("setupConnection"),this.connection=new i.Z(this.url),this.connection.on("open",(e=>{this.connected=!0,this.manager.receiver.onConnect(e)})),this.connection.on("close",(e=>{this.connected=!1,this.manager.receiver.onDisconnect(e)})),this.connection.on("error",(e=>{this.manager.receiver.onError(e),t({ok:!1})})),this.connection.on("message",(t=>{this.manager.receiver.onMessage(t),e({ok:!0})})),this.connection.open()}getUrl(){const{chat_host:e,site_id:t,widget_id:n}=(0,u.getConfig)(),{visitorId:i}=(0,a.getClient)(),r=`/cometcn/${t}/${n}/${i}/${Date.now()}`;if(l.EnvironmentManager.isSelfhosted()){return`${(0,h.getProtocol)().includes("https")?"wss://":"ws://"}${e}${r}`}return`wss://${e}${r}`}needToConnect(e){const{recaptcha:t,disableMobile:n}=(0,a.getFeatures)(),i=(0,a.getApp)(),r=f.default.getInstance(),u=(0,a.getClient)();if(b.log("needToConnect, force:",e),t&&r&&r.isBlocked())return b.log("Recaptcha is blocked"),!1;if(!e&&i.maintenance)return b.log("Maintenance mode on!"),!1;const d=(0,s.isWixEditor)()||l.EnvironmentManager.isDesignerEditor(),h=g.default.get("is_blacklisted"),_=i.route==o.Route.HIDDEN&&!e,m=c.default.mobileOrTablet()&&n;if(d||h||_||m||(0,s.isAppCobrowse)())return b.log("Connection disabled."),!1;if(3333==this.lastError)return b.log("Connection disabled spam detected."),!1;if(e&&!this.connected)return b.log("connection is forced"),!0;if(i.lastMsgTime){const e=(new Date).getTime(),t=Math.abs((e-i.lastMsgTime)/1e3);if(u.sessionId&&i.isOnline&&t<172800)return!0}return u.sessionId&&!i.chatStarted?(b.warn("Connection disabled chat not started.",this.name),!1):this.connected||!(0,p.pageVisible)()?(b.warn("Connection already open"),!1):(b.log("is ok to connect."),!0)}}},34783:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var i,r=n(8117),o=n(11281),a=n(52274),s=n(4855),l=n(83170),u=n(64123),c=n(13077),d=n(26932),f=n(34445),p=n(14264);!function(e){e.DELETED="Deleted"}(i||(i={}));var g=n(44145),h=n(19955),_=n(97615),m=n(54415),v=n(62096),y=n(69882),b=n(32183),E=n(55908),C=n(50216),T=n(138),D=n(73687),w=n(16818),O=n(91225),S=n(41504);const A=s.default.name("ChatServerReceiver");var I=class{constructor(e){this.startupCallback=null,this.manager=e}onConnect(e){A.warn("onConnect",e),this.checkRecaptchaIfNeeded((()=>{clearTimeout(this.maintenanceTimeout);const e=v.reduxStore.getState(),{app:t,chats:n,client:i,proactive:o,settings:a}=e,s=this.formatUTM(i.utm),l=(0,y.getCurrentPage)(),u={title:l.title,url:r.default.decodeString(l.url)},g=(0,O.isContainerRoute)(t.route),m=n.length?n[n.length-1]:null;this.manager.send(new S.Startup(u,h.default.mobileOrTablet(),D.default.get("visits_count")-0,(0,b.pageVisible)(),g,m?m.id:null,_.EnvironmentManager.getVersion(),E.default.getInstance().getActiveTestAsString(),i.sessionId?null:w.default.get(),s,o,T.default.isAnalyticsIdAvaiable(),i,a.system,p.default.getLastUnreadApiInvitation())),d.appDispatchers.setLastChatStatus(f.ChatStatus.STARTUP),(0,c.setRuleLocal)("sendStartupTime",(new Date).getTime())}),(()=>{this.manager.close()}))}onDisconnect(e){if(A.warn("onDisconnect",e),this.manager.close(),this.manager.provider.setLastError(e.code),this.setStartupCallback(null),clearTimeout(this.maintenanceTimeout),e.reason===i.DELETED&&this.deleteClient(),1013===e.code){(0,u.enableMaintenance)();const e=Math.random()*a.MAINT_RECONNECT_TIMEOUT<<0;A.warn("Set maintenance reconnect timeout",e),this.maintenanceTimeout=setTimeout((()=>{this.manager.open(null,!0)}),e)}3333===e.code&&(this.manager.buffer.clear(),m.Monitoring.telemetryOnce(l.TelemetryName.CLIENT_MESSAGE_SPAM))}onError(e){A.warn("onError",e)}onMessage(e){A.log("RECEIVER ON MESSAGE",e);let t=null;try{t=JSON.parse(e),A.log("RECEIVER ON MESSAGE",t),this.manager.logSocketEvent(t)}catch(e){m.Monitoring.reportException(e)}try{const e=t;e.method&&e.params&&e.params.type&&o.default[e.params.type]?o.default[e.params.type](e.params.body):e.method&&o.default[e.method]?o.default[e.method](e):e.name&&o.default[e.name]&&o.default[e.name](t),!this.startupCallback||"startup_ok"!==e.name&&"resume_ok"!==e.name||(this.startupCallback(),this.setStartupCallback(null))}catch(e){m.Monitoring.reportException(e)}}setStartupCallback(e){A.warn("setStartupCallback",e),this.startupCallback=e}formatUTM(e){const{campaign:t,source:n,medium:i,keyword:r,term:o,content:a}=e;if(t||n||i||r||o||a)return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t&&{campaign:t}),n&&{source:n}),i&&{medium:i}),r&&{keyword:r}),o&&{term:o}),a&&{content:a})}deleteClient(){d.clientDispatchers.resetClient(),d.appDispatchers.setChatAccepted(!1),d.appDispatchers.setChatStarted(!1),d.appDispatchers.setLastChatStatus(null),p.default.destroy()}checkRecaptchaIfNeeded(e,t){A.log("checkRecaptchaIfNeeded"),(0,g.getFeatures)().recaptcha?C.default.getInstance().getJivoAntispamToken(e,t):e()}}},49963:function(e,t,n){"use strict";n.r(t),n.d(t,{connectionAdapter:function(){return d}});var i=n(4855),r=n(45948),o=n(97615),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};const s=i.default.name("CONNECTION_ADAPTER","color: teal");let l=null;const u=()=>{const e=null==l?void 0:l.isOpen();return s.log("isConnected",e),e||!1},c=(e,t)=>a(void 0,void 0,void 0,(function*(){return o.EnvironmentManager.isWidgetConstructor()||r.isPopupConstructor?Promise.resolve({ok:!0}):(s.log("openConnect","callback:",e,"force:",t),l.open(e,t))})),d={setConnectionInstance:e=>{l=e},getInstance:()=>l,isConnected:u,openConnect:c,checkConnection:e=>{s.log("checkConnection",e,l),u()?null==e||e():c(e,!0)},flushBuffer:()=>{s.log("flushBuffer"),null==l||l.flushBuffer()},addToBuffer:e=>{s.log("addToBuffer"),null==l||l.buffer.add(e)},sendEvent:e=>{s.log("sendEvent",e),null==l||l.send(e)},sendEventIfConnected:e=>{s.log("sendIfConnected",e),null==l||l.sendIfConnected(e)},setLastError:e=>{s.log("setLastError",e),null==l||l.provider.setLastError(e)}}},73439:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(4855),r=n(22866),o=n(54415);const a=i.default.name("ConnectionBuffer");var s=class{constructor(e){this.connectionManager=e,this.messages=[]}add(e){a.log("add",e),this.messages.push(e)}clear(){a.warn("clear"),this.messages=[]}flush(){a.log("flush"),this.messages.forEach((e=>this.connectionManager.send(e))),this.clear()}contains(e){return this.messages.find((t=>t.private_id===e))}isEmpty(){return 0===this.messages.length}};const l=i.default.name("ConnectionManager");var u=class{constructor(e,t){this.buffer=new s(this),this.receiver=new t(this),this.provider=new e(this)}open(e,t){return l.warn("open"),e&&this.receiver.setStartupCallback(e),this.provider.connect(t)}close(){l.warn("close"),this.provider.disconnect(),this.buffer.clear()}isOpen(){return this.provider&&this.provider.connected}send(e){l.warn("send",e),this.provider.send(e)}sendIfConnected(e){l.warn("sendIfConnected",e,`Connected: ${this.isOpen()}`),this.isOpen()&&this.send(e)}logSocketEvent(e){r.default.getInstance().saveSocketEvent(e)}flushBuffer(){if(l.warn("flushBuffer",this.buffer),!this.buffer.isEmpty()){this.buffer.flush();const e=o.Monitoring.getTelemetryNames().CLIENT_MESSAGE_FLUSH_BUFFER;o.Monitoring.telemetry(e)}}}},92790:function(e,t,n){"use strict";n.r(t),n.d(t,{HistoryManager:function(){return g},historyManagerInstance:function(){return h}});var i=n(4855),r=n(22932),o=n(83170),a=n(54415),s=n(34930),l=n(44145),u=n(47060),c=n(21476),d=n(20676);const f=i.default.name("HistoryManager");let p;class g{constructor(){if(p)return p;this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),p=this}getLocation(){return(0,r.getPageWindow)().location}getLocationWithoutHash(){const e=this.getLocation();return e.href.replace(e.hash,"")}setHistoryState(){f.log("setHistoryState");const e=(0,r.getPageWindow)(),t=e.history,n=e.location,i=e.document;(!t.state||t.state&&"number"!=typeof t.state.jmobile)&&t.pushState({jmobile:1},i.title,n.href),t.replaceState({jmobile:1},i.title,n.href)}checkPopState(){const e=(0,l.getApp)().route;f.log("checkPopState",this.initHash,this,this.initHref),this.initHash!==this.getLocation().hash&&this.initHref===this.getLocationWithoutHash()||(this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),d.platform.isMobileOrTablet&&e!==u.Route.LABEL&&((0,s.closeWidget)(),c.Router.next(u.RouterEvent.CloseWindow),a.Monitoring.telemetry(o.TelemetryName.MOBILE_CHAT_CLOSE,{param1:"byBack"})))}}const h=()=>p},32915:function(e,t,n){"use strict";n.r(t),n.d(t,{paidRequired:function(){return u},setJointLink:function(){return d}});var i=n(73727),r=n(26932),o=n(2491),a=n(54415),s=n(83170),l=n(97615);const u={result:"error",reason:"Need paid account"},c={tg:s.TelemetryName.API_SET_TELEGRAM_LINK,wa:s.TelemetryName.API_SET_WA_LINK,vk:s.TelemetryName.API_SET_VK_LINK},d=(e,t)=>{if(!(null===i.default||void 0===i.default?void 0:i.default.enable_custom_links))return{result:"error"};if(!l.EnvironmentManager.isJsApiAvaiable())return u;if(!(null===i.default||void 0===i.default?void 0:i.default.joint[t]))return{result:"error",reason:"You don't have this communication channel"};if(!(0,o.i)(e))return{result:"error",reason:"Invalid link"};const n=(e=>{try{return encodeURI(e)}catch(t){return e}})(e.trim().replace(/(?:\r\n|\r|\n)/g,""));return r.featuresDispatchers.setJoint(Object.assign(Object.assign({},i.default.joint),{[t]:{customUrl:n}})),a.Monitoring.telemetryWithProbability(c[t],null,s.RateLimit.Low),{result:"ok"}}},6222:function(e,t,n){"use strict";n.r(t),n.d(t,{addFrequencyDelay:function(){return a},isFrequencyDelay:function(){return s}});var i=n(73687),r=n(71047);const o={once_1h:3600,once_3h:10800,once_6h:21600,once_1d:86400},a=(e="once_1d",t)=>{i.default.set(`${r.CampaignsKeys.POPUP_DELAY}_${t}`,!0,o[e])},s=e=>Boolean(i.default.get(`${r.CampaignsKeys.POPUP_DELAY}_${e}`))},27586:function(e,t,n){"use strict";n.r(t),n.d(t,{StatsManager:function(){return f}});var i=n(73687),r=n(4855),o=n(54415);const a=e=>e?Math.floor(e-Date.now()/1e3):2592e3,s=["chat_init","contacts_fill","email_sent","phone_sent","cta_click","nps_sent","poll_sent"],l=(e,t)=>e.includes(t),u=r.default.name("StatsManager"),c=e=>i.default.get(`sended_stats_${e}`),d=(e,t)=>{const n=c(e);if(!n)return void u.warn(`Can't update. Sended stats for campaign #${e} not found.`);const r=Object.assign(Object.assign(Object.assign({},n),t),{events:t.events?`${n.events}${t.events};`:n.events});i.default.set(`sended_stats_${e}`,r,a(r.end_ts))},f={create:e=>{c(e.campaign_id)?u.warn(`Can't create. Sended stats for campaign #${e.campaign_id} already exist.`):i.default.set(`sended_stats_${e.campaign_id}`,{events:"",end_ts:e.end_ts,isSubmitted:!1},a(e.end_ts))},get:c,update:d,send:({campaignId:e,campaignIds:t},n)=>{const i=(e=>s.includes(e))(n);if(t){const e=[],r=t.filter((t=>{const i=c(t);return!i||!l(i.events,n)||(e.push(t),!1)}));e.length>0&&u.warn(`${n} will not be sent for these campaigns.`,e,"Was sent previously."),r.length>0&&(o.Monitoring.reportStats(n,r),r.forEach((e=>d(e,{events:n,isSubmitted:i}))))}else if(e){const t=c(e);if(t&&l(t.events,n))return void u.warn(`${n} will not be sent for this campaign.`,e,"Was sent previously.");o.Monitoring.reportStats(n,e),d(e,{events:n,isSubmitted:i})}}}},50188:function(e,t,n){"use strict";n.r(t),n.d(t,{WidgetStatus:function(){return f}});var i=n(73727),r=n(26932),o=n(44145),a=n(95911),s=n(4855),l=n(22932),u=n(40694),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};const d=s.default.name("StatusProvider");const f=new class{constructor(){d.log("init")}getUrl(){const{chatHost:e,siteId:t,widgetId:n}=(0,o.getSystemSettings)();return`${(0,l.getProtocol)()}//${e}/widget/status/${t}/${n}?rnd=${Math.random()}`}getStatus(e){return c(this,void 0,void 0,(function*(){yield a.promisedRequest.get(this.getUrl()).then((t=>{var n;d.warn("response",t,e);const o=t.data;o.maintenance&&r.appDispatchers.setMaintenance(!0);const a=o.bots&&o.bots.length;if(a){const e=o.bots[0];r.botsDispatchers.addBot({avatarUrl:e.avatar_url||null,id:e.bot_id,name:e.display_name||null,title:e.title||null,type:e.type,isBot:!0})}if(o.agents&&!o.agents.length&&(a&&(null===i.default||void 0===i.default?void 0:i.default.enable_bot_offline)?r.appDispatchers.setAppIsOnline(!0):r.appDispatchers.setAppIsOnline(!1)),null===(n=o.agents)||void 0===n?void 0:n.length)for(const e of o.agents){const t=(0,u.agentToReduxFormat)(e);r.agentsDispatchers.addAgent(t)}e(!0)})).catch((t=>{d.warn(t),e(!1)}))}))}}},16217:function(e,t,n){"use strict";n.r(t),n.d(t,{fixInitAnimate:function(){return d},getSeconds:function(){return s},isCallActive:function(){return l},isCallbackButtonEnabled:function(){return c},isCallbackEnabled:function(){return u}});var i=n(47060),r=n(44145),o=n(73727),a=n(20344);const s=e=>[(0,a.l10n)("cw_form_second"),(0,a.l10n)("cw_form_seconds"),(0,a.l10n)("cw_form_secondd")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]],l=()=>{const e=(0,r.getCallback)().status;return"cw_wait"===e||"cw_connecting"===e||"cw_connected"===e},u=()=>{if(!(null===o.default||void 0===o.default?void 0:o.default.callback_settings))return!1;const e=(0,r.getCallback)().available,{time:t,countries:n}=o.default.callback_settings;return!!(e&&t&&n&&n.length>0)||l()},c=()=>!!(null===o.default||void 0===o.default?void 0:o.default.callback_settings)&&Boolean(o.default.callback_settings.button),d=e=>{const t=(0,r.getCallback)().status;(0,r.getApp)().route===i.Route.CALL&&"cw_connected"===t&&(null==e||e())}},25635:function(e,t,n){"use strict";n.r(t),n.d(t,{replaceLinksWithAnchor:function(){return _}});var i=n(68337),r=n.n(i),o=n(50754),a=n.n(o),s=n(52161);const l=r()().add("file:",null),u=/(http|https)?:\/\//,c=/(http|https|ftp)?:\/\//,d=/mailto/,f=e=>{const t=e.replace(/https?:\/\//,""),n=t.split("/")[0],i=a().toUnicode(n),r=t.replace(n,i);let o=r;try{o=decodeURIComponent(r)}catch(e){}return(e=>e.length>80?`${e.slice(0,30)}...${e.slice(-30)}`:e)((0,s.escape)(o))},p=(e,t)=>u.test(t)||d.test(e)?e:`https://${t}`,g=e=>c.test(e)?e.replace(c,""):e,h=(e,t,n="string")=>{let i=0;if("array"===n){const n=[];return t.forEach((({index:r,lastIndex:o,url:a,text:s},l)=>{const u=e.substring(i,r);i=o,n.push(u,{url:p(a,s),title:g(s),text:f(s)}),l===t.length-1&&n.push(e.substring(i,e.length))})),n}return t.reduce(((n,{index:r,lastIndex:o,url:a,text:s},l)=>{const u=e.substring(i,r);return i=o,n+=`${u}${((e,t,n)=>`<a href="${e}" target="_blank" rel="noopener" title="${t}">${n}</a>`)(p(a,s),g(s),f(s))}`,l===t.length-1&&(n+=e.substring(i,e.length)),n}),"")},_=(e,t="string")=>{const n=l.test(e);return"array"===t?n?h(e,l.match(e),t):null:n?h(e,l.match(e)):e}},91442:function(e,t,n){"use strict";n.r(t),n.d(t,{sendClientAttributes:function(){return l}});var i=n(50789),r=n(83170),o=n(54415),a=n(44145);const s=e=>e.filter((({client_attribute_id:e,value:t})=>e&&t)).map((({client_attribute_id:e,value:t})=>({client_attribute_id:e,value:t}))),l=(e,t)=>{if(!e.length)return;const{userToken:n}=(0,a.getClient)();i.ApiProvider.sendClientAttributes({attributes:JSON.stringify(s(e)),user_token:n},t,(e=>{var t;e&&200!==e.status?o.Monitoring.telemetry(r.TelemetryName.SEND_ATTRIBUTES_FAILED,{param1:e.status,param2:JSON.stringify((null===(t=e.data)||void 0===t?void 0:t.violation_list)||"")}):o.Monitoring.telemetry(r.TelemetryName.SEND_ATTRIBUTES_SUCCESS)}))}},34930:function(e,t,n){"use strict";n.r(t),n.d(t,{closeWidget:function(){return g}});var i=n(66547),r=n(32183),o=n(44145),a=n(26932),s=n(43914),l=n(91225),u=n(4855),c=n(62162),d=n(22932),f=n(20676);const p=u.default.name("analytics"),g=()=>{if(p.log("closeWidget",(0,o.getApp)().route),a.appDispatchers.setAppIsFocused(!1),f.platform.isMobileOrTablet)(0,r.blurActiveElement)(),(0,s._callUserFunction)("onClose");else if((0,l.isMinRoute)((0,o.getApp)().route))(0,d.getPageWindow)().document.getElementById("jivo_custom_widget")||(0,s._callUserFunction)("onClose");else{const{name:e}=(0,o.getProactive)();e&&((0,c.rejectProactive)(),a.proactiveDispatchers.setName(null)),(0,s._callUserFunction)("onClose")}i.default.set("close_time",(new Date).getTime()),a.appDispatchers.setChatOpenByClient(!1)}},79523:function(e,t,n){"use strict";n.r(t),n.d(t,{introduceActions:function(){return h},setIntroduce:function(){return g}});var i=n(138),r=n(73727),o=n(83170),a=n(4855),s=n(54415),l=n(44145),u=n(43914),c=n(26932),d=n(49963),f=n(41504);const p=a.default.name("IntroduceActions"),g=e=>{const{eulaAccepted:t,name:n,phone:i,email:r,description:o}=(0,l.getClient)();c.clientDispatchers.setClientContacts({name:e.name||e.client_name||n||null,phone:e.phone||i||null,email:e.email||r||null,description:e.description||o||null}),p.warn("setIntroduce",e);const a=new f.Introduction(e.name||e.client_name||n||null,e.phone||i||null,e.email||r||null,e.description||o||null,(0,l.getSystemSettings)().eula&&t||null);d.connectionAdapter.sendEventIfConnected(a)},h={setClientContactInfo:(e,t=!1,n=!1)=>{p.warn("setClientContactInfo",e,t,n),g(e),t||(c.clientDispatchers.setIsIntroduced(!0),i.default.trackGaveContacts(),n&&s.Monitoring.telemetry(o.TelemetryName.INTRODUCE,{param1:r.default.contacts_ask,param2:JSON.stringify({name:Boolean(e.client_name||e.name),department_id:e.departmentId,email:Boolean(e.email),phone:Boolean(e.phone)})}),(0,u._callUserFunction)("onIntroduction"))},setIntroduce:g}},42634:function(e,t,n){"use strict";n.r(t),n.d(t,{pushRateForm:function(){return s}});var i=n(81152),r=n(83170),o=n(54415),a=n(26932);const s=(e,t,n)=>{a.messagesDispatchers.destroyByType(i.MessageType.RATE_FORM),a.messagesDispatchers.addMessage({type:i.MessageType.RATE_FORM,from:i.MessageInitiator.SYSTEM,chat_id:e,created_ts:n?n+1e3:(new Date).getTime(),body:{submited:!1,rate:null,comment:null,closed:!1}}),o.Monitoring.telemetry(r.TelemetryName.RATE_FORM_ADD,{param1:e,param2:t})}},49979:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var i=n(48999),r=n(16016),o=n(49963);const a=({campaign_id:e,clientAnswer:t,image:n})=>{var a,s;const l=(0,i.getCampaignById)(e);if(!l)return;const u=null===(s=null===(a=l.content)||void 0===a?void 0:a.popup_settings)||void 0===s?void 0:s.screens[0],c={campaign_id:e,tag_id:l.tag_id,type:l.type,title:null==u?void 0:u.title,subtitle:null==u?void 0:u.subtitle,text:null==u?void 0:u.text};o.connectionAdapter.sendEvent({name:"client_message_campaign",message:c.title||c.text,private_id:(0,r.generateGUID)(),media:{type:"photo",width:(null==n?void 0:n.width)||0,height:(null==n?void 0:n.height)||0,file:(null==u?void 0:u.img_src)||"https://files.jivosite.com/campaigns/images/template-1-img.webp",address:Object.assign(Object.assign({referral_type:"campaign"},c),{client_answer:t})}})}},25516:function(e,t,n){"use strict";n.r(t),n.d(t,{Orientations:function(){return i},Paddings:function(){return r},fixPositionDragData:function(){return a}});var i,r,o=n(75998);function a(e,t){e===i.Right&&o.positionDispatch.setLeftOffset(""),e===i.Left&&o.positionDispatch.setRightOffset(""),e===i.Bottom&&(t===r.Left?o.positionDispatch.setRightOffset(""):o.positionDispatch.setLeftOffset(""))}!function(e){e.Left="left",e.Bottom="bottom",e.Right="right"}(i||(i={})),function(e){e[e.Left=0]="Left",e[e.Center=50]="Center",e[e.Bottom=100]="Bottom"}(r||(r={}))},56163:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});const i=n(98661).default.createContext({isWidgetConstructor:!1,isMobileView:!1,isPreview:!1})},80797:function(e,t,n){"use strict";n.r(t),n.d(t,{useWidgetConstructorContext:function(){return o}});var i=n(98661),r=n(56163);const o=()=>(0,i.useContext)(r.e)},29854:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});const i=n(98661).default.createContext({target:"",isWidgetTarget:!1,isWidgetExtensions:!1})},13551:function(e,t,n){"use strict";n.r(t),n.d(t,{useWidgetExtensionsContext:function(){return o}});var i=n(98661),r=n(29854);const o=()=>(0,i.useContext)(r.M)},24785:function(e,t,n){"use strict";n.r(t),n.d(t,{SvgIcon:function(){return a}});var i=n(16584),r=n(98661);const o=({icon:e,isHover:t,color:n,color2:i,hoverColor:r,style:o})=>{let a=encodeURIComponent(e);const s=new RegExp("_COLOR1_","ig"),l=new RegExp("_COLOR2_","ig"),u=t?r:n;return u&&(a=a.replace(s,u.replace("#","%23"))),i&&(a=a.replace(l,i.replace("#","%23"))),Object.assign({backgroundImage:`url("data:image/svg+xml,${a}")`},o)},a=({icon:e,title:t,className:n,color:a,color2:s,hoverColor:l,style:u,qaId:c})=>{const[d,f]=(0,r.useState)(!1),p=e=>l&&f(e);return(0,i.tZ)("jdiv",{className:n,title:t,style:o({icon:e,color:a,color2:s,hoverColor:l,isHover:d,style:u}),"data-qa-id":c,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1)})}},73727:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w},getCometHost:function(){return C},getConfig:function(){return T},getViHost:function(){return E},initConfig:function(){return b},setConfigParam:function(){return D}});var i,r,o=n(68403);!function(e){e.ONLINE="online",e.OFFLINE="offline"}(i||(i={})),function(e){e[e.DURING_CHAT_NO_CLOSE=-1]="DURING_CHAT_NO_CLOSE",e[e.DURING_CHAT=0]="DURING_CHAT",e[e.BEFORE_CHAT=1]="BEFORE_CHAT",e[e.DISABLED=2]="DISABLED",e[e.SOCIAL=3]="SOCIAL"}(r||(r={}));var a,s,l,u,c=n(22932),d=n(52028),f=n(97615),p=n(45948),g=n(73422),h=n(23400);const _=(0,c.getPageWindow)();let m=_.jivo_config;switch(f.EnvironmentManager.isSelfhosted()?n.p=`${_.location.protocol}${m.base_url}/`:n.p=`https:${m.base_url}/`,m.chat_mode){case i.ONLINE:case 1:m.chat_mode=i.ONLINE;break;case i.OFFLINE:case 0:m.chat_mode=i.OFFLINE}m.bots&&Boolean(m.enable_bot_offline)&&(m.chat_mode=i.ONLINE),m.callback_settings||(m.callback_settings={}),m.contacts_settings||(m.contacts_settings={name:{show:!1,required:!1},email:{show:!0,required:!0},phone:{show:!1,required:!1}}),m.enable_client_attributes?(0,g.isArray)(m.contacts_settings)&&(m.contacts_settings_new=m.contacts_settings,m.contacts_settings=(0,h.Ks)(m.contacts_settings)):m.contacts_settings=(0,h.cs)((0,g.isArray)(m.contacts_settings)?(0,h.Ks)(m.contacts_settings):m.contacts_settings),m.contacts_settings&&m.contacts_ask===r.BEFORE_CHAT&&((null===(a=m.contacts_settings.phone)||void 0===a?void 0:a.show)||(null===(s=m.contacts_settings.email)||void 0===s?void 0:s.show)||(null===(l=m.contacts_settings.name)||void 0===l?void 0:l.show)||m.contacts_settings.email&&(m.contacts_settings.email.show=!0));const v=m.chat_mode===i.ONLINE;v&&m.contacts_ask===r.DISABLED&&!(0,o.isEmailOrPhoneRequired)(m.contacts_settings)&&(m.contacts_settings.email={show:!0,required:!0}),v||(0,o.isEmailOrPhoneRequired)(m.contacts_settings)||(m.contacts_settings=(0,o.fixOfflineSettings)(m.contacts_settings)),m.widget_color2||"#383345"!=m.widget_color||(m.widget_color="#2F324A",m.widget_color2="#424867",m.power_gradient=1),m.bubble_color||(m.bubble_color="green"),"[object Object]"===Object.prototype.toString.call(_.wix_context)&&"[object Object]"===Object.prototype.toString.call(_.jivo_wix)&&Object.assign(m,_.jivo_wix),_.jivo_in_wix_iframe&&(m.widget_orientation="bottom"),d.isDesignerEditor&&Object.assign(m,_._desingerConfig),m.joint&&"RU"===(null===(u=m.geoip)||void 0===u?void 0:u.split(";")[0])&&(delete m.joint.ig,delete m.joint.fb),m.disable_botmode&&(m.botmode=null);const y=f.EnvironmentManager.isWidgetConstructor();((0,c.isChatPage)()||p.isPopupConstructor||y)&&(m.campaigns=null),y&&(m.chat_mode="online");const b=e=>window.parent.jivo_config=m=e,E=()=>null==m?void 0:m.vi_host,C=()=>null==m?void 0:m.chat_host,T=()=>m,D=(e,t)=>{const n=m;n[e]=t,b(n)};var w=m},23400:function(e,t,n){"use strict";n.d(t,{Ks:function(){return o},cs:function(){return s},gG:function(){return a}});var i=n(73727),r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const o=e=>e.reduce(((e,t)=>{var{name:n}=t,i=r(t,["name"]);return e[n]=i,e}),{}),a=()=>{const e=null===i.default||void 0===i.default?void 0:i.default.contacts_settings;if(!e)return"";const t=[],n=null===i.default||void 0===i.default?void 0:i.default.contacts_settings_new;if(n)return n.forEach((e=>{e.show&&t.push(`${e.name}${e.required?"*":""}`)})),t.join(";");if(e){const n={name:0,phone:1,email:2};Object.keys(e).forEach((i=>{e[i].show&&(t[n[i]]=i+e[i].required?"*":"")}))}return t.join(";")},s=e=>["name","email","phone","description"].reduce(((t,n)=>{const i=e[n];return i&&(t[n]=i),t}),{})},20676:function(e,t,n){"use strict";n.r(t),n.d(t,{platform:function(){return I}});const i=(0,n(22932).getPageWindow)(),r=i.navigator.userAgent.toLowerCase(),o=/mobile/.test(r),a=/tablet/.test(r),s=/windows/.test(r),l=s&&/phone/.test(r),u=s&&/touch/.test(r)&&!l&&!/trident/.test(r),c=/android/.test(r),d=c&&o,f=c&&!o,p=/blackberry|bb10|rim/.test(r),g=p&&!a,h=p&&a,_=/mac/.test(r),m=/iphone/.test(r),v=/ipod/.test(r),y=/ipad/.test(r)||/macintosh/.test(r)&&"ontouchend"in i,b=m||v||y,E=_&&!b,C=/opera|opr|presto/.test(r),T=C&&/mini|opios/.test(r),D=/firefox/.test(r),w=/chrome/.test(r),O=/crios/.test(r),S=d||m||v||l||g,A=y||f||h||u,I={isWindows:s,isMac:E,isIos:b,isAndroid:c,isMobile:S,isTablet:A,isOpera:C,isOperaMini:T,isFirefox:D,isChrome:w,isChromeIos:O,isSafari:/safari/.test(r)&&!w&&!O,isEdge:/edge/.test(r),isMobileOrTablet:S||A,isDesktop:!S&&!A,isTouchEnabled:"ontouchstart"in i}},85347:function(e,t,n){"use strict";n.r(t),n.d(t,{getEmojiURL:function(){return u},getFlagIconURL:function(){return d},getPatternURL:function(){return c},getStaticURL:function(){return s},getValidLink:function(){return l}});var i=n(73727),r=n(22932),o=n(2491);const a=(0,r.isDevelopment)()?"/public":"",s=(e,t=!0)=>{let n=e;return t||(n+=`?rnd=${Date.now()}`),(0,r.isDevelopment)()?n:`${(0,r.getProtocol)()}${null===i.default||void 0===i.default?void 0:i.default.base_url}${n}`},l=e=>(0,o.i)(e)?e:`${(0,r.getProtocol)()}//${e}`,u=e=>s(`${a}/images/emoji/${e}.svg`),c=e=>e?s(`${a}/images/pattern/${e}.svg`):null,d=e=>s(`${a}/images/flags/${e}.png?v=1`)},15496:function(e,t,n){"use strict";n.r(t),n.d(t,{withLocator:function(){return r}});var i=n(97615);const r=e=>i.EnvironmentManager.isProduction()?void 0:{"data-qa-id":e}},58345:function(e,t,n){"use strict";n.r(t),n.d(t,{chunkArray:function(){return i},unique:function(){return r}});const i=(e,t)=>{const n=[];let i=0;for(;i<e.length;)n.push(e.slice(i,i+t)),i+=t;return n},r=e=>Array.from(new Set(e))},47361:function(e,t,n){"use strict";n.r(t),n.d(t,{debounce:function(){return l}});var i=n(73422);const r=null!==n.g&&"object"==typeof n.g&&n.g.Object===Object&&n.g,o=null!==globalThis&&"object"==typeof globalThis&&globalThis.Object===Object&&globalThis,a="object"==typeof self&&null!==self&&self.Object===Object&&self,s=o||r||a||Function("return this")();function l(e,t,n){let r,o,a,l,u,c,d=0,f=!1,p=!1,g=!0;const h=!t&&0!==t&&"function"==typeof s.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){const n=r,i=o;return r=o=void 0,d=t,l=e.apply(i,n),l}function m(e,t){return h?(s.cancelAnimationFrame(u),s.requestAnimationFrame(e)):setTimeout(e,t)}function v(e){const n=e-c;return void 0===c||n>=t||n<0||p&&e-d>=a}function y(){const e=Date.now();if(v(e))return b(e);u=m(y,function(e){const n=e-d,i=t-(e-c);return p?Math.min(i,a-n):i}(e))}function b(e){return u=void 0,g&&r?_(e):(r=o=void 0,l)}function E(...e){const n=Date.now(),i=v(n);if(r=e,o=this,c=n,i){if(void 0===u)return function(e){return d=e,u=m(y,t),f?_(e):l}(c);if(p)return u=m(y,t),_(c)}return void 0===u&&(u=m(y,t)),l}return t=+t||0,(0,i.isObject)(n)&&(f=!!n.leading,p="maxWait"in n,a=p?Math.max(+n.maxWait||0,t):a,g="trailing"in n?!!n.trailing:g),E.cancel=function(){var e;void 0!==u&&(e=u,h?s.cancelAnimationFrame(e):clearTimeout(e)),d=0,r=c=o=u=void 0},E.flush=function(){return void 0===u?l:b(Date.now())},E.pending=function(){return void 0!==u},E}},32183:function(e,t,n){"use strict";n.r(t),n.d(t,{addClass:function(){return D},addNewLine:function(){return S},blurActiveElement:function(){return R},getComputedStyleAll:function(){return y},getElementPosition:function(){return O},getInnerHeight:function(){return b},getInnerWidth:function(){return E},getNextSiblingNodeFocus:function(){return C},getScrollBarWidth:function(){return v},hasClass:function(){return T},isInput:function(){return A},isInputFocused:function(){return N},isNoScroll:function(){return M},isParentA:function(){return P},isParentHasElement:function(){return L},isScrolledIntoView:function(){return k},isTextArea:function(){return I},isVisible:function(){return m},pageVisible:function(){return _},removeClass:function(){return w},showCustomLabel:function(){return x}});var i=n(34548),r=n(76784),o=n(60277),a=n(22932),s=n(73422),l=n(69882),u=n(20676);let c;const d="classList"in document.documentElement,f=e=>{e.offsetHeight},p=e=>(0,s.isArray)(e)?e:e.replace(/^\s+|\s+$/g,"").split(/\s+/),g=e=>p(e.className),h=(e,t)=>{const n=t.join(" ");e.className!==n&&(e.className=n,f(e))},_=()=>"visibilityState"in document?"visible"===document.visibilityState:"webkitVisibilityState"in document&&"visible"===document.webkitVisibilityState,m=e=>Boolean(e&&e.offsetWidth>0&&e.offsetHeight>0),v=()=>{var e;if(u.platform.isMobileOrTablet)return 0;if(void 0!==c)return c;const t=document.createElement("div");if(t.style.visibility="hidden",t.style.width="100px",!document||!document.body)return c;document.body.appendChild(t);const n=t.offsetWidth;t.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",t.appendChild(i);const r=i.offsetWidth;return null===(e=t.parentNode)||void 0===e||e.removeChild(t),c=n-r,c},y=(e,t,n)=>"getComputedStyle"in window?window.getComputedStyle(e,n)[t]:e.style[t],b=e=>{const t=y(e,"paddingTop"),n=y(e,"paddingBottom");return e.clientHeight-parseFloat(t)-parseFloat(n)},E=e=>{const t=y(e,"paddingLeft"),n=y(e,"paddingRight");return e.clientWidth-parseFloat(t)-parseFloat(n)},C=e=>{var t;if(13===(null==e?void 0:e.keyCode)||"Enter"===e.key){const n=(null===(t=e.currentTarget)||void 0===t?void 0:t.parentNode).nextElementSibling;let i=n.querySelector("input");if(i||(i=n.querySelector("jdiv")||n.querySelector("textarea")),!i)return;if(A(i.tagName)&&i.focus)i.focus();else{const e=u.platform.isTablet?"touchstart":"click",t=document.createEvent("MouseEvents");t.initEvent(e,!0,!0),i.dispatchEvent(t)}}},T=(e,t)=>d?e.classList.contains(t):""!==e.className&&g(e).includes(t),D=(e,t)=>{if(d)p(t).forEach((t=>{e&&e.classList.add(t)}),p(t)),e&&f(e);else{const n=g(e),i=(0,r.G)(n,p(t));h(e,i)}},w=(e,t)=>{if(d)p(t).forEach((t=>{null==e||e.classList.remove(t)}),p(t)),e&&f(e);else{const n=g(e),r=(0,i.difference)(n,p(t));h(e,r)}},O=e=>{let t={width:0,height:0,top:0,left:0,windowWidth:0,windowHeight:0,minLeft:0};if(!e)return t;if(e.getBoundingClientRect){const n=e.getBoundingClientRect();t=n.toJSON?(0,o.extend)(t,n.toJSON()):t=n}t.width=e.offsetWidth,t.height=e.offsetHeight;const n=e.ownerDocument.defaultView;return t.windowWidth=(null==n?void 0:n.innerWidth)||0,t.windowHeight=(null==n?void 0:n.innerHeight)||0,t},S=(e,t)=>{if(!e)return!1;const n=e.selectionStart,i=t.substring(0,n||void 0),r=t.substring(n,t.length);return n!==e.value.length?(e.value=`${i}\r\n${r}`,e.setSelectionRange(n,n)):(e.value+="\r\n",e.scrollTop=e.scrollHeight),e.value},A=e=>!!e&&["input","textarea"].includes(e.toLowerCase()),I=e=>!!e&&"textarea"===e.tagName.toLowerCase(),k=(e,t)=>{if(e&&t&&t.base){if(t.getScrollTop()<100)return!0;const n=t.base,{top:i,bottom:r,height:o}=e.getBoundingClientRect(),a=n.getBoundingClientRect();return i<=a.top?a.top-i<=o:r-a.bottom<=o}return!1},M=(e,t)=>{var n;if((null==e?void 0:e.base)&&t){return e.getScrollHeight()<(null===(n=null==e?void 0:e.base)||void 0===n?void 0:n.clientHeight)||t.lastChild&&t.lastChild.lastChild&&t.lastChild.lastChild.clientHeight>e.getClientHeight()}},P=e=>e&&e.target.parentNode&&"A"===e.target.parentNode.tagName,R=()=>{const e=(0,a.getPageWindow)().document.activeElement;(null==e?void 0:e.blur)&&e.blur()},x=e=>{const t=(0,a.getPageWindow)().jivo_cstm_widget;if((0,l.isCustomLabel)()&&t)try{t.style.display=e?"block":"none"}catch(e){}},N=()=>{const e=(0,a.getPageWindow)().document.activeElement;return Boolean(e&&A(null==e?void 0:e.tagName))},L=(e,t)=>Boolean(t.contains(e))},52161:function(e,t,n){"use strict";n.r(t),n.d(t,{escape:function(){return a}});const i=/[&<>"']/g,r=RegExp(i.source),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function a(e){return r.test(e)?e.replace(i,(e=>o[e])):e}},90970:function(e,t,n){"use strict";n.r(t),n.d(t,{isArrayEqual:function(){return r}});var i=n(36113);const r=(e,t)=>e.length===t.length&&e.length===e.filter(((e,n)=>(0,i.shallowEqual)(e,t[n]))).length},43417:function(e,t,n){"use strict";n.r(t),n.d(t,{onClickHandler:function(){return o}});var i=n(20676);const r=i.platform.isMobileOrTablet&&i.platform.isTouchEnabled?"onTouchEnd":"onClick",o=(e,t=!0,n=!1,i=!1)=>({[r]:r=>{n&&r.preventDefault(),t&&(r.stopPropagation(),r.stopImmediatePropagation()),i||e(r)}})},30633:function(e,t,n){"use strict";n.r(t),n.d(t,{EMOJI_REGEX:function(){return i}});const i=/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g},79225:function(e,t,n){"use strict";n.r(t),n.d(t,{kebabCase:function(){return i},replaceAll:function(){return r}});const i=e=>e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),r=(e,t,n)=>e.split(t).join(n)},73262:function(e,t,n){"use strict";function i(e,t,n){let i,r,o,a,s=0;n||(n={});const l=function(){s=!1===(null==n?void 0:n.leading)?0:Date.now(),i=null,a=e.apply(r,o),i||(r=o=null)},u=function(){const u=Date.now();s||!1!==(null==n?void 0:n.leading)||(s=u);const c=t-(u-s);return r=this,o=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),s=u,a=e.apply(r,o),i||(r=o=null)):i||!1===(null==n?void 0:n.trailing)||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u}n.r(t),n.d(t,{throttle:function(){return i}})},73422:function(e,t,n){"use strict";n.r(t),n.d(t,{isArray:function(){return l},isFunction:function(){return r},isNil:function(){return i},isNumber:function(){return o},isNumeric:function(){return a},isObject:function(){return s}});const i=e=>null==e,r=e=>"function"==typeof e,o=e=>"number"==typeof e,a=e=>("number"==typeof e||"string"==typeof e&&""!==e.trim())&&!isNaN(e),s=e=>null!==e&&"object"==typeof e&&!l(e),l=e=>null!==e&&Array.isArray(e)},2491:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});const i=(e,t)=>{const n=(e=>{try{return new URL(e)}catch(e){return}})(e);return!!n&&(t?t(n):/^https?:$/.test(n.protocol))}},22932:function(e,t,n){"use strict";n.r(t),n.d(t,{getPageWindow:function(){return a},getProtocol:function(){return l},hasExternalEmojiProcessor:function(){return u},isChatPage:function(){return s},isDevelopment:function(){return d},isProduction:function(){return f},isSelfhosted:function(){return c},isTesting:function(){return p}});const i="production",r="development",o="testing",a=()=>window.parent||window,s=()=>Boolean(a().jivo_chat_page),l=()=>{let e=a().location.protocol;return c()&&"http:"===e||["http","https"].includes(e)||(e="https:"),e},u=()=>{const e=a();return Boolean(e._wpemojiSettings||e.twemoji)},c=()=>Boolean(!1),d=()=>"production"===r,f=()=>"production"===i,p=()=>"production"===o},89334:function(e,t,n){"use strict";n.r(t),n.d(t,{useEffectOnce:function(){return r}});var i=n(98661);function r(e){(0,i.useEffect)(e,[])}},83549:function(e,t,n){"use strict";n.r(t),n.d(t,{useErrorCatcher:function(){return a}});var i=n(30396),r=n(54415),o=n(73422);function a(e,t){const[n,a]=(0,i.useErrorBoundary)((t=>{t.message+=` (in ${e} component)`,r.Monitoring.reportException(t)}));if(n)return(0,o.isFunction)(t)?null==t?void 0:t({error:n,resetError:a}):t}},22901:function(e,t,n){"use strict";n.r(t),n.d(t,{useToggle:function(){return r}});var i=n(98661);const r=e=>{const[t,n]=(0,i.useState)(Boolean(e));return[t,e=>n((t=>null!=e?e:!t))]}},39733:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var i=n(98661);function r(e,t){const n=function(){const e=(0,i.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();(0,i.useEffect)((()=>{if(!n)return e()}),t)}},20344:function(e,t,n){"use strict";n.r(t),n.d(t,{l10n:function(){return o}});var i=n(73727);const r=e=>{const t=(e=>{if(!(null===i.default||void 0===i.default?void 0:i.default.custom_langpack))return e;const t=i.default.custom_langpack[e];return t?t.replace(/&quot;/g,'"').replace(/&#039;/g,"'"):e})(e);return t===e?(e=>{if(!window.base_langpack)return e;const t=window.base_langpack[e];return t?t.replace(/&nbsp;/g,"¬†"):e})(e):t},o=e=>window.parent.__jivoPhraseappEditor?(e=>{const{customLocale:t,currentDownloadLocale:n,domKeys:i}=window.parent;return i&&t&&n?t[e]||n[e]:`{{_${e}_}}`})(e):r(e)},75998:function(e,t,n){"use strict";n.r(t),n.d(t,{campaignPopupDispatch:function(){return p},campaignWidgetDispatch:function(){return g},extensionsDispatch:function(){return h},positionDispatch:function(){return d},systemSettingsDispatch:function(){return _},zoomDispatch:function(){return f}});var i=n(83105),r=n(62096),o=n(51344),a=n(16587),s=n(61547),l=n(84348),u=n(35073),c=n(62241);const d=(0,i.DE)(o.positionActions,r.reduxStore.dispatch),f=(0,i.DE)(a.zoomActions,r.reduxStore.dispatch),p=(0,i.DE)(s.campaignPopupActions,r.reduxStore.dispatch),g=(0,i.DE)(l.campaignWidgetActions,r.reduxStore.dispatch),h=(0,i.DE)(u.extensionsActions,r.reduxStore.dispatch),_=(0,i.DE)(c.systemActions,r.reduxStore.dispatch)},24111:function(e,t,n){"use strict";n.r(t),n.d(t,{useAppDispatch:function(){return r},useAppSelector:function(){return o}});var i=n(36113);const r=()=>(0,i.useDispatch)(),o=i.useSelector},65138:function(e,t,n){"use strict";n.r(t),n.d(t,{selectApp:function(){return i},selectChatStarted:function(){return s},selectHiddenByRules:function(){return u},selectIsFocused:function(){return a},selectIsInputDisabled:function(){return l},selectIsOnline:function(){return o},selectRoute:function(){return r}});const i=e=>e.app,r=e=>i(e).route,o=e=>i(e).isOnline,a=e=>i(e).isFocused,s=e=>i(e).chatStarted,l=e=>i(e).isInputDisabled,u=e=>i(e).hiddenByRules},97979:function(e,t,n){"use strict";n.r(t),n.d(t,{selectClient:function(){return i}});const i=e=>e.client},79105:function(e,t,n){"use strict";n.r(t),n.d(t,{selectBillRu:function(){return h},selectBubbleColor:function(){return b},selectCampaignPopupSettings:function(){return l},selectCampaignWidget:function(){return u},selectCampaignWidgetMessageFeed:function(){return D},selectCampaignWidgetMobileProactive:function(){return T},selectCampaignWidgetMobileView:function(){return E},selectCampaignWidgetPreview:function(){return C},selectCampaigns:function(){return y},selectContactsSettings:function(){return d},selectContactsSettingsNew:function(){return f},selectDepartments:function(){return c},selectDisableFiletransfer:function(){return v},selectEula:function(){return m},selectFeaturesSettings:function(){return a},selectGeoIP:function(){return _},selectLocale:function(){return p},selectPermissionSettings:function(){return s},selectRateSettings:function(){return g},selectSettings:function(){return i},selectSystemSettings:function(){return o},selectUserSettings:function(){return r}});const i=e=>e.settings,r=e=>i(e).user,o=e=>i(e).system,a=e=>i(e).features,s=e=>i(e).permissions,l=e=>i(e).campaignPopup,u=e=>i(e).campaignWidget,c=e=>r(e).departments,d=e=>r(e).contactsSettings,f=e=>r(e).contactsSettingsNew,p=e=>r(e).locale,g=e=>r(e).rateSettings,h=e=>o(e).billRu,_=e=>o(e).geoIp,m=e=>a(e).eula,v=e=>a(e).disableFiletransfer,y=e=>a(e).campaigns,b=e=>r(e).bubbleColor,E=e=>e.settings.campaignWidget.isMobileView,C=e=>e.settings.campaignWidget.isPreview,T=e=>e.settings.campaignWidget.mobileProactive,D=e=>e.settings.campaignWidget.messageFeed},42601:function(e,t,n){"use strict";n.r(t),n.d(t,{selectZoom:function(){return i}});const i=e=>e.zoom},35073:function(e,t,n){"use strict";n.r(t),n.d(t,{extensions:function(){return a},extensionsActions:function(){return s}});var i=n(13862);const r={target:""},o=(0,i.createSlice)({name:"extensions",initialState:r,reducers:{setTarget(e,t){e.target=t.payload},resetExtensions(){return r}}}),a=o.reducer,s=o.actions},51344:function(e,t,n){"use strict";n.r(t),n.d(t,{position:function(){return r},positionActions:function(){return o}});const i=(0,n(13862).createSlice)({name:"position",initialState:{height:null,left:null,right:null},reducers:{initPositionStore(e,t){return t.payload},setWidgetHeight(e,t){e.height=t.payload},setLeftOffset(e,t){e.left=t.payload},setRightOffset(e,t){e.right=t.payload}}}),r=i.reducer,o=i.actions},61547:function(e,t,n){"use strict";n.r(t),n.d(t,{campaignPopup:function(){return a},campaignPopupActions:function(){return s}});var i=n(13862);const r={target:"",previewTargetDesktop:"",previewTargetMobile:"",theme:{type:"white",color:"#FFFFFF"},screens:[],activeScreen:0,display:!1,isMobileView:!1,isGalleryView:!1,campaignId:null,clientAnswerId:null,enableNotifications:null,onSubmitActionCallback:null,answerData:null},o=(0,i.createSlice)({name:"campaignPopup",initialState:r,reducers:{updateCampaignPopup(e,t){return Object.assign(Object.assign({},e),t.payload)},setActiveScreen(e,t){e.activeScreen=t.payload},setDisplay(e,t){e.display=t.payload},setClientAnswerId(e,t){e.clientAnswerId=t.payload},reset(){return r}}}),a=o.reducer,s=o.actions},84348:function(e,t,n){"use strict";n.r(t),n.d(t,{campaignWidget:function(){return a},campaignWidgetActions:function(){return s}});var i=n(13862);const r={isMobileView:!1,isPreview:!1,mobileProactive:null,messageFeed:[]},o=(0,i.createSlice)({name:"campaignWidget",initialState:r,reducers:{setMobileView(e,t){e.isMobileView=t.payload},setPreview(e,t){e.isPreview=t.payload},setMobileProactive(e,t){e.mobileProactive=t.payload},setMessageFeed(e,t){e.messageFeed=t.payload},reset(){return r}}}),a=o.reducer,s=o.actions},62241:function(e,t,n){"use strict";n.r(t),n.d(t,{initialState:function(){return s},system:function(){return u},systemActions:function(){return c}});var i=n(13862),r=n(12902),o=n(73727);const a=e=>({abSegment:e.ab_segment,apiDomain:e.api_domain,apiHost:e.api_host,avatarUrl:e.avatar_url,baseUrl:e.base_url,botmode:!!e.botmode,buildNumber:e.build_number,chatHost:e.chat_host,configUpdatedTs:e.config_updated_ts,cookieDomain:e.cookie_domain,geoIp:e.geoip,hostBlacklist:e.host_blacklist,premium:e.options,siteId:e.site_id,unverified:e.unverified||0,viHost:e.vi_host,widgetId:e.widget_id,billRu:!!e.bill_ru,eula:e.eula||null}),s=a(o.default),l=(0,i.createSlice)({name:"system",initialState:s,reducers:{reset:()=>s,refresh:()=>a((0,o.getConfig)()),update:(e,t)=>Object.assign(Object.assign({},(0,r.Vk)(e)),t.payload)}}),u=l.reducer,c=l.actions},16587:function(e,t,n){"use strict";n.r(t),n.d(t,{zoom:function(){return r},zoomActions:function(){return o}});const i=(0,n(13862).createSlice)({name:"zoom",initialState:{user:null,page:null,app:null},reducers:{setZoomSettings(e,t){Object.assign(e,t.payload)}}}),r=i.reducer,o=i.actions},40694:function(e,t,n){"use strict";n.r(t),n.d(t,{agentToReduxFormat:function(){return i}});const i=e=>({avatarUrl:e.avatar_url,id:e.agent_id||e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!!e.bot_id,state:e.state||null,type:e.type||null,isUpdateFromBot:e.isUpdateFromBot||null})},99413:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},73189:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},35045:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},29369:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},53250:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(98661);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),a((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},50139:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(98661),r=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,s=i.useRef,l=i.useEffect,u=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,a=e,e=i(e),void 0!==r&&f.hasValue){var t=f.value;if(r(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=i(e);return void 0!==r&&r(t,n)?t:(a=e,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,i,r]);var p=a(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}},61688:function(e,t,n){"use strict";e.exports=n(53250)},52798:function(e,t,n){"use strict";e.exports=n(50139)},90842:function(e,t,n){(function(){"use strict";var e=this;function t(e){return"string"==typeof e}function n(e,t,n){return e.call.apply(e.bind,arguments)}function i(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function r(e,t,o){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i).apply(null,arguments)}function o(e){var t=ae;function n(){}n.prototype=t.prototype,e.G=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.F=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}var a=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function s(e,t){return-1!=e.indexOf(t)}function l(e,t){return e<t?-1:e>t?1:0}var u,c=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,n,i){if(i=null==i?0:0>i?Math.max(0,e.length+i):i,t(e))return t(n)&&1==n.length?e.indexOf(n,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===n)return i;return-1},d=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,n,i){for(var r=e.length,o=t(e)?e.split(""):e,a=0;a<r;a++)a in o&&n.call(i,o[a],a,e)},f=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,n,i){for(var r=e.length,o=[],a=0,s=t(e)?e.split(""):e,l=0;l<r;l++)if(l in s){var u=s[l];n.call(i,u,l,e)&&(o[a++]=u)}return o},p=Array.prototype.reduce?function(e,t,n,i){return i&&(t=r(t,i)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,i){var r=n;return d(e,(function(n,o){r=t.call(i,r,n,o,e)})),r},g=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,n,i){for(var r=e.length,o=t(e)?e.split(""):e,a=0;a<r;a++)if(a in o&&n.call(i,o[a],a,e))return!0;return!1};function h(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}e:{var _=e.navigator;if(_){var m=_.userAgent;if(m){u=m;break e}}u=""}var v,y,b=s(u,"Opera")||s(u,"OPR"),E=s(u,"Trident")||s(u,"MSIE"),C=s(u,"Edge"),T=s(u,"Gecko")&&!(s(u.toLowerCase(),"webkit")&&!s(u,"Edge"))&&!(s(u,"Trident")||s(u,"MSIE"))&&!s(u,"Edge"),D=s(u.toLowerCase(),"webkit")&&!s(u,"Edge");function w(){var t=e.document;return t?t.documentMode:void 0}e:{var O="",S=(y=u,T?/rv\:([^\);]+)(\)|;)/.exec(y):C?/Edge\/([\d\.]+)/.exec(y):E?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(y):D?/WebKit\/(\S+)/.exec(y):b?/(?:Version)[ \/]?(\S+)/.exec(y):void 0);if(S&&(O=S?S[1]:""),E){var A=w();if(null!=A&&A>parseFloat(O)){v=String(A);break e}}v=O}var I={};function k(e){if(!I[e]){for(var t=0,n=a(String(v)).split("."),i=a(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var s=n[o]||"",u=i[o]||"",c=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var f=c.exec(s)||["","",""],p=d.exec(u)||["","",""];if(0==f[0].length&&0==p[0].length)break;t=l(0==f[1].length?0:parseInt(f[1],10),0==p[1].length?0:parseInt(p[1],10))||l(0==f[2].length,0==p[2].length)||l(f[2],p[2])}while(0==t)}I[e]=0<=t}}var M=e.document,P=M&&E?w()||("CSS1Compat"==M.compatMode?parseInt(v,10):5):void 0,R=E&&!(9<=Number(P)),x=E&&!(8<=Number(P));function N(e,t,n,i){this.a=e,this.nodeName=n,this.nodeValue=i,this.nodeType=2,this.parentNode=this.ownerElement=t}function L(e,t){var n=x&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new N(t,e,t.nodeName,n)}function F(e){var t=null;if(1==(n=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(R&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;var n=0,i=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),R&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),i[n++]=e}while(e=e.firstChild);for(;n&&!(e=i[--n].nextSibling););}}else t=e.nodeValue;return""+t}function j(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return x&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function B(e,n,i,r,o){return(R?W:U).call(null,e,n,t(i)?i:null,t(r)?r:null,o||new Y)}function W(e,t,n,i,r){if(e instanceof xe||8==e.b||n&&null===e.b){var o=t.all;if(!o)return r;if("*"!=(e=V(e))&&!(o=t.getElementsByTagName(e)))return r;if(n){for(var a=[],s=0;t=o[s++];)j(t,n,i)&&a.push(t);o=a}for(s=0;t=o[s++];)"*"==e&&"!"==t.tagName||ee(r,t);return r}return G(e,t,n,i,r),r}function U(e,t,n,i,r){return t.getElementsByName&&i&&"name"==n&&!E?(t=t.getElementsByName(i),d(t,(function(t){e.a(t)&&ee(r,t)}))):t.getElementsByClassName&&i&&"class"==n?(t=t.getElementsByClassName(i),d(t,(function(t){t.className==i&&e.a(t)&&ee(r,t)}))):e instanceof we?G(e,t,n,i,r):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),d(t,(function(e){j(e,n,i)&&ee(r,e)}))),r}function H(e,t,n,i,r){var o;if((e instanceof xe||8==e.b||n&&null===e.b)&&(o=t.childNodes)){var a=V(e);return"*"==a||(o=f(o,(function(e){return e.tagName&&e.tagName.toLowerCase()==a})),o)?(n&&(o=f(o,(function(e){return j(e,n,i)}))),d(o,(function(e){"*"==a&&("!"==e.tagName||"*"==a&&1!=e.nodeType)||ee(r,e)})),r):r}return z(e,t,n,i,r)}function z(e,t,n,i,r){for(t=t.firstChild;t;t=t.nextSibling)j(t,n,i)&&e.a(t)&&ee(r,t);return r}function G(e,t,n,i,r){for(t=t.firstChild;t;t=t.nextSibling)j(t,n,i)&&e.a(t)&&ee(r,t),G(e,t,n,i,r)}function V(e){if(e instanceof we){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function $(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function q(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(n)?1:-1;if(E&&!(9<=Number(P))){if(9==t.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var i=1==t.nodeType,r=1==n.nodeType;if(i&&r)return t.sourceIndex-n.sourceIndex;var o=t.parentNode,a=n.parentNode;return o==a?K(t,n):!i&&$(o,n)?-1*Z(t,n):!r&&$(a,t)?Z(n,t):(i?t.sourceIndex:o.sourceIndex)-(r?n.sourceIndex:a.sourceIndex)}return(i=(r=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),i.collapse(!0),(r=r.createRange()).selectNode(n),r.collapse(!0),i.compareBoundaryPoints(e.Range.START_TO_END,r)}function Z(e,t){var n=e.parentNode;if(n==t)return-1;for(var i=t;i.parentNode!=n;)i=i.parentNode;return K(i,e)}function K(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function Y(){this.b=this.a=null,this.l=0}function J(e){this.node=e,this.a=this.b=null}function X(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,i=t.a,r=null,o=null,a=0;n&&i;){o=n.node;var s=i.node;o==s||o instanceof N&&s instanceof N&&o.a==s.a?(o=n,n=n.a,i=i.a):0<q(n.node,i.node)?(o=i,i=i.a):(o=n,n=n.a),(o.b=r)?r.a=o:e.a=o,r=o,a++}for(o=n||i;o;)o.b=r,r=r.a=o,a++,o=o.a;return e.b=r,e.l=a,e}function Q(e,t){var n=new J(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function ee(e,t){var n=new J(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function te(e){return(e=e.a)?e.node:null}function ne(e){return(e=te(e))?F(e):""}function ie(e,t){return new re(e,!!t)}function re(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function oe(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function ae(e){this.i=e,this.b=this.g=!1,this.f=null}function se(e){return"\n  "+e.toString().split("\n").join("\n  ")}function le(e,t){e.g=t}function ue(e,t){e.b=t}function ce(e,t){var n=e.a(t);return n instanceof Y?+ne(n):+n}function de(e,t){var n=e.a(t);return n instanceof Y?ne(n):""+n}function fe(e,t){var n=e.a(t);return n instanceof Y?!!n.l:!!n}function pe(e,t,n){ae.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==ve&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function ge(e,t,n,i,r){var o;if(t=t.a(i),n=n.a(i),t instanceof Y&&n instanceof Y){for(i=oe(t=ie(t));i;i=oe(t))for(o=oe(r=ie(n));o;o=oe(r))if(e(F(i),F(o)))return!0;return!1}if(t instanceof Y||n instanceof Y){t instanceof Y?(r=t,i=n):(r=n,i=t);for(var a=typeof i,s=oe(o=ie(r));s;s=oe(o)){switch(a){case"number":s=+F(s);break;case"boolean":s=!!F(s);break;case"string":s=F(s);break;default:throw Error("Illegal primitive type for comparison.")}if(r==t&&e(s,i)||r==n&&e(i,s))return!0}return!1}return r?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function he(e,t,n,i){this.a=e,this.w=t,this.i=n,this.m=i}!T&&!E||E&&9<=Number(P)||T&&k("1.9.1"),E&&k("9"),o(pe),pe.prototype.a=function(e){return this.c.m(this.h,this.o,e)},pe.prototype.toString=function(){return"Binary Expression: "+this.c+se(this.h)+se(this.o)},he.prototype.toString=function(){return this.a};var _e={};function me(e,t,n,i){if(_e.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new he(e,t,n,i),_e[e.toString()]=e}me("div",6,1,(function(e,t,n){return ce(e,n)/ce(t,n)})),me("mod",6,1,(function(e,t,n){return ce(e,n)%ce(t,n)})),me("*",6,1,(function(e,t,n){return ce(e,n)*ce(t,n)})),me("+",5,1,(function(e,t,n){return ce(e,n)+ce(t,n)})),me("-",5,1,(function(e,t,n){return ce(e,n)-ce(t,n)})),me("<",4,2,(function(e,t,n){return ge((function(e,t){return e<t}),e,t,n)})),me(">",4,2,(function(e,t,n){return ge((function(e,t){return e>t}),e,t,n)})),me("<=",4,2,(function(e,t,n){return ge((function(e,t){return e<=t}),e,t,n)})),me(">=",4,2,(function(e,t,n){return ge((function(e,t){return e>=t}),e,t,n)}));var ve=me("=",3,2,(function(e,t,n){return ge((function(e,t){return e==t}),e,t,n,!0)}));function ye(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function be(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");ae.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function Ee(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&d(t,(function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)})),ae.call(this,e.i),this.h=e,this.c=t,le(this,e.g||g(t,(function(e){return e.g}))),ue(this,e.D&&!t.length||e.C&&!!t.length||g(t,(function(e){return e.b})))}function Ce(e,t,n,i,r,o,a,s,l){this.j=e,this.i=t,this.g=n,this.D=i,this.C=r,this.m=o,this.A=a,this.v=void 0!==s?s:a,this.B=!!l}me("!=",3,2,(function(e,t,n){return ge((function(e,t){return e!=t}),e,t,n,!0)})),me("and",2,2,(function(e,t,n){return fe(e,n)&&fe(t,n)})),me("or",1,2,(function(e,t,n){return fe(e,n)||fe(t,n)})),o(be),be.prototype.a=function(e){return e=this.c.a(e),Ve(this.h,e)},be.prototype.toString=function(){return"Filter:"+se(this.c)+se(this.h)},o(Ee),Ee.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},Ee.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=p(this.c,(function(e,t){return e+se(t)}),"Arguments:");e=e+se(t)}return e},Ce.prototype.toString=function(){return this.j};var Te={};function De(e,t,n,i,r,o,a,s){if(Te.hasOwnProperty(e))throw Error("Function already created: "+e+".");Te[e]=new Ce(e,t,n,i,!1,r,o,a,s)}function we(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Oe(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Se(e){this.b=e,this.a=0}De("boolean",2,!1,!1,(function(e,t){return fe(t,e)}),1),De("ceiling",1,!1,!1,(function(e,t){return Math.ceil(ce(t,e))}),1),De("concat",3,!1,!1,(function(e,t){return p(h(arguments,1),(function(t,n){return t+de(n,e)}),"")}),2,null),De("contains",2,!1,!1,(function(e,t,n){return s(de(t,e),de(n,e))}),2),De("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),De("false",2,!1,!1,(function(){return!1}),0),De("floor",1,!1,!1,(function(e,t){return Math.floor(ce(t,e))}),1),De("id",4,!1,!1,(function(e,n){function i(e){if(R){var n=r.all[e];if(n){if(n.nodeType&&e==n.id)return n;if(n.length)return function(e,n){var i;e:{i=e.length;for(var r=t(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&n.call(void 0,r[o],o,e)){i=o;break e}i=-1}return 0>i?null:t(e)?e.charAt(i):e[i]}(n,(function(t){return e==t.id}))}return null}return r.getElementById(e)}var r=9==(o=e.a).nodeType?o:o.ownerDocument,o=de(n,e).split(/\s+/),a=[];d(o,(function(e){!(e=i(e))||0<=c(a,e)||a.push(e)})),a.sort(q);var s=new Y;return d(a,(function(e){ee(s,e)})),s}),1),De("lang",2,!1,!1,(function(){return!1}),1),De("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),De("local-name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""}),0,1,!0),De("name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""}),0,1,!0),De("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),De("normalize-space",3,!1,!0,(function(e,t){return(t?de(t,e):F(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),De("not",2,!1,!1,(function(e,t){return!fe(t,e)}),1),De("number",1,!1,!0,(function(e,t){return t?ce(t,e):+F(e.a)}),0,1),De("position",1,!0,!1,(function(e){return e.b}),0),De("round",1,!1,!1,(function(e,t){return Math.round(ce(t,e))}),1),De("starts-with",2,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),0==t.lastIndexOf(e,0)}),2),De("string",3,!1,!0,(function(e,t){return t?de(t,e):F(e.a)}),0,1),De("string-length",1,!1,!0,(function(e,t){return(t?de(t,e):F(e.a)).length}),0,1),De("substring",3,!1,!1,(function(e,t,n,i){if(n=ce(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(i=i?ce(i,e):1/0,isNaN(i)||-1/0===i)return"";n=Math.round(n)-1;var r=Math.max(n,0);return e=de(t,e),1/0==i?e.substring(r):e.substring(r,n+Math.round(i))}),2,3),De("substring-after",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)}),2),De("substring-before",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),De("sum",1,!1,!1,(function(e,t){for(var n=ie(t.a(e)),i=0,r=oe(n);r;r=oe(n))i+=+F(r);return i}),1,1,!0),De("translate",3,!1,!1,(function(e,t,n,i){t=de(t,e),n=de(n,e);var r=de(i,e);for(e={},i=0;i<n.length;i++){var o=n.charAt(i);o in e||(e[o]=r.charAt(i))}for(n="",i=0;i<t.length;i++)n+=(o=t.charAt(i))in e?e[o]:o;return n}),3),De("true",2,!1,!1,(function(){return!0}),0),we.prototype.a=function(e){return null===this.b||this.b==e.nodeType},we.prototype.f=function(){return this.h},we.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=se(this.c)),e};var Ae=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Ie=/^\s/;function ke(e,t){return e.b[e.a+(t||0)]}function Me(e){return e.b[e.a++]}function Pe(e){return e.b.length<=e.a}function Re(e){ae.call(this,3),this.c=e.substring(1,e.length-1)}function xe(e,t){var n;this.j=e.toLowerCase(),n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function Ne(e){switch(e.nodeType){case 1:return function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(Fe,e);case 9:return Ne(e.documentElement);case 11:case 10:case 6:case 12:return Le;default:return e.parentNode?Ne(e.parentNode):Le}}function Le(){return null}function Fe(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?Fe(e.parentNode,t):null}function je(e){ae.call(this,1),this.c=e}function Be(e,t){if(ae.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=Ye||"*"!=(n=n.o).f()&&(this.f={name:n.f(),s:null})}}function We(){ae.call(this,4)}function Ue(){ae.call(this,4)}function He(e){return"/"==e||"//"==e}function ze(e){ae.call(this,4),this.c=e,le(this,g(this.c,(function(e){return e.g}))),ue(this,g(this.c,(function(e){return e.b})))}function Ge(e,t){this.a=e,this.b=!!t}function Ve(e,t,n){for(n=n||0;n<e.a.length;n++)for(var i,r=e.a[n],o=ie(t),a=t.l,s=0;i=oe(o);s++){var l=e.b?a-s:s+1;if("number"==typeof(i=r.a(new ye(i,l,a))))l=l==i;else if("string"==typeof i||"boolean"==typeof i)l=!!i;else{if(!(i instanceof Y))throw Error("Predicate.evaluate returned an unexpected type.");l=0<i.l}if(!l){if(i=(l=o).f,!(c=l.a))throw Error("Next must be called at least once before remove.");var u=c.b,c=c.a;u?u.a=c:i.a=c,c?c.b=u:i.b=u,i.l--,l.a=null}}return t}function $e(e,t,n,i){ae.call(this,4),this.c=e,this.o=t,this.h=n||new Ge([]),this.u=!!i,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=R?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function qe(e,t,n,i){this.j=e,this.f=t,this.a=n,this.b=i}o(Re),Re.prototype.a=function(){return this.c},Re.prototype.toString=function(){return"Literal: "+this.c},xe.prototype.a=function(e){var t=e.nodeType;return(1==t||2==t)&&(("*"==this.j||this.j==e.localName.toLowerCase())&&("*"==this.c||this.c==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},xe.prototype.f=function(){return this.j},xe.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},o(je),je.prototype.a=function(){return this.c},je.prototype.toString=function(){return"Number: "+this.c},o(Be),o(We),We.prototype.a=function(e){var t=new Y;return 9==(e=e.a).nodeType?ee(t,e):ee(t,e.ownerDocument),t},We.prototype.toString=function(){return"Root Helper Expression"},o(Ue),Ue.prototype.a=function(e){var t=new Y;return ee(t,e.a),t},Ue.prototype.toString=function(){return"Context Helper Expression"},Be.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof Y))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,i=(e=this.c).length;n<i&&t.l;n++){var r,o=e[n],a=ie(t,o.c.a);if(o.g||o.c!=Qe)if(o.g||o.c!=tt)for(r=oe(a),t=o.a(new ye(r));null!=(r=oe(a));)t=X(t,r=o.a(new ye(r)));else r=oe(a),t=o.a(new ye(r));else{for(r=oe(a);(t=oe(a))&&(!r.contains||r.contains(t))&&8&t.compareDocumentPosition(r);r=t);t=o.a(new ye(r))}}return t},Be.prototype.toString=function(){var e;if(e="Path Expression:"+se(this.h),this.c.length){var t=p(this.c,(function(e,t){return e+se(t)}),"Steps:");e+=se(t)}return e},o(ze),ze.prototype.a=function(e){var t=new Y;return d(this.c,(function(n){if(!((n=n.a(e))instanceof Y))throw Error("Path expression must evaluate to NodeSet.");t=X(t,n)})),t},ze.prototype.toString=function(){return p(this.c,(function(e,t){return e+se(t)}),"Union Expression:")},Ge.prototype.toString=function(){return p(this.a,(function(e,t){return e+se(t)}),"Predicates:")},o($e),$e.prototype.a=function(e){var t=e.a,n=null,i=null,r=null,o=0;if((n=this.f)&&(i=n.name,r=n.s?de(n.s,e):null,o=1),this.u)if(this.g||this.c!=Je)if(t=oe(e=ie(new $e(Xe,new we("node")).a(e))))for(n=this.m(t,i,r,o);null!=(t=oe(e));)n=X(n,this.m(t,i,r,o));else n=new Y;else n=B(this.o,t,i,r),n=Ve(this.h,n,o);else n=this.m(e.a,i,r,o);return n},$e.prototype.m=function(e,t,n,i){return e=this.c.f(this.o,e,t,n),Ve(this.h,e,i)},$e.prototype.toString=function(){var e;if(e="Step:"+se("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=se("Axis: "+this.c)),e+=se(this.o),this.h.a.length){var t=p(this.h.a,(function(e,t){return e+se(t)}),"Predicates:");e+=se(t)}return e},qe.prototype.toString=function(){return this.j};var Ze={};function Ke(e,t,n,i){if(Ze.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new qe(e,t,n,!!i),Ze[e]=t}Ke("ancestor",(function(e,t){for(var n=new Y,i=t;i=i.parentNode;)e.a(i)&&Q(n,i);return n}),!0),Ke("ancestor-or-self",(function(e,t){var n=new Y,i=t;do{e.a(i)&&Q(n,i)}while(i=i.parentNode);return n}),!0);var Ye=Ke("attribute",(function(e,t){var n=new Y;if("style"==(o=e.f())&&t.style&&R)return ee(n,new N(t.style,t,"style",t.style.cssText)),n;var i=t.attributes;if(i)if(e instanceof we&&null===e.b||"*"==o)for(var r,o=0;r=i[o];o++)R?r.nodeValue&&ee(n,L(t,r)):ee(n,r);else(r=i.getNamedItem(o))&&(R?r.nodeValue&&ee(n,L(t,r)):ee(n,r));return n}),!1),Je=Ke("child",(function(e,n,i,r,o){return(R?H:z).call(null,e,n,t(i)?i:null,t(r)?r:null,o||new Y)}),!1,!0);Ke("descendant",B,!1,!0);var Xe=Ke("descendant-or-self",(function(e,t,n,i){var r=new Y;return j(t,n,i)&&e.a(t)&&ee(r,t),B(e,t,n,i,r)}),!1,!0),Qe=Ke("following",(function(e,t,n,i){var r=new Y;do{for(var o=t;o=o.nextSibling;)j(o,n,i)&&e.a(o)&&ee(r,o),r=B(e,o,n,i,r)}while(t=t.parentNode);return r}),!1,!0);Ke("following-sibling",(function(e,t){for(var n=new Y,i=t;i=i.nextSibling;)e.a(i)&&ee(n,i);return n}),!1),Ke("namespace",(function(){return new Y}),!1);var et=Ke("parent",(function(e,t){var n=new Y;if(9==t.nodeType)return n;if(2==t.nodeType)return ee(n,t.ownerElement),n;var i=t.parentNode;return e.a(i)&&ee(n,i),n}),!1),tt=Ke("preceding",(function(e,t,n,i){var r=new Y,o=[];do{o.unshift(t)}while(t=t.parentNode);for(var a=1,s=o.length;a<s;a++){var l=[];for(t=o[a];t=t.previousSibling;)l.unshift(t);for(var u=0,c=l.length;u<c;u++)j(t=l[u],n,i)&&e.a(t)&&ee(r,t),r=B(e,t,n,i,r)}return r}),!0,!0);Ke("preceding-sibling",(function(e,t){for(var n=new Y,i=t;i=i.previousSibling;)e.a(i)&&Q(n,i);return n}),!0);var nt=Ke("self",(function(e,t){var n=new Y;return e.a(t)&&ee(n,t),n}),!1);function it(e){ae.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function rt(e,t){this.a=e,this.b=t}function ot(e){for(var t,n=[];;){at(e,"Missing right hand side of binary expression."),t=pt(e);var i=Me(e.a);if(!i)break;var r=(i=_e[i]||null)&&i.w;if(!r){e.a.a--;break}for(;n.length&&r<=n[n.length-1].w;)t=new pe(n.pop(),n.pop(),t);n.push(t,i)}for(;n.length;)t=new pe(n.pop(),n.pop(),t);return t}function at(e,t){if(Pe(e.a))throw Error(t)}function st(e,t){var n=Me(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function lt(e){if(")"!=(e=Me(e.a)))throw Error("Bad token: "+e)}function ut(e){if(2>(e=Me(e.a)).length)throw Error("Unclosed literal string");return new Re(e)}function ct(e){var t,n,i=[];if(He(ke(e.a))){if(t=Me(e.a),n=ke(e.a),"/"==t&&(Pe(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new We;n=new We,at(e,"Missing next location step."),t=dt(e,t),i.push(t)}else{e:{switch(n=(t=ke(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Me(e.a),t=ot(e),at(e,'unclosed "("'),st(e,")");break;case'"':case"'":t=ut(e);break;default:if(isNaN(+t)){if(Oe(t)||!/(?![0-9])[\w]/.test(n)||"("!=ke(e.a,1)){t=null;break e}for(t=Me(e.a),t=Te[t]||null,Me(e.a),n=[];")"!=ke(e.a)&&(at(e,"Missing function argument list."),n.push(ot(e)),","==ke(e.a));)Me(e.a);at(e,"Unclosed function argument list."),lt(e),t=new Ee(t,n)}else t=new je(+Me(e.a))}"["==ke(e.a)&&(t=new be(t,n=new Ge(ft(e))))}if(t){if(!He(ke(e.a)))return t;n=t}else t=dt(e,"/"),n=new Ue,i.push(t)}for(;He(ke(e.a));)t=Me(e.a),at(e,"Missing next location step."),t=dt(e,t),i.push(t);return new Be(n,i)}function dt(e,t){var n,i,r,o;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==ke(e.a))return i=new $e(nt,new we("node")),Me(e.a),i;if(".."==ke(e.a))return i=new $e(et,new we("node")),Me(e.a),i;if("@"==ke(e.a))o=Ye,Me(e.a),at(e,"Missing attribute name");else if("::"==ke(e.a,1)){if(!/(?![0-9])[\w]/.test(ke(e.a).charAt(0)))throw Error("Bad token: "+Me(e.a));if(n=Me(e.a),!(o=Ze[n]||null))throw Error("No axis with name: "+n);Me(e.a),at(e,"Missing node name")}else o=Je;if(n=ke(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+Me(e.a));if("("==ke(e.a,1)){if(!Oe(n))throw Error("Invalid node type: "+n);if(!Oe(n=Me(e.a)))throw Error("Invalid type name: "+n);st(e,"("),at(e,"Bad nodetype");var a=null;'"'!=(r=ke(e.a).charAt(0))&&"'"!=r||(a=ut(e)),at(e,"Bad nodetype"),lt(e),n=new we(n,a)}else if(-1==(r=(n=Me(e.a)).indexOf(":")))n=new xe(n);else{var s;if("*"==(a=n.substring(0,r)))s="*";else if(!(s=e.b(a)))throw Error("Namespace prefix not declared: "+a);n=new xe(n=n.substr(r+1),s)}return r=new Ge(ft(e),o.a),i||new $e(o,n,r,"//"==t)}function ft(e){for(var t=[];"["==ke(e.a);){Me(e.a),at(e,"Missing predicate expression.");var n=ot(e);t.push(n),at(e,"Unclosed predicate expression."),st(e,"]")}return t}function pt(e){if("-"==ke(e.a))return Me(e.a),new it(pt(e));var t=ct(e);if("|"!=ke(e.a))e=t;else{for(t=[t];"|"==Me(e.a);)at(e,"Missing next union location path."),t.push(ct(e));e.a.a--,e=new ze(t)}return e}function gt(e,t){if(!e.length)throw Error("Empty XPath expression.");var n=function(e){e=e.match(Ae);for(var t=0;t<e.length;t++)Ie.test(e[t])&&e.splice(t,1);return new Se(e)}(e);if(Pe(n))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=r(t.lookupNamespaceURI,t)):t=function(){return null};var i=ot(new rt(n,t));if(!Pe(n))throw Error("Bad token: "+Me(n));this.evaluate=function(e,t){return new ht(i.a(new ye(e)),t)}}function ht(e,t){if(0==t)if(e instanceof Y)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof Y))throw Error("value could not be converted to the specified type");var n;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof Y?ne(e):""+e;break;case 1:this.numberValue=e instanceof Y?+ne(e):+e;break;case 3:this.booleanValue=e instanceof Y?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var i=ie(e);n=[];for(var r=oe(i);r;r=oe(i))n.push(r instanceof N?r.a:r);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:i=te(e),this.singleNodeValue=i instanceof N?i.a:i;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return o>=n.length?null:n[o++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function _t(e){this.lookupNamespaceURI=Ne(e)}function mt(t,n){var i=t||e,r=i.document;r.evaluate&&!n||(i.XPathResult=ht,r.evaluate=function(e,t,n,i){return new gt(e,n).evaluate(t,i)},r.createExpression=function(e,t){return new gt(e,t)},r.createNSResolver=function(e){return new _t(e)})}o(it),it.prototype.a=function(e){return-ce(this.c,e)},it.prototype.toString=function(){return"Unary Expression: -"+se(this.c)},ht.ANY_TYPE=0,ht.NUMBER_TYPE=1,ht.STRING_TYPE=2,ht.BOOLEAN_TYPE=3,ht.UNORDERED_NODE_ITERATOR_TYPE=4,ht.ORDERED_NODE_ITERATOR_TYPE=5,ht.UNORDERED_NODE_SNAPSHOT_TYPE=6,ht.ORDERED_NODE_SNAPSHOT_TYPE=7,ht.ANY_UNORDERED_NODE_TYPE=8,ht.FIRST_ORDERED_NODE_TYPE=9;var vt,yt=["wgxpath","install"],bt=e;yt[0]in bt||!bt.execScript||bt.execScript("var "+yt[0]);for(;yt.length&&(vt=yt.shift());)yt.length||void 0===mt?bt=bt[vt]?bt[vt]:bt[vt]={}:bt[vt]=mt}).call(n.g),e.exports.install=wgxpath.install,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}},10349:function(e,t,n){e.exports=n(27385)},98235:function(e,t,n){e.exports=n(81522)},19389:function(e,t,n){e.exports=n(32209)},48216:function(e,t,n){e.exports=n(14122)},51791:function(e,t,n){e.exports=n(69447)},35704:function(e,t,n){e.exports=n(81493)},54847:function(e,t,n){e.exports=n(86672)},67552:function(e,t,n){e.exports=n(60269)},3841:function(e,t,n){e.exports=n(76094)},57445:function(e,t,n){e.exports=n(73685)},88546:function(e,t,n){e.exports=n(27533)},52020:function(e,t,n){e.exports=n(84710)},39272:function(e,t,n){e.exports=n(74303)},62079:function(e,t,n){e.exports=n(93799)},92984:function(e,t,n){e.exports=n(55122)},24835:function(e,t,n){e.exports=n(10856)},25926:function(e,t,n){e.exports=n(31524)},52472:function(e,t,n){e.exports=n(86600)},48994:function(e,t,n){e.exports=n(9759)},64538:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},86765:function(e,t,n){var i=n(98235);e.exports=function(e){if(i(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},14869:function(e,t,n){var i=n(98235),r=n(64538);e.exports=function(e){if(i(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7819:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},33119:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},55067:function(e,t,n){var i=n(48216),r=n(24835),o=n(64476),a=n(58612);function s(t,n,l){var u;a()?(e.exports=s=i(u=r).call(u),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=s=function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(i(Function).apply(e,r));return n&&o(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports);return s.apply(null,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},92664:function(e,t,n){var i=n(57445);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),i(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},61125:function(e,t,n){var i=n(57445);e.exports=function(e,t,n){return t in e?i(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},23101:function(e,t,n){var i=n(67552),r=n(48216);function o(){var t;return e.exports=o=i?r(t=i).call(t):function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},44775:function(e,t,n){var i=n(25926),r=n(48216),o=n(88546),a=n(26848);function s(){var t;"undefined"!=typeof Reflect&&i?(e.exports=s=r(t=i).call(t),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=s=function(e,t,n){var i=a(e,t);if(i){var r=o(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},e.exports.__esModule=!0,e.exports.default=e.exports);return s.apply(this,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},55536:function(e,t,n){var i=n(92984),r=n(48216),o=n(39272);function a(t){var n;return e.exports=a=i?r(n=o).call(n):function(e){return e.__proto__||o(e)},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},84827:function(e,t,n){var i=n(3841),r=n(57445),o=n(64476);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=i(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r(e,"prototype",{writable:!1}),t&&o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},17907:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},51617:function(e,t,n){var i=n(51791);e.exports=function(e){var t;return-1!==i(t=Function.toString.call(e)).call(t,"[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},58612:function(e,t,n){var i=n(24835);e.exports=function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},53137:function(e,t,n){var i=n(52472),r=n(19389),o=n(10349);e.exports=function(e){if(void 0!==i&&null!=r(e)||null!=e["@@iterator"])return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4196:function(e,t,n){var i=n(52472),r=n(19389);e.exports=function(e,t){var n=null==e?null:void 0!==i&&r(e)||e["@@iterator"];if(null!=n){var o,a,s=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(s.push(o.value),!t||s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},56884:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},57636:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},88436:function(e,t,n){var i=n(52020),r=n(51791),o=n(80300);e.exports=function(e,t){if(null==e)return{};var n,a,s=o(e,t);if(i){var l=i(e);for(a=0;a<l.length;a++)n=l[a],r(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},80300:function(e,t,n){var i=n(62079),r=n(51791);e.exports=function(e,t){if(null==e)return{};var n,o,a={},s=i(e);for(o=0;o<s.length;o++)n=s[o],r(t).call(t,n)>=0||(a[n]=e[n]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},85299:function(e,t,n){var i=n(20474).default,r=n(7819);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64476:function(e,t,n){var i=n(92984),r=n(48216);function o(t,n){var a;return e.exports=o=i?r(a=i).call(a):function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t,n)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},67375:function(e,t,n){var i=n(86765),r=n(4196),o=n(38899),a=n(56884);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},26848:function(e,t,n){var i=n(55536);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},15687:function(e,t,n){var i=n(14869),r=n(53137),o=n(38899),a=n(57636);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},20474:function(e,t,n){var i=n(52472),r=n(48994);function o(t){return e.exports=o="function"==typeof i&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},38899:function(e,t,n){var i=n(35704),r=n(10349),o=n(64538);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return o(e,t);var a=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?r(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},51398:function(e,t,n){var i=n(54847),r=n(3841),o=n(55536),a=n(64476),s=n(51617),l=n(55067);function u(t){var n="function"==typeof i?new i:void 0;return e.exports=u=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return l(e,arguments,o(this).constructor)}return t.prototype=r(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},28683:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return o}})},12902:function(e,t,n){"use strict";function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[Z]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[q]||!!(null===(t=e.constructor)||void 0===t?void 0:t[q])||p(e)||g(e))}function a(e){return r(e)||i(23,e),e[Z].t}function s(e,t,n){void 0===n&&(n=!1),0===l(e)?(n?Object.keys:Y)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function l(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:g(e)?3:0}function u(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===l(e)?e.get(t):e[t]}function d(e,t,n){var i=l(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return z&&e instanceof Map}function g(e){return G&&e instanceof Set}function h(e){return e.o||e.t}function _(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=J(e);delete t[Z];for(var n=Y(t),i=0;i<n.length;i++){var r=n[i],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),y(e)||r(e)||!o(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&s(e,(function(e,t){return m(t,!0)}),!0)),e}function v(){i(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=X[e];return t||i(18,e),t}function E(e,t){X[e]||(X[e]=t)}function C(){return U}function T(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function D(e){w(e),e.p.forEach(S),e.p=null}function w(e){e===U&&(U=e.l)}function O(e){return U={p:[],l:U,h:e,m:!0,_:0}}function S(e){var t=e[Z];0===t.i||1===t.i?t.j():t.g=!0}function A(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,r),r?(n[Z].P&&(D(t),i(4)),o(e)&&(e=I(t,e),t.l||M(t,e)),t.u&&b("Patches").M(n[Z].t,e,t.u,t.s)):e=I(t,n,[]),D(t),t.u&&t.v(t.u,t.s),e!==$?e:void 0}function I(e,t,n){if(y(t))return t;var i=t[Z];if(!i)return s(t,(function(r,o){return k(e,i,t,r,o,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return M(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=_(i.k):i.o,o=r,a=!1;3===i.i&&(o=new Set(r),r.clear(),a=!0),s(o,(function(t,o){return k(e,i,r,t,o,n,a)})),M(e,r,!1),n&&e.u&&b("Patches").N(i,n,e.u,e.s)}return i.o}function k(e,t,n,i,a,s,l){if(r(a)){var c=I(e,a,s&&t&&3!==t.i&&!u(t.R,i)?s.concat(i):void 0);if(d(n,i,c),!r(c))return;e.m=!1}else l&&n.add(a);if(o(a)&&!y(a)){if(!e.h.D&&e._<1)return;I(e,a),t&&t.A.l||M(e,a)}}function M(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&m(t,n)}function P(e,t){var n=e[Z];return(n?h(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function x(e){e.P||(e.P=!0,e.l&&x(e.l))}function N(e){e.o||(e.o=_(e.t))}function L(e,t,n){var i=p(t)?b("MapSet").F(t,n):g(t)?b("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:C(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=i,o=Q;n&&(r=[i],o=ee);var a=Proxy.revocable(r,o),s=a.revoke,l=a.proxy;return i.k=l,i.j=s,l}(t,n):b("ES5").J(t,n);return(n?n.A:C()).p.push(i),i}function F(e){return r(e)||i(22,e),function e(t){if(!o(t))return t;var n,i=t[Z],r=l(t);if(i){if(!i.P&&(i.i<4||!b("ES5").K(i)))return i.t;i.I=!0,n=j(t,r),i.I=!1}else n=j(t,r);return s(n,(function(t,r){i&&c(i.t,t)===r||d(n,t,e(r))})),3===r?new Set(n):n}(e)}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return _(e)}function B(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Z];return Q.get(t,e)},set:function(t){var n=this[Z];Q.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][Z];if(!r.P)switch(r.i){case 5:i(r)&&x(r);break;case 4:n(r)&&x(r)}}}function n(e){for(var t=e.t,n=e.k,i=Y(n),r=i.length-1;r>=0;r--){var o=i[r];if(o!==Z){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=n[o],l=s&&s[Z];if(l?l.t!==a:!f(s,a))return!0}}var c=!!t[Z];return i.length!==Y(t).length+(c?0:1)}function i(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var i=0;i<t.length;i++)if(!t.hasOwnProperty(i))return!0;return!1}var o={};E("ES5",{J:function(t,n){var i=Array.isArray(t),r=function(t,n){if(t){for(var i=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(i,""+r,e(r,!0));return i}var o=J(n);delete o[Z];for(var a=Y(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(i,t),o={i:i?5:4,A:n?n.A:C(),P:!1,I:!1,R:{},l:n,t:t,k:r,o:null,g:!1,C:!1};return Object.defineProperty(r,Z,{value:o,writable:!0}),r},S:function(e,n,o){o?r(n)&&n[Z].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Z];if(n){var r=n.t,o=n.k,a=n.R,l=n.i;if(4===l)s(o,(function(t){t!==Z&&(void 0!==r[t]||u(r,t)?a[t]||e(o[t]):(a[t]=!0,x(n)))})),s(r,(function(e){void 0!==o[e]||u(o,e)||(a[e]=!1,x(n))}));else if(5===l){if(i(n)&&(x(n),a.length=!0),o.length<r.length)for(var c=o.length;c<r.length;c++)a[c]=!1;else for(var d=r.length;d<o.length;d++)a[d]=!0;for(var f=Math.min(o.length,r.length),p=0;p<f;p++)o.hasOwnProperty(p)||(a[p]=!0),void 0===a[p]&&e(o[p])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):i(e)}})}n.d(t,{Js:function(){return a},Vk:function(){return F},mv:function(){return r},o$:function(){return o},pV:function(){return B},vV:function(){return m}});var W,U,H="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),z="undefined"!=typeof Map,G="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=H?Symbol.for("immer-nothing"):((W={})["immer-nothing"]=!0,W),q=H?Symbol.for("immer-draftable"):"__$immer_draftable",Z=H?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},X={},Q={get:function(e,t){if(t===Z)return e;var n=h(e);if(!u(n,t))return function(e,t,n){var i,r=R(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!o(i)?i:i===P(e.t,t)?(N(e),e.o[t]=L(e.A.h,i,e)):i},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var i=R(h(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=P(h(e),t),o=null==r?void 0:r[Z];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(f(n,r)&&(void 0!==n||u(e.t,t)))return!0;N(e),x(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.R[t]=!1,N(e),x(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},ee={};s(Q,(function(e,t){ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ee.deleteProperty=function(e,t){return ee.set.call(this,e,t,void 0)},ee.set=function(e,t,n){return Q.set.call(this,e[0],t,n,e[0])};var te=function(){function e(e){var t=this;this.O=V,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return s.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(r))}))}}var l;if("function"!=typeof n&&i(6),void 0!==r&&"function"!=typeof r&&i(7),o(e)){var u=O(t),c=L(t,e,void 0),d=!0;try{l=n(c),d=!1}finally{d?D(u):w(u)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return T(u,r),A(e,u)}),(function(e){throw D(u),e})):(T(u,r),A(l,u))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===$&&(l=void 0),t.D&&m(l,!0),r){var f=[],p=[];b("Patches").M(e,l,f,p),r(f,p)}return l}i(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var i,r,o=t.produce(e,n,(function(e,t){i=e,r=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,i,r]})):[o,i,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||i(8),r(e)&&(e=F(e));var t=O(this),n=L(this,e,void 0);return n[Z].C=!0,w(t),n},t.finishDraft=function(e,t){var n=(e&&e[Z]).A;return T(n,t),A(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!V&&i(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var o=b("Patches").$;return r(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ne=new te,ie=ne.produce;ne.produceWithPatches.bind(ne),ne.setAutoFreeze.bind(ne),ne.setUseProxies.bind(ne),ne.applyPatches.bind(ne),ne.createDraft.bind(ne),ne.finishDraft.bind(ne);t.ZP=ie}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,a),n.exports}a.m=r,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return"js/b6062c4/"+({308:"devtools",402:"callback",535:"chatcontainer",711:"debug",772:"webRTCCall",963:"omnichannelMenu"}[e]||e)+".js"},a.miniCssF=function(e){return"css/b6062c4/"+({402:"callback",535:"chatcontainer",711:"debug",772:"webRTCCall",963:"omnichannelMenu"}[e]||e)+".widget.css"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="widget_react:",a.l=function(n,i,r,o){if(e[n])e[n].push(i);else{var s,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+r){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[i];var f=function(t,i){s.onerror=s.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(i)})),t)return t(i)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/public",n=function(e){return new Promise((function(t,n){var i=a.miniCssF(e),r=a.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(a=n[i]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var a;if((r=(a=o[i]).getAttribute("data-href"))===e||r===t)return a}}(i,r))return t();!function(e,t,n,i){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=function(o){if(r.onerror=r.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,r.parentNode.removeChild(r),i(l)}},r.href=t,function(e){window.parent.jivo_cspNonce&&e.setAttribute("nonce",window.parent.jivo_cspNonce);var t=window.parent.document.getElementsByTagName("head")[0];if(!t)throw new Error("Error inserting css:",e.href,"Reason: no head");{const n=t.querySelector(`[href*="${e.href.split("/css")[1]}"]`);n&&t.removeChild(n),t.appendChild(e)}}(r)}(e,r,t,n)}))},i={296:0},a.f.miniCss=function(e,t){i[e]?t.push(i[e]):0!==i[e]&&{116:1,402:1,535:1,711:1,772:1,963:1}[e]&&t.push(i[e]=n(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))},function(){var e={296:0};a.f.j=function(t,n){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=r);var o=a.p+a.u(t),s=new Error;a.l(o,(function(n){if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,r,o=n[0],s=n[1],l=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)l(a)}for(t&&t(n);u<o.length;u++)r=o[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkwidget_react=self.webpackChunkwidget_react||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=a(17907),t=a(33180),n=e(a(4855)),i=e(a(35802)),r=a(44145),o=a(97615),s=a(45948);n.default.setLogsEnabled((0,r.getFeatures)().logs);n.default.name("index");const l=new i.default;!o.EnvironmentManager.isWidgetConstructor()&&!s.isPopupConstructor&&((0,r.getClient)().clientId&&(0,r.getApp)().chatStarted&&!(0,r.getApp)().maintenance&&!(0,r.getFeatures)().recaptcha)||t.cssLoader.subscribe((()=>{l.start()}),(()=>{l.stop()}))}()}();</script></head><body></body></html>